!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/etc.clientlibs/servicenow-aem-dotcom/clientlibs/",n(n.s=38)}([function(e,t){window.sendData=function(){const e="https://31e8cetk75.execute-api.us-west-2.amazonaws.com/v1/?id=111111223412341531543&env=test&",t=0===arguments.length?"":arguments[0],n=0===arguments.length||void 0===arguments[1]?"":arguments[1],o=Visitor.getInstance("2A2A138653C66CB60A490D45@AdobeOrg").getMarketingCloudVisitorID(),a=getCookie("mids_uuid"),s=encodeURIComponent(window.location.href),i=encodeURIComponent(document.referrer),r=new Date,l=`eventType=${t}&timeStamp=${r}&mcid=${o}&page_url=${s}&referrer=${i}&mids_uuid=${a}${n}`,c=e+l;navigator.sendBeacon(c,l)},window.getCorrectHrefLang=function(e){if(!e)return"en-US";if(e.includes("-"))return e;if("ja"===e)return"ja-JP";if("ko"===e)return"ko-KR";const t=document.querySelectorAll("link[rel=alternate]"),n=window.location.origin+window.location.pathname;let o="";for(const e of t){const t=e.href,a=e.hreflang;if(t&&t.includes(n)&&a&&a.includes("-")){o=a;break}}return o||"en-US"},window.getElementsHeights=function(e){let t=0;return Array.prototype.forEach.call(e,(function(e){t+=e.offsetHeight})),t},window.setCookie=function(e,t,n){if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3);var o="expires="+e.toUTCString()}else o="";document.cookie=`${e}=${t};${o}; path=/`},window.deleteCookie=function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},window.getCookie=function(e){const t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},window.getValueByParamKey=function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},window.ratioVariation=function(e){return(e=$(e)).hasClass("ratio-90-percent")?1.97530864:e.hasClass("ratio-70-percent")?2.53968254:e.hasClass("ratio-50-percent")?3.55555556:1.77777778},window.setRatio=function(e,t){const n=(e=$(e)).width()/t;e.height(n)},window.setMinHeight=function(e,t){const n=(e=$(e)).width()/t;e.css("min-height",n)},window.setHeight=function(e,t,n){e=$(e);const o=$(t).outerHeight(!0),a=$(n).outerHeight(!0);e.height(a-o)};const n={runOnload:[".hero-marquee-component",".tabs-to-carousel"],runOnScroll:[".tabs-to-carousel",".component-content-block"]};for(var o in n)n[o].forEach((function(e){"runOnload"==o?$(e).each((function(){"autoplay"!=$(this).find("video").attr("autoplay")&&"true"!=$(this).find("video").attr("autoplay")||$(this).find("video").get(0).play()})):"runOnScroll"==o&&$(e).each((function(){let e=!1;const t=this;$(t).find("video").trigger("pause"),$(window).on("scroll",(function(n){const o=$(this).scrollTop(),a=$(this).height(),s=o+a;if($(t).find("video").eq(0).length>0){const e=(i=$(t).find("video").eq(0).offset().top)+$(t).find("video").eq(0).outerHeight(!0)-i,n=$(t).find("video").eq(0)[0].getBoundingClientRect();n.top+e/2>=0&&n.bottom-e/2<=a?$(t).find("video").eq(0).trigger("play"):$(t).find("video").eq(0).trigger("pause")}var i;$(this).outerWidth()<768&&($(t).hasClass("tabs-to-carousel")&&$(t).find(".carousel-wrap").find("video").eq(0).length>0&&s>(i=$(t).find(".carousel-wrap").find("video").eq(0).offset().top)&&!e&&($(t).find(".carousel-wrap").find("video").eq(0).trigger("play"),e=!0))}))}))}));if($("a.anchorInactive").click((function(e){e.preventDefault()})),function(e){e.fn.paraeffect=function(t){t={start_scroll:()=>e(window).outerWidth(!0)>767?.3:.25,speed:1,offset:150,parent_el:".bg-transition"};this.each((function(){const n=e(this);let o=n.data("paraeffect");o=e.extend({},t,o);const a=n.closest(o.parent_el);let s,i,r,l;const c=o.start_scroll(),d=o.offset;n.css({transform:`matrix(1, 0, 0, 1, 0,${o.offset})`}),e(window).on("scroll",(function(){const t=e(this).scrollTop();s=a.offset().top,i=a.outerHeight(),t+e(this).outerHeight()>s+i*c&&t<s+i?(r=d/(.5*(s+i*c-t)+.5*i),l=-(t+e(this).outerHeight()-(s+i*c))*r+d,l>-d?n.css({transform:`translate3d(0,${l}px, 0)`}):n.css({transform:`translate3d(0,${-d}px, 0)`})):t>s+i?n.css({transform:`translate3d(0,${-d}px, 0)`}):n.css({transform:`translate3d(0,${d}px, 0)`})}))}))}}(jQuery),$(".parallax-effect-front").length){$(".parallax-effect-front").each((function(e){$(this).parents(".component-content-block").attr("data-para-index-front","index"+e)}));var a=function(){$(".component-content-block").each((function(e){const t=new ScrollMagic.Controller,n=$(this).attr("data-para-index-front");if($(window).outerWidth()>1023)var o=300,a=.62;else if($(window).outerWidth()<=1023&&$(window).outerWidth()>767)o=200,a=.7;else o=120,a=.8;const s=TweenMax.fromTo($(`[data-para-index-front=${n}] .parallax-effect-front`),90,{y:o},{ease:Linear.easeNone,y:-o});new ScrollMagic.Scene({triggerElement:`[data-para-index-front=${n}]`,triggerHook:a,duration:"125%"}).setTween(s).addTo(t)}))};$(window).on("load",a),$(window).on("resize",a)}if($(".parallax-effect-back").length){$(".parallax-effect-back").each((function(e){$(this).parents(".component-content-block").attr("data-para-index-back","index"+e)}));a=function(){$(".component-content-block").each((function(e){const t=new ScrollMagic.Controller,n=$(this).attr("data-para-index-back");if($(window).width()>767)var o=300,a=.62;else o=120,a=.8;const s=TweenMax.fromTo($(`[data-para-index-back=${n}] .parallax-effect-back`),90,{y:o},{ease:Linear.easeNone,y:-o});new ScrollMagic.Scene({triggerElement:`[data-para-index-back=${n}]`,triggerHook:a,duration:"90%"}).setTween(s).addTo(t)}))};$(window).on("load",a),$(window).on("resize",a)}$(".cus-logo-svg").each((function(){const e=$(this),t=e.attr("id"),n=e.attr("class"),o=e.attr("src"),a=e.attr("data-svg-color");$.get(o,(function(o){let s=$(o).find("svg");void 0!==t&&(s=s.attr("id",t)),void 0!==n&&(s=s.attr("class",n+" replaced-inlinesvg")),s.find(".elColorChange").each((function(){$(this).addClass(a)})),s=s.removeAttr("xmlns:a"),e.replaceWith(s)}),"xml")})),window.clearServicenowAnonymousData=function(){ContextHub.getStore("servicenow-anonymous")&&ContextHub.getStore("servicenow-anonymous").getItem("UserData")&&(ContextHub.getStore("servicenow-anonymous").setItem("UserData",null),deleteCookie("isAnonUser"))},sessionStorage.getItem("anonFlag")||clearServicenowAnonymousData(),window.widgetRender=function(e,t,n){let o;o=grecaptcha.render(e,{sitekey:"6Lc4XHAUAAAAABSFGSTYQheacoJo5S5BgOyExoE7",callback:t,"error-callback":n,"expired-callback":n})},window.successCallback=function(e,t){const n=$("#"+e),o=n.parent();t?(n.addClass("verified"),o.find(".LV_invalid").length&&o.find(".LV_invalid").text("").removeClass("on LV_validation_message LV_invalid"),o.find(".is-required.on").length&&o.find(".is-required.on").text("").removeClass("on")):n.removeClass("verified")},window.errorCallback=function(e){$("#"+e).removeClass("verified")},window.validateReCaptcha=function(){widgetRender("recaptchaForm",validateReCaptchaCallback,errCallback)},window.validateReCaptchaSSO=function(){widgetRender("recaptchaSSO",validateReCaptchaSSOCallback,errCallbackSSO)},window.errCallback=function(e){errorCallback.call(this,"recaptchaForm")},window.errCallbackSSO=function(e){errorCallback.call(this,"recaptchaSSO")},window.validateReCaptchaCallback=function(e){successCallback.call(this,"recaptchaForm",e)},window.validateReCaptchaSSOCallback=function(e){successCallback.call(this,"recaptchaSSO",e)},window.getServiceConstants=function(e){$.ajax({url:"/bin/servicenow/getserviceconstants",type:"GET",contentType:"application/json",success(t){e.call(this,t)},error(){e.call(this,!1)}})},window.getQueryStringParamValue=function(e){const t=document.location.href;let n="";return-1!=t.indexOf("?")?(n=t.substr(t.indexOf("?")+1),-1!=n.toLowerCase().indexOf(e)?(n=n.substr(n.toLowerCase().indexOf(e)),n=n.substr(n.indexOf("=")+1),-1!=n.indexOf("&")&&(n=n.substr(0,n.indexOf("&"))),n):(n="",n)):(n="",n)},window.randomize=function(e){return Math.floor(Math.random()*e+1)},$('link[type="image/x-icon"]').each((function(){$(this).attr("href").indexOf("favicon")>-1&&$(this).attr("href","https://www.servicenow.com/content/dam/servicenow-assets/public/en-us/images/og-images/favicon.ico")})),window.lineBreaks=function(){$(".component-tile-text-container p").each((function(){const e=$(this);let t=e.html();t=t.replace(/\./g,"<br>"),e.html(t)}))},$(location).attr("href").includes("/company/locations.html")&&lineBreaks()},function(e,t){$(window).load((function(){document.addEventListener("click",(function(e){const{target:t}=e;if(t.classList.contains("track-asset")){if(t.classList.contains("performing-track-asset-request"))return void e.preventDefault();let n="",o="";const a=t.getAttribute("href"),s=t.getAttribute("target"),i=t.dataset.activitytype;let r=null;r="_blank"===s?"_blank":"_self",a&&"undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")&&(n=ContextHub.getStore("servicenow-sso").getItem("userName"),o=`${ContextHub.getStore("servicenow-sso").getItem("fName")} ${ContextHub.getStore("servicenow-sso").getItem("LName")}`,n?(e.preventDefault(),t.classList.add("performing-track-asset-request"),window.open(a,r),$.ajax({url:"/bin/servicenow/assettrack",type:"POST",data:{activityValue:a,userEmail:n,activityType:i,username:o,pageUrl:window.location.href},success(e){}}).always((function(){t.classList.remove("performing-track-asset-request")}))):window.open(a,r))}}))}))},function(e,t){window.UFConst=function(){const e={requiredMessage:Granite.I18n.get("required"),atLeast8Character:Granite.I18n.get("atleast8characters"),atLeastOneLower:Granite.I18n.get("atleastonelowercase"),atLeastOneUpper:Granite.I18n.get("atleastoneuppercase"),atLeastOneNumber:Granite.I18n.get("atleastonenumber"),atLeastOneSymbol:Granite.I18n.get("atleastonesymbol"),upTo40Chars:Granite.I18n.get("upto40chars"),companyMustOnlyLetters:Granite.I18n.get("companymustonlyletters"),htmlTagErrorMsg:Granite.I18n.get("noHTMLTagsAllowed"),numberOnly:Granite.I18n.get("Numbers only"),mustBetween5And22:Granite.I18n.get("mustbeween5and22"),mustbebetween7and22:Granite.I18n.get("mustbebetween7and22"),noNumbersOnly:Granite.I18n.get("noNumbersOnly"),noRepeatPattern:Granite.I18n.get("noRepeatPattern"),noRepeatPunctuation:Granite.I18n.get("noRepeatPunctuation"),titleRestricted:Granite.I18n.get("titleRestricted"),noScriptTags:Granite.I18n.get("noScriptTags"),sameNumberForAllDigitsError:Granite.I18n.get("samenumberforalldigitserror"),serviceNowErrorDomain:Granite.I18n.get("servicenowemployeespleasesigninwithyourcredentials"),emailNotValid:Granite.I18n.get("emailisnotvaliderror"),emailCannotContainProviderWarning:Granite.I18n.get("emailcannotcontainproviderwarning"),invalidCredentialTryAgain:Granite.I18n.get("invalidcredentialstryagainlabel"),textAreaMsg:Granite.I18n.get("textareaOver5000"),passwordCantContainPartEmail:Granite.I18n.get("passwordcantcontainpartemail"),unableToFindAccount:Granite.I18n.get("unabletofinaccounterror"),oopsError:Granite.I18n.get("oopserror"),systemError:Granite.I18n.get("systemerror"),badRequestError:Granite.I18n.get("badrequesterror"),smsLength:Granite.I18n.get("smsLength"),checkemailerror:Granite.I18n.get("checkemailerror"),smsFormat:Granite.I18n.get("smsFormat"),passwordDontMatchError:Granite.I18n.get("passworddontmatcherror"),passwordInvalidError:Granite.I18n.get("passwordinvaliderror"),checkPassError:Granite.I18n.get("checkpasserror"),exceededError:Granite.I18n.get("exceedederror"),emailrequired:Granite.I18n.get("requiredemail"),secondaryEmailRequired:Granite.I18n.get("required"),secondaryMailEqualsPrimary:Granite.I18n.get("secondaryMailEqualsPrimary"),emailNotValidatedError:Granite.I18n.get("notValidatedEmailError"),passwordLengthLogin:Granite.I18n.get("passwordLengthLogin"),lengthTooLongChangePass:Granite.I18n.get("lengthTooLongChangePass"),passwordLinkExpired:Granite.I18n.get("passwordLinkExpired"),wafErrorAtRegistration:Granite.I18n.get("wafErrorAtRegistration"),emailisnotvaliderror:Granite.I18n.get("emailisnotvaliderror"),invalidCredentials:Granite.I18n.get("Invalid Credentials"),missingRequestParams:Granite.I18n.get("missingRequestParams"),userAlreadyExists:Granite.I18n.get("User already exists"),passwordRules:Granite.I18n.get("Please satisfy password requirements"),accountCreationFailed:Granite.I18n.get("accountCreationFailed"),ufManageProfileError:Granite.I18n.get("ufManageProfileError")},t={DELETE_ACC_EMAIL:"deleteaccountemail"===Granite.I18n.get("deleteaccountemail")?"webpublishing@servicenow.com":Granite.I18n.get("deleteaccountemail"),email_subject:Granite.I18n.get("delete_account_email_subject"),email_body:Granite.I18n.get("delete_account_email_body")},n=window.serviceConstants?window.serviceConstants.oktaClientId:"0oakzlc2t3W1goPqt0x7",o=window.serviceConstants?window.serviceConstants.seamlessRedirectUri:"/bin/servicenow/v2/token",a=`${window.location.protocol}//${window.location.host}`,s={validateMS:"/api/myaccount/users/v1/validate",loginMS:"/api/myaccount/v1/login",registrationMS:"/api/myaccount/v1/registration",updateProfileMS:"/bin/servicenow/user/v3/updateprofile",login_url:"/bin/servicenow/user/login",get_profile_url:"/bin/servicenow/user/profile",session_url:"/api/v1/sessions/me",registration_url:"/bin/servicenow/user/registration",registration_V2_url:"/bin/servicenow/user/v2/registration",update_profile_url:"/bin/servicenow/user/updateprofile",update_profile_url_v2:"/bin/servicenow/user/v2/updateprofile",forgot_password_url:"/bin/servicenow/user/forgotpassword",forgot_password_MS:"/api/myaccount/v1/forgotpassword",change_password_url:"/bin/servicenow/user/changepassword",change_password_MS:"/api/myaccount/v1/resetpassword",validate_url:"/bin/servicenow/user/validate",context_hub_servlet_url:"/bin/servicenow/user/contexthubuserprofile",context_hub_event_registration_url:"/bin/servicenow/user/contexthubeventregistration",encryptdecrypt:"/bin/servicenow/user/encryptdecrypt",auth_api_query_param:window.serviceConstants?window.serviceConstants.authApiQueryParams:`?client_id=${n}&response_type=code token id_token&response_mode=form_post&scope=openid+profile&redirect_uri=${a}${o}&state=seamless&nonce=ServiceNowAemUser`,service_constant_url:"/bin/servicenow/getserviceconstants",account_linking_url:"/bin/servicenow/user/linkprofile",aem_logout:"/system/sling/logout",delete_httpOnly_cookie:"/bin/servicenow/user/deletecookies"},i=function(){let e=window.location.origin;const t=window.location.pathname;if(-1!==t.indexOf("/content/servicenow/www/locale-sites")||-1!==t.indexOf("/content/servicenow/www/language-masters")){const n=t.split("/");let o=n[5];6===n.length&&(o=o.replace(".html","")),e=window.location.origin+"/"+`${n[1]}/${n[2]}/${n[3]}/${n[4]}/${o}`}return e}(),r=window.location.href,l=function(){const e=$(".universalForm:first"),t=UFGeneral(e).getUFCookie("AMCV_2A2A138653C66CB60A490D45%40AdobeOrg");if(!t){let t=null;return"function"==typeof Visitor&&(t=Visitor.getInstance("2A2A138653C66CB60A490D45@AdobeOrg").getMarketingCloudVisitorID()),t||function(e){const t=UFGeneral(e).getUFCookie("s_vi");if(!t){return UFGeneral(e).getUFCookie("s_fid")}return t}(e)}return function(e){if(e.indexOf("MCMID%7C")>=0){const t=e.indexOf("MCMID%7C")+8,n=e.substring(t,e.length);return n.substring(0,n.indexOf("%7C"))}return null}(t)}();return{APAC:["AU","BD","BT","BN","KH","CN","HK","IN","ID","JP","LA","MO","MM","NZ","PK","PH","SG","KR","TW","TH","VN"],EMEA:["AT","BE","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","IS","LI","NO","HR"],API_URLS:s,DELETEACCOUNT:t,AUTO_SIGIN_COUNTER:1500,REDIRECT_COOKIE_EXP:1/24,EMAIL_VALIDATION_COOKIE_EXP:1,AUTO_LOGIN_COUNT:5,DEMONOW_URL:"demo/demonow.html",QUERY_KEYS:{link_id:"linkId"},PROTOCOL_UF_HOST:i,CURRENT_PAGE_URL:r,attemptsMaxAmount:void 0,YOUR_OKTA_DOMAIN:window.serviceConstants?window.serviceConstants.yourOktaDomain:"https://servicenowsignon.okta.com",$_okta_user_id:void 0,MCID:l,UF_CONTAINER_OVERLAY_LOAD:".UF-container-overlay-load:first",LOGIN_VIEW_ID:"#login-sub-wrapper",EMAIL_VALIDATION_VIEW_ID:"#validate-email-wrapper",FORGOT_PASSWORD_ID:"#forgot-password-wrapper",ERRORMESSAGES:e,VIEW_YOUR_PROFILE_ID:"#view-your-profile",FORGOT_PASSWORD_ID:"#forgot-password-wrapper",NO_SN:"/bin/servicenow/eloquaSubmit",GET_SN:"/bin/servicenow/user/registration",ANONUSER_COOKIE_EXP:1,OKTA_AUTHORIZE_API_URL:window.serviceConstants?window.serviceConstants.oktaAuthorizeApiUrl:"/oauth2/default/v1/authorize",SITEKEY:"6Lc4XHAUAAAAABSFGSTYQheacoJo5S5BgOyExoE7",DOM:{ELEMENTS:{PRIMARY_MAIL:'[type="text"][name="email"]',SECONDARY_MAIL:'[type="text"][name="secondaryEmail"]',RADIO_WRAPPER:".UF-radio-btn-selection-sec"},CSS:{HIDE_FIELD:"hide"}},EMAIL_PATTERN:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,20}(?:\.[a-z]{2})?)$/i,SERVICENOW_EMAIL_PATTERN:/^([\w-]+(?:\.[\w-]+)*)@servicenow.com$/i}}},function(e,t){window.UFGeneral=function(e){const t=e.find("#my-account-your-profile"),n=e.find(".UF-general-back-arrow-container"),o=e.find(".universal-form-wrapper"),a=o.hasClass("form-in-overlay"),s=e.find(".inner-view form"),i=e.find(".inner-view").first(),r=i.hasClass("formless"),l=i.hasClass("download-asset"),c=e.find('[name="t_c"]').siblings("div.UF-checkbox").find("span.UF-acceptance a"),d=e.find('[name="t_c"]').siblings("div.UF-checkbox").find("span.all-together .term-use-url"),u=e.find(".UF-container-50.left-side .inner-content-container"),m=e.find(".UF-container-50.right-side .inner-content-container"),p=e.find(".UF-container-50.left-side .left-media-list-container .media-list-wrapper .full-bleed-asset"),f=o.attr("data-is-author-mode"),g=e.find(".UF-error-msg"),h=/([!,@,#,$,%,+,",',^,&,*,(,),~,},|,{,`,_,?,<,>,=,:,;,’,/,\\,,,.,\-,\],[])+/g;function v(t){const n=i.hasClass("login"),o=i.hasClass("forgot-password"),a=i.hasClass("create-account"),s=i.hasClass("manage-your-profile"),c=i.hasClass("change-password"),d=i.hasClass("validate-email"),u=i.hasClass("view-your-profile"),m=i.hasClass("create-account-thankyou"),p=i.hasClass("inner-view-events"),f=i.hasClass("inner-secondary-event-variation");t&&function(){"function"==typeof populateEloquaDropdowns?populateEloquaDropdowns():($('<script language="javascript" type="text/javascript" src="/content/dam/servicenow-assets/eloqua/eloqua-dropdowns.min.js"><\/script>').appendTo(e),$('<script type="text/javascript" src="/content/dam/servicenow-assets/eloqua/botcapture.js"><\/script>').appendTo(e));r?UFOnLoadFormless(e):l?UFThankYouPage(e):UFOnLoadMyAccount(e)}(),o&&UFForgotPassword(e),a&&(UFCreateAccount(e),(p||f)&&initEventRegistrationFlow(e)),s&&UFManageProfile(e),n&&UFLogin(e),c&&UFChangePassword(e),d&&UFValidateEmail(e),u&&UFViewYourProfile(e),m&&UFRegisterThankYou(e)}function w(){const t=function(){let e="";return o.length&&(e=o.attr("data-page-path")),e}();""!=t&&UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)}function y(){let e="";return i.length&&i.find(".UF-secondary-cta")&&(e=i.find(".UF-secondary-cta").attr("data-secondary-cta-path")),e}function b(){const t=function(){let e="";return o.length&&(e=o.find(".inner-view:first").attr("data-view-your-profile-path")),e}();""!=t&&null!=t&&UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)}function C(){let e="";return i.length&&(e=i.attr("data-email-validation-path")),e}function S(e){const t=e.find(".loading-layer");e.addClass("showing-loading-spinner"),t.addClass("show-loading-layer")}function x(e){const t=e.find(".loading-layer");e.removeClass("showing-loading-spinner"),t.removeClass("show-loading-layer")}function k(){I("servicenow-sso","optInFlag",null),I("servicenow-sso","login",null),I("servicenow-sso","createdBy",null),I("servicenow-sso","createdOn",null),I("servicenow-sso","userName",null),I("servicenow-sso","firstName",null),I("servicenow-sso","lastName",null),I("servicenow-sso","fName",null),I("servicenow-sso","LName",null),I("servicenow-sso","industryGeneric",null),I("servicenow-sso","email",null),I("servicenow-sso","myEmail",null),I("servicenow-sso","secondaryEmail",null),I("servicenow-sso","uuid",null),I("servicenow-sso","userCode",null),I("servicenow-sso","updatedBy",null),I("servicenow-sso","updatedOn",null),I("servicenow-sso","userId",null),I("servicenow-sso","company",null),I("servicenow-sso","companySs",null),I("servicenow-sso","businessPhone",null),I("servicenow-sso","businessPhoneSs",null),I("servicenow-sso","jobLevel",null),I("servicenow-sso","jobLevelSs",null),I("servicenow-sso","jobRole",null),I("servicenow-sso","jobRoleSs",null),I("servicenow-sso","country",null),I("servicenow-sso","countrySs",null),I("servicenow-sso","emailValidated",null),I("servicenow-sso","jobFunction",null),I("servicenow-sso","jobFunctionSs",null),I("servicenow-sso","state",null),I("servicenow-sso","stateSs",null),I("servicenow-sso","status",null),I("servicenow-sso","termsCondFlag",null),I("servicenow-sso","termsCondChecked",null),I("servicenow-sso","optinChecked",null),I("servicenow-sso","optin",null),I("servicenow-sso","termsUseUrl",null),I("servicenow-sso","privacyUrl",null),I("servicenow-sso","no_no",null),I("servicenow-sso","businessUnit",null),I("servicenow-sso","productInterest",null),I("servicenow-sso","campaignId",null),I("servicenow-sso","campaign_type",null),I("servicenow-sso","ssoUserId",null),I("servicenow-sso","account_id",null),I("servicenow-sso","accountId",null),I("servicenow-sso","jobTitle",null),I("servicenow-sso","account_segment",null),I("servicenow-sso","account_type",null),I("servicenow-sso","industryGeneric",null),I("servicenow-sso","industrySpecific",null),I("servicenow-sso","mcid",null),I("servicenow-sso","okta_id",null),I("servicenow-sso","oktaId",null),I("servicenow-sso","industry_specific",null),I("servicenow-sso","industry_generic",null),I("servicenow-sso","typeText",null),I("servicenow-sso","segement",null),I("servicenow-sso","next_best_product",null),I("servicenow-sso","nextBestProduct",null),I("servicenow-sso","bu_customer_product_itsm",null),I("servicenow-sso","bu_customer_product_itom",null),I("servicenow-sso","bu_customer_product_itbm",null),I("servicenow-sso","bu_customer_product_hr",null),I("servicenow-sso","bu_customer_product_csm",null),I("servicenow-sso","bu_customer_product_pa",null),I("servicenow-sso","bu_customer_product_security",null),I("servicenow-sso","bu_customer_product_platform",null),I("servicenow-sso","crossSell",null),I("servicenow-sso","upSell",null),I("servicenow-sso","has_support_plan",null),I("servicenow-sso","userLoaded",null),I("servicenow-sso","progressiveProfileChecked",null),I("servicenow-sso","registered",null),I("servicenow-sso","account_name",null),I("servicenow-sso","account_number",null),I("servicenow-sso","oldest_product_family",null),I("servicenow-sso","latest_product_family",null),I("servicenow-sso","current_servicenow_family",null),I("servicenow-sso","implementation_status",null),I("servicenow-sso","application_name",null),I("servicenow-sso","recBU1",null),I("servicenow-sso","propensityBU1",null),I("servicenow-sso","app_usage",null)}function E(e){return ContextHub.getStore(e)}function I(e,t,n){if(!ContextHub.getStore(e))return null;ContextHub.getStore(e).setItem(t,n)}function F(e,t){return ContextHub.getStore(e)?ContextHub.getStore(e).getItem(t):null}function U(e){I("servicenow-sso","account_id",null!=e.accountId?e.accountId:""),I("servicenow-sso","account_name",null!=e.accountName?e.accountName:""),I("servicenow-sso","account_segment",null!=e.accountSegment?e.accountSegment:""),I("servicenow-sso","account_type",null!=e.accountType?e.accountType:""),I("servicenow-sso","businessPhone",null!=e.businessPhoneSs?e.businessPhoneSs:null!=e.businessPhone?e.businessPhone:""),I("servicenow-sso","businessUnit",null!=e.businessUnit?e.businessUnit:""),I("servicenow-sso","campaign_type",null!=e.campaignType?e.campaignType:""),I("servicenow-sso","company",null!=e.companySs?e.companySs:null!=e.company?null!=e.company:""),I("servicenow-sso","country",null!=e.countrySs?e.countrySs:null!=e.countryCode?e.countryCode:""),I("servicenow-sso","emailValidated",null!=e.emailValidated?e.emailValidated:""),I("servicenow-sso","fName",null!=e.firstName?e.firstName:""),I("servicenow-forms","name",null!=e.firstName?e.firstName:""),I("servicenow-sso","jobRole",null!=e.jobRoleSs?e.jobRoleSs:""),I("servicenow-sso","jobTitle",null!=e.jobTitleSs?e.jobTitleSs:null!=e.jobTitle?e.jobTitle:""),I("servicenow-sso","jobFunction",null!=e.jobFunctionSs?e.jobFunctionSs:""),I("servicenow-sso","jobLevel",null!=e.jobLevelSs?e.jobLevelSs:""),I("servicenow-sso","LName",null!=e.lastName?e.lastName:""),I("servicenow-sso","campaignId",null!=e.lastCampaignId?e.lastCampaignId:""),I("servicenow-sso","myEmail",null!=e.email?e.email:""),I("servicenow-sso","optinChecked",null!=e.optInFlag?e.optInFlag:""),document.dispatchEvent(new CustomEvent("contexthub:optinChecked",{detail:null!=e.optInFlag?e.optInFlag:""})),I("servicenow-sso","privacyUrl",null!=e.privacyUrl?e.privacyUrl:""),I("servicenow-sso","productInterest",null!=e.productInterest?e.productInterest:""),I("servicenow-sso","ssoUserId",null!=e.ssoUserId?e.ssoUserId:null!=e.userId?e.userId:""),I("servicenow-sso","state",null!=e.stateSs?e.stateSs:null!=e.state?e.state:""),I("servicenow-sso","region",null!=e.region?e.region:""),I("servicenow-sso","termsCondChecked",null!=e.termCondFlag?e.termCondFlag:""),I("servicenow-sso","termsUseUrl",null!=e.termCondUrl?e.termCondUrl:""),I("servicenow-sso","mcid",null!=e.mcId?e.mcId:""),I("servicenow-sso","okta_id",null!=e.oktaId?e.oktaId:""),I("servicenow-sso","industry_specific",null!=e.industrySpecific?e.industrySpecific:""),I("servicenow-sso","industry_generic",null!=e.industryGeneric?e.industryGeneric:""),I("servicenow-sso","typeText",null!=e.typeText?e.typeText:""),I("servicenow-sso","segement",null!=e.segement?e.segement:""),I("servicenow-sso","next_best_product",null!=e.nextBestProduct?e.nextBestProduct:""),I("servicenow-sso","bu_customer_product_itsm",null!=e.buCustomerProductItsm?e.buCustomerProductItsm:""),I("servicenow-sso","bu_customer_product_itom",null!=e.buCustomerProductItom?e.buCustomerProductItom:""),I("servicenow-sso","bu_customer_product_itbm",null!=e.buCustomerProductItbm?e.buCustomerProductItbm:""),I("servicenow-sso","bu_customer_product_hr",null!=e.buCustomerProductHr?e.buCustomerProductHr:""),I("servicenow-sso","bu_customer_product_csm",null!=e.buCustomerProductCsm?e.buCustomerProductCsm:""),I("servicenow-sso","bu_customer_product_pa",null!=e.buCustomerProductPa?e.buCustomerProductPa:""),I("servicenow-sso","bu_customer_product_security",null!=e.buCustomerProductSecurity?e.buCustomerProductSecurity:""),I("servicenow-sso","bu_customer_product_platform",null!=e.buCustomerProductPlatform?e.buCustomerProductPlatform:""),I("servicenow-sso","crossSell",null!=e.crossSell?e.crossSell:""),I("servicenow-sso","upSell",null!=e.upSell?e.upSell:""),I("servicenow-sso","has_support_plan",null!=e.hasSupportPlan?e.hasSupportPlan:""),I("servicenow-sso","secondaryEmail",null!=e.secondaryEmail?e.secondaryEmail:""),I("servicenow-sso","account_number",null!=e.accountNumber?e.accountNumber:""),I("servicenow-sso","oldest_product_family",null!=e.oldestProductFamily?e.oldestProductFamily:""),I("servicenow-sso","latest_product_family",null!=e.latestProductFamily?e.latestProductFamily:""),I("servicenow-sso","current_servicenow_family",null!=e.currentServicenowFamily?e.currentServicenowFamily:""),I("servicenow-sso","implementation_status",null!=e.implementationStatus?e.implementationStatus:""),I("servicenow-sso","application_name",null!=e.applicationName?e.applicationName:""),I("servicenow-sso","recBU1",null!=e.recBU1?e.recBU1:""),I("servicenow-sso","app_usage",null!=e.appUsage?e.appUsage:""),I("servicenow-sso","propensityBU1",null!=e.propensityBU1?e.propensityBU1:""),I("servicenow-sso","userLoaded",null!==e.email)}function L(){var e;E("servicenow-events")&&(e="servicenow-events",ContextHub.getStore(e).clean())}function T(e){const t=e+"=",n=document.cookie,o=n.indexOf(';"')>-1?n.split(/(;)([^;"])/g):n.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function _(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function A(t){k(),L(),_("idToken"),_("userId"),_("accessToken"),_("login-token"),_("seamlessLogin"),_("userFName"),_("upgradeSeamlessLogin"),sessionStorage.removeItem("userName"),sessionStorage.removeItem("k21IsAutoLogin"),O("isFromProfileLinking",window.location.href)||(UFGeneral(e).deleteUFCookie("isEmailValidated"),UFGeneral(e).deleteUFCookie("primaryAddress"),UFGeneral(e).deleteUFCookie("linkedAddress")),t&&(UFGeneral(e).setUFCHValue("servicenow-forms","formlessUserID",null),UFGeneral(e).setUFCHValue("servicenow-forms","isSNEmail",null),UFGeneral(e).setUFCHValue("servicenow-forms","name",null),UFGeneral(e).setUFCHValue("servicenow-forms","timeStamp",null),UFGeneral(e).deleteUFCookie("formlessExperienceEnabled"));const n=$("#tab-UF-myaccount, #tab-UF-myaccount-mobile");if(n.removeClass("logged"),!f||"false"===f){const t=arguments[1];UFGeneral(e).generalServices.deleteHttpOnlyCookie("login-token",(function(e){M.aemLogout(t)}))}}function O(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function N(e){e.removeClass("UF-hide-optin   UF-show-input").addClass("UF-active-optin-sec");e.parents(".inner-view").hasClass("manage-your-profile")||e.find("[name=optin]:checked").prop("checked",!1)}function R(e,t){if(e.addClass("UF-hide-optin UF-show-input").removeClass("UF-active-optin-sec"),e.find("[name=optin]:checked").prop("checked",!1),"undefined"!=typeof GetElqContentPersonalizationValue){if("false"===GetElqContentPersonalizationValue("C_Hi_Contact_Me1").toLowerCase()){GetElqContentPersonalizationValue("C_ExplicitConsentDate1")&&(e.closest("form")[0].optin.value="Yes")}}t.val("")}function q(e,t,n,o){const{status:a,body:s}=o,i=F("servicenow-sso","scopedCountryDownload");(function(e){let t=null;return e&&e.val()&&(t=F("servicenow-sso","scopedCountry")),t})(e)||i?200===a&&"Yes"===s?(R(t,n),t.find("[name=optin][value=Yes]").prop("checked",!0)):N(t):R(t,n)}function P(e,t,n,o,a){const s=e&&e.length>0?e.val():"",i=t.val();if(!i||!s||window.optinActiveEmailxxx===s&&window.optinActiveCountryxxx===i)return;window.optinActiveEmailxxx=s,window.optinActiveEmailxxx=i,G(i,n);let r="https://webapi.servicenow.com";const l=window.location.origin;switch(!0){case l.indexOf("webstg")>-1||l.indexOf("stage-")>-1:r="https://webapi.webstg.servicenow.com";break;case l.indexOf("webqa")>-1||l.indexOf("qa-")>-1:r="https://webapi.webqa.servicenow.com";break;case l.indexOf("webdev")>-1||l.indexOf("dev-")>-1||l.indexOf("localhost")>-1:r="https://webapi.webdev.servicenow.com"}!function(e,t,n,o,a,s){s&&$.ajax({type:"GET",url:e,data:{email:s},success(e){e&&q(n,o,a,e)}})}(r+"/user/preference/v1/optcheck",0,t,o,a,s)}function H(){let e=null;const t=O("elqip",window.location.href);if(sessionStorage.getItem("s_dmdbase_target")){const t=sessionStorage.getItem("s_dmdbase_target");e=JSON.parse(t)["profile.ip"]}else t&&(e=t);return e}function G(e,t){I("servicenow-sso","scopedCountry",null),e&&t.countries[e]&&I("servicenow-sso","scopedCountry",!0)}function D(){window.history.replaceState(null,null,window.location.pathname)}const M={logoutCurrentUser(e){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"DELETE",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){A(!0),window.location.href.indexOf("code=")>-1&&D(),e&&"function"==typeof e&&e.call(this,t)},error(e){A(!0)}})},completeSignout(t){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"DELETE",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(e){window.location.href.indexOf("code=")>-1&&D(),A(!0,()=>window.location.reload())},error(n){A(!0),UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)}})},encryptPassword(t,n,o){$.ajax({url:UFConst().API_URLS.encryptdecrypt,type:"POST",contentType:"application/x-www-form-urlencoded",xhrFields:{withCredentials:!0},crossDomain:!0,data:{subject:t,operationType:"encrypt"},success(e){n.call(this,e)},error(t){if(400!==t.statusCode&&500!==t.statusCode||UFValidator(e).UFinsertSubmitErrorMessage(g,Granite.I18n.get(t.responseString)),UFGeneral(e).hideSpinner(s),o){s.find(".server-error").show();const e=`&email_click_counter=${eventKEmailClickCounter}&first_name_click_counter=${eventKFirstNameClickCounter}\n            &last_name_click_counter=${eventKLastNameClickCounter}&phone_click_counter=${eventKPhoneClickCounter}\n            &company_click_counter=${eventKCompanyClickCounter}&country_click_counter=${eventKCountryClickCounter}&state_click_counter=${eventKStateClickCounter}\n            &job_title_click_counter=${eventKJobTitleClickCounter}&password_click_counter=${eventKPasswordClickCounter}&tc_click_counter=${eventKTermsClickCounter}`;sendData("K21 - Form Failed",e)}}})},getUFContextHubServletData(t,n){const o=T("userId")?T("userId"):t;o?$.ajax({url:UFConst().API_URLS.context_hub_servlet_url,type:"GET",data:{userName:o},success(t){t?"object"==typeof t&&401!==t.statusCode&&(U(t),function(){const t=$(".secondaryEmailPopUp .component-secondary-email-popup"),n=t.find("#secondaryEmail"),o=t.find("form"),a=UFGeneral(e).getUFCookie("showSecondaryEmailPop");UFGeneral(e).deleteUFCookie("showSecondaryEmailPop");const s=ContextHub.getStore("servicenow-sso").getItem("secondaryEmail"),i=ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):ContextHub.getStore("servicenow-sso").getItem("myEmail"),r=UFValidator(e).InitSecondaryMailField(o);$(".secondaryEmailPopUp .sepopup-close-btn").on("click tap",(function(e){t.remove()})),$(".secondaryEmailPopUp .sepopup-update-btn a").on("click tap",(function(e){const a=n.val();S(o),r.validate()&&M.setSecondaryEmailData(i,a,(function(e,a){if(UFValidator(o).UFremoveErrorMessage(n),200==e.statusCode)t.remove(),I("servicenow-sso","secondaryEmail",a);else{const t=e.responseString;UFValidator(o).UFinsertErrorMessage(n,Granite.I18n.get(t))}})),x(o)})),$(".secondaryEmailPopUp").length>0&&("true"!==a||null!==s&&""!==s?t.remove():t.css({display:"block"}))}()):I("servicenow-sso","userLoaded",!1),"function"==typeof n&&n()},error(e){"function"==typeof n&&n()}}):"function"==typeof n&&n()},getUFContextHubEventServletData(e,t){const n=F("servicenow-sso","userName")?F("servicenow-sso","userName"):e;n&&$.ajax({url:UFConst().API_URLS.context_hub_event_registration_url,type:"GET",data:{userName:n},success(e){e?function(e){if("object"==typeof e)for(const[t,n]of Object.entries(e))E("servicenow-events")&&I("servicenow-events",t,n)}(e):I("servicenow-events","userLoaded",!1),"function"==typeof t&&t()},error(e){"function"==typeof t&&t()}})},setSecondaryEmailData(e,t,n){$.ajax({url:UFConst().API_URLS.update_profile_url,type:"POST",data:{email:e,secondaryEmail:t,fromPopup:"true"},success(e){n.call(this,e,t)},error(e){n.call(this,e,t)}})},aemLogout(e){$.ajax({url:UFConst().API_URLS.aem_logout,type:"POST",success(){"function"==typeof e&&e()},error(){"function"==typeof e&&e()}})},deleteHttpOnlyCookie(e,t){getCookie("cq-editor-layer.page")||getCookie("wcmmode")||getCookie("cq-authoring-mode")?"function"==typeof t&&t():$.ajax({url:`${UFConst().API_URLS.delete_httpOnly_cookie}?cookies=${e}`,type:"POST",timeout:3e3,complete(e){"function"==typeof t&&t(e)}})}};return{initModules:v,initStandAloneNav:function(){r?UFOnLoadFormless(e):l?UFThankYouPage(e):UFOnLoadMyAccount(e),v()},initOverlayNav:function(){!function(){const t=function(){let e="";o.length&&(e=o.attr("data-page-path"));return e}();""!=t&&(f&&"true"===f?setTimeout((function(){UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)}),3e3):UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t))}(),$("#tab-UF-myaccount").click((function(){const t=window.location.href;$("#tab-UF-myaccount").hasClass("logged")||(UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",t,UFConst().REDIRECT_COOKIE_EXP))}))},navLogin:w,getEmailValidationPath:C,navResetPassword:function(){const t=function(){let e="";return i.length&&(e=i.attr("data-reset-password-path")),e}();UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)},navEmailValidation:function(){const t=C();UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)},showSpinner:S,hideSpinner:x,ufClearContextHub:k,getUFCookie:T,setUFCookie:function(e,t,n){if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3);var o="expires="+e.toUTCString()}else o="";document.cookie=`${e}=${t};${o}; path=/`},setUFCHValue:I,getUFCHValue:F,populateUFServiceNowSsoCH:U,deminateUFCookieAndContextHub:A,navViewYourProfile:b,getUFParameterByNameMyAccount:O,updateURLParameter:function(e,t,n){let o="",a=e.split("?");const s=a[0],i=a[1];let r="";if(i){a=i.split("&");for(let e=0;e<a.length;e++)a[e].split("=")[0]!==t&&(o+=r+a[e],r="&")}return`${s}?${o}${`${r}${t}=${n}`}`},updateDynamicTooltip:function(e,t){const n=e.find(".uppercase-req"),o=e.find(".lowercase-req"),a=e.find(".number-req"),s=e.find(".special-char-req"),i=e.find(".min-char-req");e.find(".username-req"),/[A-Z]/.test(t)?n.addClass("req-met"):n.removeClass("req-met"),/[a-z]/.test(t)?o.addClass("req-met"):o.removeClass("req-met"),/[0-9]/.test(t)?a.addClass("req-met"):a.removeClass("req-met"),h.test(t)?s.addClass("req-met"):s.removeClass("req-met"),t.length>7?i.addClass("req-met"):i.removeClass("req-met")},showPasswordRulesTooltip:function(e,t){const n=$(e).val();let o=!0,a=!0,s=!0,i=!0,r=!0,l=!0;n.length<8&&(o=!1);let c=0,d=0;const u=n.length;for(let e=0;e<u;e++)/[a-z]/.test(n.charAt(e))&&c++,/[A-Z]/.test(n.charAt(e))&&d++;if(0===c&&(a=!1),0===d&&(s=!1),null==n.match(/\d+/g)&&(i=!1),null==n.match(h)&&(r=!1),t&&t.length){const e=t.val().split("@").join(",").split(".").join(",").split("_").join(",").split("-").join(",").split(",");for(let t=0;t<e.length;++t)"com"!=e[t]&&".net"!=e[t]&&"gov"!=e[t]&&e[t].length>=4&&n.toLowerCase().includes(e[t].toLowerCase())&&(l=!1)}const m=$(e).closest("li").find(".UF-tooltip-text-password");o?m.find(".least-char").removeClass("UF-fail"):m.find(".least-char").addClass("UF-fail"),a?m.find(".least-lower").removeClass("UF-fail"):m.find(".least-lower").addClass("UF-fail"),s?m.find(".least-upper").removeClass("UF-fail"):m.find(".least-upper").addClass("UF-fail"),i?m.find(".least-number").removeClass("UF-fail"):m.find(".least-number").addClass("UF-fail"),r?m.find(".least-symbol").removeClass("UF-fail"):m.find(".least-symbol").addClass("UF-fail"),l?m.find(".password-cant-contain-part-email").removeClass("UF-fail"):m.find(".password-cant-contain-part-email").addClass("UF-fail")},navSecondaryCta:function(){const t=y();t&&"#"!=t&&UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)},loadTermsOfUse:function(){const e=window.location.origin+i.attr("data-terms-use");i.find(".terms").load(e,(function(){c.on("click",showTermsUF),d.on("click",showTermsUF)}))},setCreatAccountIpAddress:function(){document.getElementById("eloquaIpAddress").value=H(),$("#eloquaIpAddress").val(H()),$("#eloquaIpAddress").val();const e=window.location.href;document.getElementById("pageurl")?document.getElementById("pageurl").value=e:document.getElementsByName("pageurl")&&(document.getElementsByName("pageurl").value=e)},generalBackButtonInit:function(){n.length?n.addClass("backShow"):n.hasClass("backShow")&&n.removeClass("backShow")},closeOutMyUFAccountOverlay:function(e){const t=$(window).scrollTop();$(".component-overlay-new").each((function(){$(this).removeClass("no-transition")})),$(window).outerWidth()>1023?setTimeout((function(){$(".active-overlay").find(".component-overlay-new-left-col").removeClass("overlay-col-fade-in")}),100):setTimeout((function(){$(".active-overlay").find(".component-overlay-new-left-col").removeClass("overlay-col-slide-in")}),400),setTimeout((function(){$(".active-overlay").find(".component-overlay-new-right-col").removeClass("overlay-col-slide-in"),$(".component-overlay-new-right-col-nav-sec").removeClass("top-menu-active"),$("body").removeClass("no-scroll-new"),$(window).scrollTop(t)}),400),setTimeout((function(){$(".component-overlay-new").removeClass("active-overlay"),$(".component-overlay-container-new").removeClass("overlay-modal-open"),e()}),800)},goBackToInitialAtCloseUF:function(){if(!r){decodeURIComponent(UFGeneral(e).getUFCookie("userId"))?b():!t.length>0&&w()}},backButtonNavigation:function(){const t=n.attr("data-back-btn-value");UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)},displayOptinSection:function(e,t,n,o,a,s){G(e.target.value,s),F("servicenow-sso","scopedCountry")?P(t,a,s,n,o):R(n,o)},retrieveContact:P,checkValidateField:function(t){UFValidator(e).UFcheckRequiredField(t),t.is("#field10")&&setTimeout((function(){e.find("#formElement11 select").on("blur",(function(){UFValidator(e).UFcheckRequiredField($(this)),setTimeout((function(){e.find("#formElement12 select").on("blur",(function(){UFValidator(e).UFcheckRequiredField($(this))}))}),500)}))}),500)},generalServices:M,analyticsForTermsAndConditions:function(){var e=e||[];e.push(["_setAccount","UA-3441098-1"]),e.push(["_setDomainName","servicenow.com"]),e.push(["_trackPageview"]);const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?$("input[name=devicetype]").val("mobile"):$("input[name=devicetype]").val("desktop")},ctaNavigation:function(t){const n="on"===t.attr("data-open-new-tab"),o="on"===t.attr("data-enable-overlay-navigation");a&&o?UFRouter(e).ctaNavigateTo(`${t.attr("data-cta-path")} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,!1,!0):UFRouter(e).ctaNavigateTo(t.attr("data-cta-path"),n,!1)},getQueryStringParamValue:getQueryStringParamValue,setHiddenFieldsValues:function(){document.getElementById("referenceSource").value=getQueryStringParamValue("referencesource"),document.getElementById("badgeId").value=getQueryStringParamValue("bid"),function(){let e="";const t=O("elqip",window.location.href);if(sessionStorage.getItem("s_dmdbase_target")){const t=sessionStorage.getItem("s_dmdbase_target");e=JSON.parse(t)["profile.ip"]}else t&&(e=t);document.getElementById("eloquaIpAddress").value=e}(),function(){const e=document.referrer;document.getElementById("eloquaRefererUrl").value=e}(),function(){if(document.getElementById("resolution").value=`${screen.width}x${screen.height}`,document.getElementById("colorDepth").value=screen.colorDepth,document.getElementById("browserWidth").value=window.innerWidth,document.getElementById("browserHeight").value=window.innerHeight,document.getElementById("javaEnabled").value=navigator.javaEnabled(),document.getElementById("cookieEnabled").value=navigator.cookieEnabled,sessionStorage.getItem("form-tracking-data")){const e=JSON.parse(sessionStorage.getItem("form-tracking-data"));document.getElementById("channel")&&(document.getElementById("channel").value=e.channel?e.channel:""),document.getElementById("prop1")&&(document.getElementById("prop1").value=e.prop1?e.prop1:""),document.getElementById("anayticsReferer")&&(document.getElementById("anayticsReferer").value=e.prop4?e.prop4:""),document.getElementById("prop7")&&(document.getElementById("prop7").value=e.prop7?e.prop7:""),document.getElementById("prop9")&&(document.getElementById("prop9").value=e.prop9?e.prop9:""),document.getElementById("prop10")&&(document.getElementById("prop10").value=e.prop10?e.prop10:""),document.getElementById("prop12")&&(document.getElementById("prop12").value=e.prop12?e.prop12:""),document.getElementById("prop13")&&(document.getElementById("prop13").value=e.prop13?e.prop13:""),document.getElementById("prop14")&&(document.getElementById("prop14").value=e.prop14?e.prop14:""),document.getElementById("prop16")&&(document.getElementById("prop16").value=e.prop16?e.prop16:""),document.getElementById("prop30")&&(document.getElementById("prop30").value=e.prop30?e.prop30:""),document.getElementById("prop35")&&(document.getElementById("prop35").value=e.prop35?e.prop35:""),document.getElementById("currencyCode")&&(document.getElementById("currencyCode").value=e.currencyCode?e.currencyCode:""),document.getElementById("eVar93")&&(document.getElementById("eVar93").value=e.eVar93?e.eVar93:""),document.getElementById("eVar94")&&(document.getElementById("eVar94").value=e.eVar94?e.eVar94:"")}if(document.getElementById("analyticsPageurl")){let e=window.location.href;e&&(e.indexOf("#")||e.indexOf("##")?e=e.split("#")[0]:e.indexOf("html")&&(e=e.split("html")[0]+"html")),document.getElementById("analyticsPageurl").value=e}}()},showExceededRateMesg:function(e,t){const n=$(e);n.find("> *").not(t||"").each((function(){$(this).css("display","none")})),n.append(`<h4 class="exceedError">${UFConst().ERRORMESSAGES.exceededError}</h4>`)},removeChromeInputs:function(e){let t=100;(i.hasClass("login")||i.hasClass("create-account"))&&(t=600),setTimeout(()=>{e.find(".chromeAutofill").remove()},t)},deleteUFCookie:_,getUFIpAddress:H,copyFullBleedAssetToMediaListContainer:function(e,t){e.addClass("left-side-full-bleed-asset"),t.find(".media-list-wrapper").append(e.clone())},alignTitle:function(e,t){const n=t.parent().parent().hasClass("form-on-top");if(window.innerWidth<768||n)t.css("padding-top","");else{const n=e.offset(),o=t.offset(),a=parseInt(e.innerHeight()-e.height()),s=o?n.top+a-o.top:n.top+a;t.css("padding-top",s)}},getUFQueryValue:function(e,t){const n=e.split("&").filter((function(e){if(e.indexOf(t)>-1)return e})).join("");return n.substring(n.indexOf("=")+1,n.length)},isRightSideBiggerThanLeftSide:function(){const e=u.outerHeight(!0),t=m.outerHeight(!0),n=e+p.outerHeight(!0);p.length&&(t>n?p.addClass("right-bigger"):p.hasClass("right-bigger")&&p.removeClass("right-bigger"))},startTakenTime:function(){sessionStorage.setItem("startTakenTime",null),sessionStorage.setItem("finishTakenTime",null);const e=new Date;sessionStorage.setItem("startTakenTime",e)},finishTakenTime:function(e){const t=new Date;sessionStorage.setItem("finishTakenTime",t);const n=sessionStorage.getItem("startTakenTime"),o=sessionStorage.getItem("finishTakenTime");let a=new Date(o)-new Date(n);a/=1e3,Math.round(a),sessionStorage.removeItem("startTakenTime"),sessionStorage.removeItem("finishTakenTime")},getSecondaryCtaPath:y,getFallbackRedirectURL:function(e){const t=e.hasClass("secondary-event-variation");let n="/";const o=window.location.href,a=$("html").attr("hrefLang"),s=$("html").attr("lang");switch(!0){case"en-GB"===a||"en-GB"===s||null!==RegExp("www.servicenow.com/uk").exec(o)||null!==RegExp("/content/servicenow/www/locale-sites/en-gb").exec(o)||null!==RegExp("/content/servicenow/www/language-masters/en-gb").exec(o)||null!==RegExp(".net/uk").exec(o)||null!==RegExp("webdev.servicenow.com/uk").exec(o)||null!==RegExp("www.webqa.servicenow.com/uk").exec(o)||null!==RegExp("www.webstg.servicenow.com/uk").exec(o):n="/uk/";break;default:if(t){const t=e.find(".inner-view"),o=t.length>0?t.data("events-home-page-path"):"";n=o||"/"}else n="/"}return n},initFormlessExp:function(){const e=$(".inner-view.formless"),t=F("servicenow-forms","formlessUserID"),n=decodeURIComponent(T("userId"));if(!e.length)return;const o=e.find('[name="disableFormLess"]').val();if(t&&!n&&"true"!==o.toLowerCase()){if($("#tab-UF-myaccount, #tab-UF-myaccount-mobile").removeClass("logged"),e.find(".UF-formless-sign-out").length)return;const t="notprofilelabelSuffix"!=Granite.I18n.get("notprofilelabelSuffix")?Granite.I18n.get("notprofilelabelSuffix"):"",n=F("servicenow-forms","name"),o=Granite.I18n.get("Helloprofilelabel")||"hello",a=Granite.I18n.get("notprofilelabel")||"not";e.prepend(`<div class="UF-formless-wrong-user"><h6>${o} ${n||""}!</h6><p><a class="UF-formless-sign-out">${a} ${n||""} ${t}?</a></p></div>`),e.find(".UF-formless-sign-out").on("click",(function(){M.completeSignout(e.attr("data-current-page-path"))}))}}}}},function(e,t){window.UFRouter=function(e){const t=e.find(".partials-view"),n=e.find(".component-overlay-container-new.content-UF"),o=e.find(".universal-form-wrapper").hasClass("form-in-overlay"),a=e.find(".universal-form-wrapper.form-in-overlay"),s=a.closest(".universalForm.cq-Editable-dom"),i=a.closest(".par.cq-Editable-dom"),r=s.length>0||i.length>0,l=e.find(".right-side.UF-container-overlay-load .inner-content-container");function c(n,o,a){const s=window.location.href.indexOf("?");if(s>0&&!a){const e=window.location.href.substring(s),t=n.split(" ");t.length>1?(t[0]+=e,n=`${t[0]} ${t[1]}`):n+=e}if(a){if(-1!==s){const e=window.location.href.substring(s),t=n.indexOf(" ");if(t>-1){const o=n.substring(0,t),a=n.substring(t);n=o+e+a}else n+=e}l.load(n,(function(){d();const t=e.find(".UF-sign-in-inner");UFGeneral(e).initModules(o),t.length&&UFGeneral(t).initModules(o)}))}else t.load(n,(function(){d();const t=e.find(".UF-sign-in-inner");UFGeneral(e).initModules(o),t.length&&UFGeneral(t).initModules(o)}))}function d(){const e=t.hasClass("right-bkg-color-dark"),n=t.find(".UF-container-overlay-load"),o=t.find(".UF-container-100.UF-container-overlay-load"),a=t.find(".uf-assets-container.in-100-width"),s=t.find(".UF-container-50.right-side");n.removeClass("right-bkg-color-light right-bkg-color-dark"),o.removeClass("right-bkg-color-light right-bkg-color-dark"),a.removeClass("right-bkg-color-light right-bkg-color-dark"),s.removeClass("right-bkg-color-light right-bkg-color-dark"),e?(n.addClass("right-bkg-color-dark"),o.addClass("right-bkg-color-dark"),a.addClass("right-bkg-color-dark"),s.addClass("right-bkg-color-dark")):(n.addClass("right-bkg-color-light"),o.addClass("right-bkg-color-light"),a.addClass("right-bkg-color-light"),s.addClass("right-bkg-color-light"))}function u(e){let t=e;if(e&&(-1!==e.indexOf("/content/servicenow/www/locale-sites")||-1!==e.indexOf("/content/servicenow/www/language-masters"))){const n=e.split("/")[5];-1!==e.indexOf("/content/servicenow/www/locale-sites")&&(t=e.replace("/content/servicenow/www/locale-sites/"+n,"")),-1!==e.indexOf("/content/servicenow/www/language-masters")&&(t=e.replace("/content/servicenow/www/language-masters/"+n,""))}return t?UFConst().PROTOCOL_UF_HOST+t:t}return{navigateTo:function(e,t,a){const s=n.css("opacity");s&&"0"!==s&&o&&!r?c(u(e),!0):o||!t||a?r||c(u(e),!0,a):window.location.href=u(t)},ctaNavigateTo:function(e,t,o){const a=n.css("opacity");a&&"0"!==a&&o&&!r?c(u(e),!0):t?window.open(u(e),"_blank"):window.location.href=u(e)},rewriteURL:u}}},function(e,t){$(".universalForm ").length&&$((function(){initUniversalForm()})),window.initUniversalForm=function(){const e=$(".universalForm, .uf-sign-in-inner");setFormLessCHStore();const t=ContextHub.getStore("servicenow-forms").getItem("timeStamp");if($(".UF-real-checkbox").eq(0).closest(".UF-clear").addClass("first"),t){if(((new Date).getTime()-t)/1e3/60/60>24){ContextHub.getStore("servicenow-forms").setItem("formlessUserID",null),ContextHub.getStore("servicenow-forms").setItem("isSNEmail",null),ContextHub.getStore("servicenow-forms").setItem("name",null),ContextHub.getStore("servicenow-forms").setItem("timeStamp",null);const e=$(".universalForm:first");UFGeneral(e).deleteUFCookie("formlessExperienceEnabled")}}getServiceConstants((function(t){t&&(window.serviceConstants=t),UFConst(),e.each((function(){const e=$(this);if(e.find(".universal-form-wrapper").hasClass("form-in-overlay")&&!document.querySelector("global-nav"))UFGeneral(e).initOverlayNav();else{UFGeneral(e).initStandAloneNav();e.find(".UF-container-50.right-side").find(".inner-view.formless").length&&UFStickyCTA(e)}}))}))},window.showTermsUF=function(){const e=$(".universal-form-wrapper.form-in-overlay"),t=$(".universal-form-wrapper").not(".form-in-overlay"),n=e.find(".component-overlay-container-new.content-UF").css("opacity"),o=n&&"0"!==n;e.length&&o?(e.find("#map-overlay").show(),e.find("#map-dialog").show()):(t.find("#map-overlay").show(),t.find("#map-dialog").show())},window.setFormLessCHStore=function(){const e=getCookie("formUserID"),t=getCookie("userId");if(!e)return;if(t){const e=decodeURIComponent(t);ContextHub.getStore("servicenow-forms").setItem("isSNEmail",e.indexOf("@servicenow.com")>-1)}ContextHub.getStore("servicenow-forms").setItem("formlessUserID",decodeURIComponent(e)),ContextHub.getStore("servicenow-forms").setItem("timeStamp",(new Date).getTime());const n=$(".universalForm:first");UFGeneral(n).setUFCookie("formlessExperienceEnabled","true",1),UFGeneral(n).deleteUFCookie("formUserID")},window.closeTerms=function(){const e=$(".universal-form-wrapper.form-in-overlay");if(e.length){const t=$(".universal-form-wrapper").not(".form-in-overlay"),n=e.find(".component-overlay-container-new.content-UF").css("opacity"),o=n&&"0"!==n;e.length&&o?(e.find("#map-overlay").hide(),e.find("#map-dialog").hide()):(t.find("#map-overlay").hide(),t.find("#map-dialog").hide())}else $("#map-overlay").hide(),$("#map-dialog").hide()},window.printContent=function(){const e=window.open();e.document.write($(".terms_content").html()),e.print(),e.close()},window.UFerrorCallback=function(e,t){e.find("#"+t).removeClass("verified")},window.UFerrCallback=function(e,t){UFerrorCallback.call(this,e,t)}},function(e,t){window.ForgotPasswordService=function(){return{forgotPassword:(e,t,n,o,a)=>{const s=new XMLHttpRequest;s.open("POST",e,!0),Object.keys(t).forEach(e=>{s.setRequestHeader(e,t[e])});let i="";const r=Object.keys(n).length;Object.keys(n).forEach((e,t)=>i+=t===r-1?`${e}=${n[e]}`:`${e}=${n[e]}&`),s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)o();else{const e=s.responseText;let t=e&&JSON.parse(e);t=(e=>{let t=e.errorCode;const n=e.status;let o={};if(!t&&!n)return o;const a={serviceOrArea:"",subservice:"",severity:"",errNumber:""};if(404===n?t="ERR_07.01.01.404":501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t.includes("ERR")){t=t.split("_")[1];const e=t.split(".");Object.keys(a).forEach((t,n)=>a[t]=e[n]),o={errorCode:t,errPartsObj:a}}return o})(t),a(t)}},s.send(i)}}}},function(e,t){window.LoginService=function(){function e(e){let t=e.errorCode;const n=e.status;if(!t&&0!==n&&!n)return e;let o={},a="",s="",i="",r="",l="";if(0===n||501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t&&t.includes("ERR")){a=t.split("_")[1];const e=a.split(".");s=e[0],i=e[1],r=e[2],l=e[3],o={code:a,part1:s,part2:i,part3:r,part4:l}}return o}return{login:function(t,n,o,a,s){$.ajax({url:t,type:"POST",headers:n,data:o,success(t){if(t){const n=e(t);a(n)}},error(t){let n={};n=t&&t.responseJSON?e(t.responseJSON):e(t),s(n)}})}}}},function(e,t){window.RegistrationService=function(){function e(e){let t=e.errorCode;const n=e.status;if(!t&&0!==n&&!n)return e;let o={},a="",s="",i="",r="",l="";if(0===n||501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t&&t.includes("ERR")){a=t.split("_")[1];const e=a.split(".");s=e[0],i=e[1],r=e[2],l=e[3],o={code:a,part1:s,part2:i,part3:r,part4:l}}return o}return{register:function(t,n,o,a,s){$.ajax({url:t,type:"POST",headers:n,data:o,success(t){if(t){const n=e(t);a(n)}},error(t){let n={};n=t&&t.responseJSON?e(t.responseJSON):e(t),s(n)}})}}}},function(e,t){window.ResetPasswordService=function(){return{resetPassword:(e,t,n,o,a)=>{const s=new XMLHttpRequest;s.open("POST",e,!0),Object.keys(t).forEach(e=>{s.setRequestHeader(e,t[e])});let i="";const r=Object.keys(n).length;Object.keys(n).forEach((e,t)=>i+=t===r-1?`${e}=${n[e]}`:`${e}=${n[e]}&`);JSON.stringify(n);s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)o();else{const e=s.responseText;let t=e&&JSON.parse(e);t=(e=>{let t=e.errorCode;const n=e.status;let o={};if(!t&&!n)return o;const a={serviceOrArea:"",subservice:"",severity:"",errNumber:""};if(404===n?t="ERR_07.01.01.404":501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t.includes("ERR")){t=t.split("_")[1];const e=t.split(".");Object.keys(a).forEach((t,n)=>a[t]=e[n]),o={errorCode:t,errPartsObj:a}}return o})(t),a(t)}},s.send(i)}}}},function(e,t){window.UpdateProfileService=function(){function e(e){let t=e.errorCode;const n=e.status;if(!t&&0!==n&&!n)return e;let o={},a="",s="",i="",r="",l="";if(0===n||501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t&&t.includes("ERR")){a=t.split("_")[1];const e=a.split(".");s=e[0],i=e[1],r=e[2],l=e[3],o={code:a,part1:s,part2:i,part3:r,part4:l}}return o}return{updateProfile:function(t,n,o,a,s){$.ajax({url:t,type:"POST",headers:n,data:o,success(t){if(t){const n=e(t);a(n)}},error(t){let n={};n=t&&t.responseJSON?e(t.responseJSON):e(t),s(n)}})}}}},function(e,t){window.ValidateService=function(){function e(e){let t=e.errorCode;const n=e.status;if(!t&&!n)return e;let o={},a="",s="",i="",r="",l="";if(404===n?t="ERR_07.01.01.404":501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t&&t.includes("ERR")){a=t.split("_")[1];const e=a.split(".");s=e[0],i=e[1],r=e[2],l=e[3],o={code:a,part1:s,part2:i,part3:r,part4:l}}return o}return{validate:function(t,n,o,a){$.ajax({url:t,type:"GET",headers:n,success(t){if(t){const n=e(t);o(n)}},error(t,n){if("timeout"!==n){if(t&&t.responseJSON){const n=e(t.responseJSON);a(n)}}else a({code:"timeout"})},timeout:5e3})}}}},function(e,t){window.UFChangePassword=function(e){const t=e.find(".inner-view form"),n=t.find(".UF-submit-btn a"),o=e.find(".UF-error-msg"),a=e.find(".inner-view"),s=e.closest(".site-body-content-wrapper"),i=window.location.search,r=(e,t)=>e===t;function l(e){return e.replace(/[+&]/g,(function(e){return{"+":"%2B","&":"%26"}[e]}))}const c=UFConst().QUERY_KEYS.link_id;if(i.includes(c)){const s='<input type="hidden" tabindex="8" name="linkId" value="">';t.append(s),t.find('input[name="linkId"]').val(UFGeneral(e).getUFQueryValue(i,c)),n.on("click tap",(function(){UFValidator(e).UFremoveSubmitErrorMessage(o),UFValidator(e).UFremoveErrorMessage(o);const n=t.find('input[name="linkId"]').val(),s=l(t.find("#new-password input").val()),i=l(t.find("#confirm-password input").val()),c=UFValidator(e).UFValidateForm(t);if(r(s,i)||UFValidator(e).UFinsertSubmitErrorMessage(o,UFConst().ERRORMESSAGES.passwordDontMatchError),r(s,i)&&c){UFGeneral(e).showSpinner(t);const i=UFConst().API_URLS.change_password_MS,r=document.getElementById("webapiurl"),l=(r?r.value:"")+i,c={"Content-Type":"application/x-www-form-urlencoded",formId:"form-resetpassword-www-v1",clientId:"www"},d={linkId:n,newPassword:s},u=()=>{const n=UFConst().UF_CONTAINER_OVERLAY_LOAD,o=a.attr("data-change-password-thank-you-path");UFGeneral(e).hideSpinner(t),UFRouter(e).navigateTo(`${o} ${n}`,o)},m=n=>{const a=n.errorCode;(n=>{UFGeneral(e).hideSpinner(t),UFValidator(e).UFinsertSubmitErrorMessage(o,n)})({"03.04.02.410":Granite.I18n.get("invalidOldPassword"),"03.04.02.413":Granite.I18n.get("passwordLinkExpired"),"03.04.01.409":Granite.I18n.get("missingRequestParams"),"03.04.01.509":Granite.I18n.get("resetPasswordFailed"),"04.03.01.415":Granite.I18n.get("passwordinvaliderror"),"04.05.01.509":Granite.I18n.get("resetPasswordFailed"),"07.02.02.409":Granite.I18n.get("missingRequestParams"),"07.98.01.410":Granite.I18n.get("missingHeaderParams"),"07.07.02.409":Granite.I18n.get("missingHeaderParams"),"07.02.02.414":Granite.I18n.get("lengthTooLongChangePass"),"07.02.02.415":Granite.I18n.get("passwordinvaliderror"),"04.03.01.415.1":Granite.I18n.get("passwordcantcontainpartemail")}[a]||Granite.I18n.get("resetPasswordFailed"))};ResetPasswordService().resetPassword(l,c,d,u,m)}}))}return s.length&&s.addClass("UF_global-body-override"),{}}},function(e,t){window.UFCreateAccount=function(e){const t=UFConst(),n=e.find(".UF-submit-btn a"),o=e.find(".UF-error-msg"),a=e.find(".inner-view form"),s=e.find(".inner-view"),i=s.data("register-thank-you-path"),r=s.data("register-email-validation-path"),l=s.find(".UF-register-inline-link"),c=UFValidator(e),d=a.find(t.DOM.ELEMENTS.SECONDARY_MAIL),u=a.find('[name="email2"]'),m=a.find('[name="email"]');let p={};function f(){UFGeneral(e).ufClearContextHub(),UFValidator(e).UFremoveSubmitErrorMessage(o);const t=UFValidator(e).UFValidateForm(a),n=!(d.length>0)||c.InitSecondaryMailField(a).validate();t&&n&&(UFGeneral(e).showSpinner(a),function(t){const n=t[0].password.value;g.postFormData(t,n,(function(o){o.errorCode||(UFGeneral(e).deminateUFCookieAndContextHub(!0),sessionStorage.setItem("userName",t[0].email.value),sessionStorage.setItem("no_no",n),"undefined"!=typeof _satellite&&_satellite.track("SSORegistration"),UFRouter(e).navigateTo(`${i} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,""+i))}),(function(n){const a=UFConst().ERRORMESSAGES.missingRequestParams,s=UFConst().ERRORMESSAGES.accountCreationFailed,i={"07.01.02.409":a,"07.02.02.409":a,"07.99.02.409":a,"07.98.02.410":Granite.I18n.get("missingHeaderParams"),"07.02.02.414":UFConst().ERRORMESSAGES.lengthTooLongChangePass,"04.03.01.403":UFConst().ERRORMESSAGES.userAlreadyExists,"04.03.01.415":UFConst().ERRORMESSAGES.passwordRules,"04.03.01.499":s,"03.02.01.509":s};var r;r=i[n.code]||s,UFValidator(e).UFinsertSubmitErrorMessage(o,r),UFGeneral(e).hideSpinner(t)}))}(a))}n.on("click tap",(function(){UFGeneral(e).ufClearContextHub(),UFValidator(e).UFremoveSubmitErrorMessage(o),f()})),l.on("click tap",(function(){const t=$(this).attr("data-inline-path");UFRouter(e).navigateTo(`${t} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t)})),u.on("click",(function(){m.val(""),a.find(".chromeAutofill").remove(),m.focus()}));const g={postFormData(e,t,n,o){!function(){const e=new URL(window.location.href.toLowerCase()),{searchParams:t}=e;["CAMPID","CNAME","CMCID","CMPID","CID","GCLID","DCLID","partner","CMRID","CMAID","referenceSource"].forEach(e=>{const n=e.toLowerCase(),o=t.get(n),a={gclid:{cookie:"googleclickid"},cid:{cookie:"googlecampaignid"}};if(o)p[e]=o;else if("gclid"===n||"cid"===n){const t=a[n].cookie,o=getCookie(t);o&&(p[e]=o)}else if(getCookie(e)){const t=getCookie(e);p[e]=t}})}();const a=$("#eloquaIpAddress").val(),s=$("#pageurl").val(),i=e[0].secondaryEmail?e[0].secondaryEmail.value:"";let l,c;e[0].optin&&(l=e[0].optin.value),e[0].analyticsPageurl&&(c=e[0].analyticsPageurl.value);let d={mcid:UFConst().MCID,password:t,region:e[0].region.value,optInFlag:l,termCondUrl:void 0,privacyUrl:void 0,eloquaIpAddress:a,pageurl:s,registration:!0,currentPagePath:s,createAccountSourcePage:window.location.pathname,validateEmailPath:r,secondaryEmail:i,analyticsPageurl:c,universalFormPath:e[0].universalFormPath.value,eVar93:e[0].eVar93.value,eVar94:e[0].eVar94.value,eloquaRefererUrl:e[0].eloquaRefererUrl.value};if(d.locale=getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang")),p=$.isEmptyObject(p)?"":p,""!==p){const e=JSON.stringify(p);d.daso=e}d=function(e,t){return["jobLevel","jobFunction","country","t_c","email","firstname","lastname","company","businessPhone","jobRole","state"].forEach((function(n){if(e[n]&&$(e[n]).length)switch(n){case"jobLevel":case"jobFunction":const o=n.toLowerCase();t[o]=e[n].value;break;case"country":t.countryCode=e[n].value;break;case"t_c":t.termCondFlag=e[n].checked;break;case"email":t.userId=e.email.value,t.userName=e.email.value;case"firstname":case"lastname":case"company":case"businessPhone":case"jobRole":case"state":t[n]=e[n].value}})),t}(e[0],d);const u=$("#webapiurl"),m=""+((u.length?u.val():"")+UFConst().API_URLS.registrationMS);RegistrationService().register(m,{contentType:"application/x-www-form-urlencoded",clientId:"www",formId:"form-registration-www-global-v1"},d,n,o)}};if(UFGeneral(e).setCreatAccountIpAddress(),d&&d.length>0){c.InitSecondaryMailField(a)}return{createAccountServices:g}}},function(e,t){window.UFForgotPassword=function(e){const t=e.find(".inner-view form").first(),n=t.find(".UF-submit-btn a").first(),o=t.find(".UF-send-verification-email-forgot-password"),a=e.find(".UF-error-msg"),s=t.find('[name="email"]').not(".chromeAutofill"),i=e.find(".inner-view"),r=e.find(".UF-general-back-arrow-container"),l=e.find(".UF-secondary-cta"),c=i.attr("data-reset-password-path");function d(){if(UFValidator(e).UFValidateForm(t)){const l=s.val();UFGeneral(e).showSpinner(t);const d=e.find('[name="universalFormPath"]')[0]?e.find('[name="universalFormPath"]')[0].value:"",m=$("#eloquaIpAddress").val();u.passUserData(l,c,d,m,(function(){UFGeneral(e).hideSpinner(t),UFGeneral(e).generalServices.logoutCurrentUser(),document.cookie="globalUserEmail="+l,UFRouter(e).navigateTo(`${i.attr("data-forgot-password-thank-you-path")} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,i.attr("data-forgot-password-thank-you-path"))}),(function(s){UFGeneral(e).hideSpinner(t);const c=UFConst().ERRORMESSAGES.unableToFindAccount,d=Granite.I18n.get("missingHeaderParams"),u=()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,Granite.I18n.get("missingRequestParams")),UFGeneral(e).hideSpinner(t)},m=()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,Granite.I18n.get("Forgot Password Failure")),UFGeneral(e).hideSpinner(t)},p=()=>{n.addClass("UF-send-verification-email-hide"),o.removeClass("UF-send-verification-email-hide"),o.addClass("UF-send-verification-email-show"),sessionStorage.setItem("emailToValidate",l),UFValidator(e).UFinsertSubmitErrorMessage(a,""+UFConst().ERRORMESSAGES.emailNotValidatedError),UFGeneral(e).hideSpinner(t)},f={default:()=>m(),"07.98.01.410":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,d),UFGeneral(e).hideSpinner(t)},"07.01.01.409":()=>u(),"07.01.01.410":()=>u(),"07.99.02.409":()=>u(),"04.01.01.404":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,c),UFGeneral(e).hideSpinner(t)},"04.01.03.412":()=>p(),"04.01.03.422":()=>p(),"03.05.01.429":()=>{UFGeneral(e).showExceededRateMesg(i,r),UFGeneral(e).hideSpinner(t)},"04.01.01.509":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,c),UFGeneral(e).hideSpinner(t)},"04.06.01.509":()=>(()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),sessionStorage.setItem("emailValidationState","userAccountPasswordExpired"),sessionStorage.setItem("emailValidationStateErrorCode","PASSWORD_EXPIRED"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)})(),"09.01.01.511":()=>m(),"09.02.01.512":()=>m(),"09.99.01.509":()=>m(),"07.05.01.410":()=>m(),"07.03.01.410":()=>m(),"07.04.01.410":()=>m(),"07.00.03.400":()=>u(),"08.01.02.400":()=>m(),"08.01.01.509":()=>m(),"03.05.01.509":()=>m()};return f[s]?f[s]():f.default()}))}}s.on("keypress",(function(e){13==(e.keyCode||e.which)&&(e.preventDefault(),n.trigger("click"))})),l.on("click tap",(function(){UFGeneral(e).navSecondaryCta()})),n.on("click tap",(function(){UFValidator(e).UFremoveSubmitErrorMessage(a),d()})),o.on("click tap",(function(){o.hide(),UFValidator(e).UFremoveSubmitErrorMessage(a),UFGeneral(e).navEmailValidation()}));const u={passUserData(e,n,o,a,s,i){const r=getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang")),l=t.parents(".universal-form-wrapper").hasClass("form-in-page")&&document.referrer?document.referrer:window.location.href,c=UFConst().API_URLS.forgot_password_MS,d=document.getElementById("webapiurl"),u=(d?d.value:"")+c,m={email:e,resetPasswordPagePath:n,locale:r,currentPagePath:l};ForgotPasswordService().forgotPassword(u,{"Content-Type":"application/x-www-form-urlencoded",clientId:"www",formId:"form-forgotpassword-www-v1"},m,()=>s(),e=>!$.isEmptyObject(e)&&e.errorCode?i(e.errorCode):i("default"))}};return{}}},function(e,t){window.UFLogin=function(e){const t=e.find(".inner-view form").first(),n=t.find(".UF-submit-btn a"),o=e.find(".UF-secondary-cta"),a=e.find(".UF-error-msg"),s=e.find(".inner-view"),i=t.find('[name="password"]'),r=t.find('[name="username2"]'),l=t.find('[name="username"]'),c=t.parents(".universal-form-wrapper"),d=e.find(".section-component-universal-form").hasClass("event-variation");function u(){UFGeneral(e).ufClearContextHub(),UFValidator(e).UFremoveSubmitErrorMessage(a);if(UFValidator(e).UFValidateForm(t)){UFGeneral(e).showSpinner(t),UFGeneral(e).startTakenTime();!function n(o){$.ajax({url:o,method:"GET",headers:{"x-api-key":"0me5I0JOIr7obOqKMl56p9i4In5gsTJQ8EFxRjqi"}}).always(s=>{const i=s&&"object"==typeof s?s:JSON.parse(s);let r=0;if(!i||i&&"Good"!==i.message)r=randomize(5),setTimeout((function(){n(o)}),1e3*r);else{m.validateEmail.bind(this,t,(function(n){!n||n.errorCode||n.status?UFGeneral(e).hideSpinner(t):(UFGeneral(e).setUFCookie("current_page_url",window.location.pathname,1/24),m.submitForm.call(this,t,(function(n){const o=window.location.pathname.includes("register.html"),a=new URLSearchParams(window.location.search),s=a.get("redirect_uri"),i=a.get("state"),r=t.hasClass("login");if(o&&s&&i&&r){const e=new URL(n.redirectPath);e.searchParams.set("redirect_uri",s),e.searchParams.set("state",i),e.searchParams.set("response_type","code"),window.location.href=e.toString()}else UFGeneral(e).setUFCookie("redirectionPage",window.top.location.href,UFConst().REDIRECT_COOKIE_EXP),window.top.location.href=n.redirectPath;return!1}),(function(n){const o=UFConst().ERRORMESSAGES.invalidCredentials,s=UFConst().ERRORMESSAGES.emailisnotvaliderror,i=UFConst().ERRORMESSAGES.unableToFindAccount;function r(){UFValidator(e).UFinsertSubmitErrorMessage(a,o),UFGeneral(e).hideSpinner(t)}function l(){UFValidator(e).UFinsertSubmitErrorMessage(a,Granite.I18n.get("Email Verification Failure")),UFGeneral(e).hideSpinner(t)}return{default:()=>l,"03.01.01.509":()=>l(),"04.02.01.509":()=>l(),"04.01.01.501":()=>l(),"04.01.01.502":()=>l(),"04.02.01.401":()=>r(),"07.01.01.409":()=>r(),"07.02.01.409":()=>r(),"07.02.01.410":()=>r(),"07.01.01.410":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,s),UFGeneral(e).hideSpinner(t)},"04.01.01.404":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,i),UFGeneral(e).hideSpinner(t)},"04.01.03.422":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)},"04.01.03.411":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),sessionStorage.setItem("emailValidationState","userAccountLockedOut"),sessionStorage.setItem("emailValidationStateErrorCode","LOCKED_OUT"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)},"04.01.03.413":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),sessionStorage.setItem("emailValidationState","userAccountPasswordExpired"),sessionStorage.setItem("emailValidationStateErrorCode","PASSWORD_EXPIRED"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)}}[n]()})))}),(function(n){const o=UFConst().ERRORMESSAGES.emailisnotvaliderror,s=UFConst().ERRORMESSAGES.emailisnotvaliderror,i=UFConst().ERRORMESSAGES.invalidCredentials;function r(){UFValidator(e).UFinsertSubmitErrorMessage(a,Granite.I18n.get("Email Verification Failure")),UFGeneral(e).hideSpinner(t)}return{default:()=>r(),timeout:()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,"userValidationRequestTimeout"),UFGeneral(e).hideSpinner(t)},"04.01.01.501":()=>r(),"04.01.01.502":()=>r(),"07.01.01.409":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,o),UFGeneral(e).hideSpinner(t)},"07.01.01.410":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,s),UFGeneral(e).hideSpinner(t)},"04.01.02.404":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,i),UFGeneral(e).hideSpinner(t)},"04.01.03.411":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),sessionStorage.setItem("emailValidationState","userAccountLockedOut"),sessionStorage.setItem("emailValidationStateErrorCode","LOCKED_OUT"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)},"04.01.03.412":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),sessionStorage.setItem("emailValidationState","userAccountStaged"),sessionStorage.setItem("emailValidationStateErrorCode","STAGED"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)},"04.01.03.413":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),sessionStorage.setItem("emailValidationState","userAccountPasswordExpired"),sessionStorage.setItem("emailValidationStateErrorCode","PASSWORD_EXPIRED"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)},"04.01.03.422":()=>{const n=t.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",n),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(t)},"07.01.01.404":()=>{UFValidator(e).UFinsertSubmitErrorMessage(a,Granite.I18n.get("emailisnotvaliderror")),UFGeneral(e).hideSpinner(t)}}[n]()}))()}})}(window.location.href.indexOf("//stage-")>-1?"https://6rrit6lthh.execute-api.us-west-2.amazonaws.com/v1":"https://31e8cetk75.execute-api.us-west-2.amazonaws.com/v1")}}n.on("click tap",u),o.on("click tap",(function(){UFGeneral(e).navSecondaryCta()})),i.on("keypress",(function(e){13!=e.which||d||u()})),r.on("click",(function(){l.val(""),t.find(".chromeAutofill").remove(),l.focus()}));const m={validateEmail(e,n,o){const a=$("#webapiurl"),s=a.length?a.val():"",i=t.find('[name="username"]').val(),r=`${s+UFConst().API_URLS.validateMS}/${i}`;ValidateService().validate(r,{"Content-Type":"application/x-www-form-urlencoded",clientId:"www",formId:"form-validate-www-v1"},(function(e){n(e)}),(function(e){!$.isEmptyObject(e)&&e.code?o(e.code):o("default")}))},submitForm(t,n,o){const a=$(t.get(0)).hasClass("hidden-sign-in")||$(t.get(0)).hasClass("hidden-sign-in-standalone"),i=$("#webapiurl"),r=i.length?i.val():"",l=t.find('[name="username"]').val(),c=t.find('[name="password"]'),d=c.val(),u=decodeURIComponent(UFGeneral(e).getUFCookie("redirectionPage")),m={username:l,password:d};u&&(m.redirectionPage=u.split("#")[0],m.redirectionPage.includes("demonow")&&(m.redirectionPage=m.redirectionPage.replaceAll("&",","))),m.locale=getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang")),a?(UFGeneral(e).deleteUFCookie("login-token"),UFGeneral(e).deleteUFCookie("userId"),UFGeneral(e).generalServices.deleteHttpOnlyCookie("login-token",(function(e){const t=""+(r+UFConst().API_URLS.loginMS);LoginService().login(t,{"Content-Type":"application/x-www-form-urlencoded",clientId:"www",formId:"form-autologin-www-v1"},m,(function(e){e&&n(e)}),(function(e){!$.isEmptyObject(e)&&e.code?o(e.code):o("default")})),s.find(".hidden-sign-in").remove(),s.find(".hidden-sign-in-standalone").remove()}))):(c.val(d),UFGeneral(e).deleteUFCookie("login-token"),UFGeneral(e).deleteUFCookie("userId"),UFGeneral(e).generalServices.deleteHttpOnlyCookie("login-token",(function(e){const t=""+(r+UFConst().API_URLS.loginMS);LoginService().login(t,{"Content-Type":"application/x-www-form-urlencoded",clientId:"www",formId:"form-login-www-v1"},m,(function(e){e&&n(e)}),(function(e){!$.isEmptyObject(e)&&e.code?o(e.code):o("default")})),c.val(d),s.find(".hidden-sign-in").remove()})))}};return function(){const t=c.hasClass("form-in-overlay"),n=c.hasClass("form-in-page");let o="";t?o=window.location.href:n&&(o=document.referrer?document.referrer:window.location.href),o.includes("/my-account/")||o.includes("/register.html")||UFGeneral(e).setUFCHValue("servicenow-sso","referrerStartSignInFlow",o)}(),{loginServices:m}}},function(e,t){window.UFManageProfile=function(e){const t=e.find(".UF-submit-btn a"),n=e.find(".UF-error-msg"),o=e.find(".inner-view form"),a=e.find(".inner-view"),s=a.data("manage-redirect-path"),i=a.find(".mp-email-field"),r=o.find('[name="email"]'),l=UFConst(),c=UFValidator(e),d=o.find(l.DOM.ELEMENTS.SECONDARY_MAIL),u=o.find("select[name=country]"),m=o.find("select[name=state]");function p(e,t){t?!function(e,t){return e.find("option").map((function(){return $(this).val()})).get().includes(t)}(e,t)?e.find("option").eq(0).prop("selected",!0):e.val(t).trigger("change"):e.find("option").eq(0).prop("selected",!0)}function f(t){p(u,t.countrySs),p(o.find("select[name=jobLevel]"),t.jobLevelSs),p(m,t.stateSs),"C-Level"===o.find("select[name=jobLevel]").val()?g(t,h):h(t,g),function(){const t=UFGeneral(e).getUFCHValue("servicenow-sso","optinChecked");let n;n=t&&"yes"==t.toLowerCase()?$(o[0].optin).parent().parent().find("input[value=Yes]"):t&&"no"==t.toLowerCase()?$(o[0].optin).parent().parent().find("input[value=No]"):null;!function(e){if(!e)return;$(e).prop("checked",!0)}(n)}()}function g(e,t){if(p(o.find("select[name=jobFunction]"),e.jobFunctionSs),null!=e.jobFunctionSs&&null!=e.jobRoleSs&&("CCO"===e.jobFunctionSs||"CRO"===e.jobFunctionSs)){const t=o.find("select[name=jobFunction]");let n=null,a=null,s=null,i=null;for(let e=0;e<t.prop("options").length;e++)"CCO"==t.prop("options")[e].value&&(n?a||(a=t.prop("options")[e]):n=t.prop("options")[e]),"CRO"==t.prop("options")[e].value&&(s?i||(i=t.prop("options")[e]):s=t.prop("options")[e]);"CCO"===e.jobFunctionSs&&n&&a&&"Governance, Risk and Compliance"===e.jobRoleSs&&($(n).before($(a)),t.val($(n).val()).trigger("change")),"CRO"===e.jobFunctionSs&&s&&i&&"Sales"===e.jobRoleSs&&($(s).before($(i)),t.val($(s).val()).trigger("change"))}t&&t(e)}function h(e,t){p(o.find("select[name=jobRole]"),e.jobRoleSs),!0===e.optInFlag||"true"===e.optInFlag?o.find(".gdpr-container [name=gdpr][value=Yes]").prop("checked",!0):!1!==e.optInFlag&&"false"!==e.optInFlag||o.find(".gdpr-container [name=gdpr][value=No]").prop("checked",!0),t&&t(e)}function v(){const t=UFGeneral(e).getUFCHValue("servicenow-sso","myEmail");o[0].email.length>1?o[0].email[1].value=t:o[0].email.value=t,i.text(t),r.val(t),o[0].firstname.length>1?o[0].firstname[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","fName"):o[0].firstname.value=UFGeneral(e).getUFCHValue("servicenow-sso","fName"),o[0].lastname.length>1?o[0].lastname[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","LName"):o[0].lastname.value=UFGeneral(e).getUFCHValue("servicenow-sso","LName"),o[0].secondaryEmail&&(o[0].secondaryEmail.length>1?o[0].secondaryEmail[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","secondaryEmail"):o[0].secondaryEmail.value=UFGeneral(e).getUFCHValue("servicenow-sso","secondaryEmail"));const n=UFGeneral(e).getUFCHValue("servicenow-sso","company"),a=-1!==t.indexOf("servicenow.com");o[0].company.length>1?a?(o[0].company[1].value=n||"ServiceNow",$(o[0].company[1]).prop("disabled",!0)):o[0].company[1].value=n:a?(o[0].company.value=n||"ServiceNow",$(o[0].company).prop("disabled",!0)):o[0].company.value=n,o[0].businessPhone.length>1?o[0].businessPhone[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","businessPhone"):o[0].businessPhone.value=UFGeneral(e).getUFCHValue("servicenow-sso","businessPhone");UFGeneral(e).getUFCHValue("servicenow-sso","termsUseUrl"),UFGeneral(e).getUFCHValue("servicenow-sso","privacyUrl");const s=UFGeneral(e).getUFCHValue("servicenow-sso","termsCondChecked");!0!==s&&"true"!==s||o.find("[name=t_c]").prop("checked",!0);const l={countrySs:UFGeneral(e).getUFCHValue("servicenow-sso","country"),jobLevelSs:UFGeneral(e).getUFCHValue("servicenow-sso","jobLevel"),region:UFGeneral(e).getUFCHValue("servicenow-sso","region"),stateSs:UFGeneral(e).getUFCHValue("servicenow-sso","state"),jobRoleSs:UFGeneral(e).getUFCHValue("servicenow-sso","jobRole"),jobFunctionSs:UFGeneral(e).getUFCHValue("servicenow-sso","jobFunction"),optInFlag:UFGeneral(e).getUFCHValue("servicenow-sso","optinChecked")};setTimeout((function(){f(l)}),1e3)}function w(){b.postFormData(o,(function(t){UFGeneral(e).setUFCHValue("servicenow-sso","emailValidated",t.emailValidated),function(t){let n;UFGeneral(e).setUFCHValue("servicenow-sso","userName",t[0].email.value),UFGeneral(e).setUFCHValue("servicenow-sso","userId",t[0].email.value),UFGeneral(e).setUFCHValue("servicenow-sso","fName",t[0].firstname.value),UFGeneral(e).setUFCHValue("servicenow-forms","name",t[0].firstname.value),UFGeneral(e).setUFCHValue("servicenow-sso","LName",t[0].lastname.value),UFGeneral(e).setUFCHValue("servicenow-sso","secondaryEmail",t[0].secondaryEmail?t[0].secondaryEmail.value:""),UFGeneral(e).setUFCHValue("servicenow-sso","myEmail",t[0].email.value),UFGeneral(e).setUFCHValue("servicenow-sso","company",t[0].company.value),UFGeneral(e).setUFCHValue("servicenow-sso","businessPhone",t[0].businessPhone.value),UFGeneral(e).setUFCHValue("servicenow-sso","jobLevel",t[0].jobLevel.value),UFGeneral(e).setUFCHValue("servicenow-sso","jobRole",t[0].jobRole.value),UFGeneral(e).setUFCHValue("servicenow-sso","country",t[0].country.value),UFGeneral(e).setUFCHValue("servicenow-sso","region",t[0].region.value),UFGeneral(e).setUFCHValue("servicenow-sso","jobFunction",t[0].jobFunction.value),UFGeneral(e).setUFCHValue("servicenow-sso","state",t[0].state.value),UFGeneral(e).setUFCHValue("servicenow-sso","termsCondChecked",t[0].t_c.checked),t[0].optin&&(n=t[0].optin.value),UFGeneral(e).setUFCHValue("servicenow-sso","optinChecked",n),UFGeneral(e).setUFCHValue("servicenow-sso","termsUseUrl",t.find("#termCondPath").val()),UFGeneral(e).setUFCHValue("servicenow-sso","privacyUrl",t.find("#privacyUrl").val())}(o),$(".universalForm .inner-view.ppAlternative").length&&($(".universalForm form.formless [name=progressiveProfileFlag]").remove(),$(".universalForm .inner-view").removeClass("ppAlternative"));const a=sessionStorage.getItem("updateIncompleteUserInfo");null!=a&&sessionStorage.removeItem("updateIncompleteUserInfo"),UFGeneral(e).hideSpinner(o),UFRouter(e).navigateTo(`${s} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,s),UFValidator(e).UFcheckFullProfile()&&UFValidator(e).UFremoveErrorMessage(n)}),(function(t){const a=UFConst().ERRORMESSAGES.missingRequestParams,s=UFConst().ERRORMESSAGES.ufManageProfileError,i={"07.98.01.410":Granite.I18n.get("missingHeaderParams"),"07.01.02.409":a,"07.99.02.410":a,"04.04.01.404":s,"04.04.01.509":s,"03.03.01.509":s};UFValidator(e).UFinsertSubmitErrorMessage(n,i[t.code]||s),UFGeneral(e).hideSpinner(o)}))}function y(e){return e?e.indexOf("http")>-1?e:window.location.origin+e:""}t.on("click tap",(function(){UFValidator(e).UFremoveSubmitErrorMessage(n);const t=UFValidator(e).UFValidateForm(o),a=!(d.length>0)||c.InitSecondaryMailField(o).validate();t&&a&&(UFGeneral(e).showSpinner(o),w())}));const b={postFormData(t,n,o){const a=UFGeneral(e).getUFIpAddress(),s=window.location.href,i=y(t.find("#termCondPath").val()),r=y(t.find("#privacyUrl").val()),l=t[0].secondaryEmail?t[0].secondaryEmail.value:"";let c="";t[0].optin&&(c=t[0].optin.value);const d=UFConst().API_URLS.updateProfileMS;UpdateProfileService().updateProfile(d,{contentType:"application/x-www-form-urlencoded",clientId:"www",formId:"form-updateprofile-www-v1"},{userId:t[0].email.value,userName:t[0].email.value,firstname:t[0].firstname.value,lastname:t[0].lastname.value,email:t[0].email.value,secondaryEmail:l,company:t[0].company.value,businessPhone:t[0].businessPhone.value,joblevel:t[0].jobLevel.value,jobRole:t[0].jobRole.value,countryCode:t[0].country.value,region:t[0].region.value,jobfunction:t[0].jobFunction.value,state:t[0].state.value,termCondFlag:t[0].t_c.checked,optInFlag:c,termCondUrl:i,privacyUrl:r,updateOkta:"true",emailValidated:UFGeneral(e).getUFCHValue("servicenow-sso","emailValidated"),pageurl:s,currentPagePath:s,updateprofile:!0,eloquaIpAddress:a,eVar93:t[0].eVar93.value,eVar94:t[0].eVar94.value,eloquaRefererUrl:t[0].eloquaRefererUrl.value},n,o)},getProfile(t,a){$.ajax({url:UFConst().API_URLS.get_profile_url,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{userName:decodeURIComponent(t)},success(t){if("USER_NOT_FOUND"==t.errorCode||"INPUT_NOT_FOUND"==t.errorCode){const a=t.errorDescription?t.errorDescription:t.errorMessage;UFValidator(e).UFinsertSubmitErrorMessage(n,Granite.I18n.get(a)),UFGeneral(e).hideSpinner(o)}else"function"==typeof a&&a.call(this,t)},error(t){UFGeneral(e).hideSpinner(o)}})}};if(function(){if(UFGeneral(e).getUFCHValue("servicenow-sso","userLoaded"))v();else{const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName")||UFGeneral(e).getUFCookie("userId");if(!UFGeneral(e).getUFCHValue("servicenow-forms","formlessUserID"))return;b.getProfile(t,(function(t){UFGeneral(e).populateUFServiceNowSsoCH(t),v()}))}}(),d&&d.length>0){c.InitSecondaryMailField(o)}}},function(e,t){window.UFOnLoadMyAccount=function(e){const t=UFConst(),n=UFValidator(e),o=UFGeneral(e).getUFCHValue("servicenow-forms","formlessUserID"),a=decodeURIComponent(UFGeneral(e).getUFCookie("userId")),s=UFGeneral(e).getUFCookie("xxsessionchecked"),i=e.find(".inner-view"),r=e.find(".inner-view form"),l=e.find(".universal-form-wrapper"),c=i.hasClass("login"),d=$("a.protected-page-link"),u=i.find(".UF-error-msg"),m=UFGeneral(e).getUFCookie("userId"),p=$("#tab-UF-myaccount, #tab-UF-myaccount-mobile"),f=i.find(".UF-info-pass"),g=i.find(".UF-interactive-password-tooltip"),h=(window.location.pathname,i.find(".UF-create-password-dynamic").siblings("input")),v=e.find(".close-btn-desktop,.close-btn-mobile,.UF-overlay-close-btn"),w=e.find(".UF-general-back-arrow-container"),y=r.find(".UF-email-validation"),b=r.find(".UF-password-validation"),C=r.find(".UF-name-validation"),S=r.find(".UF-company-validation"),x=r.find('input[name="jobTitle"].UF-default-validation'),k=r.find(".UF-phone-validation"),E=r.find(".UF-validate.checkbox"),I=r.find("select.UF-validate"),F=r.find(".UF-validate").not(E).not(I).not(t.DOM.ELEMENTS.SECONDARY_MAIL),U=r.find(".UF-validate-TA-Size"),L=r.find('[name="optin"]').closest("li"),T=r.find('[name="optInFlag"]'),_=r.find('[name="country"]').not(".chromeAutofill"),A=r.find('[name="email"]').length>0?r.find('[name="email"]').not(".chromeAutofill"):r.find('[name="username"]').length>0?r.find('[name="username"]').not(".chromeAutofill"):"",O=i.find(".additionalLink .cta-component a"),N=e.find(".left-side").find(".full-bleed-asset"),R=e.find(".right-side").find(".uf-assets-container"),q=e.find(".component-small-marquee .title").children(":first"),P=e.find("[type='radio']"),H=$(".inner-view.inner-view-events"),G=$(".section-component-universal-form.event-variation"),D=$(".inner-view.inner-secondary-event-variation"),M=$(".section-component-universal-form.secondary-event-variation"),V=l.hasClass("form-in-page")&&!e.hasClass("uf-sign-in-inner")&&i.hasClass("login"),j=l.hasClass("form-in-page")&&i.hasClass("create-account"),B=l.attr("data-is-edit-mode"),W=l.hasClass("form-in-overlay"),J=i.attr("data-account-linking-redirect-page-path");let z=!("true"===l.attr("data-event-k-seamless"));function K(t){const n=H.length||D.length?eventKGetRFStateUrl():null,o=UFGeneral(e).getUFCHValue("servicenow-sso","email");if(t){const n=decodeURIComponent(t),o=JSON.parse(n);UFGeneral(e).getUFCHValue("servicenow-sso","userName")||(UFGeneral(e).setUFCHValue("servicenow-sso","userName",o.mail),UFGeneral(e).setUFCHValue("servicenow-sso","fName",o.fn),UFGeneral(e).setUFCHValue("servicenow-forms","name",o.fn),UFGeneral(e).setUFCHValue("servicenow-sso","LName",o.ln),UFGeneral(e).setUFCHValue("servicenow-sso","myEmail",o.mail)),o.mail&&(UFGeneral(e).generalServices.getUFContextHubServletData(null,Y),H.length||D.length||UFGeneral(e).generalServices.getUFContextHubEventServletData(null))}else(G.length||M.length)&&o&&"PROFILE_SKIPPED"===n?(UFGeneral(e).setUFCHValue("servicenow-sso","userLoaded",!0),document.dispatchEvent(new CustomEvent("event:profileSkip"))):!G.length&&!M.length||t||o||"PROFILE_SKIPPED"!==n||i.hasClass("k21-profile-skipped")&&i.removeClass("k21-profile-skipped")}function Y(){$(".pillar-card-container .component-sra-pillar-card .card-cta").removeClass("hide-start-assessment-btn");"PROFILE_SKIPPED"===(H.length||D.length?eventKGetRFStateUrl():null)&&(sessionStorage.setItem("knowledgeCHCompleted","true"),document.dispatchEvent(new CustomEvent("event:profileSkip")))}function X(e,t,n){if("true"!==sessionStorage.getItem("k21IsAutoLogin")){e.find("form.login").find("[name=username]").val(t);n||initProfileSkippedRedirect(M.length?M:G,!0)||initRedirection(M.length?M:G,!0)||(!1!==window.seamlessOnEventFormPage&&(window.seamlessOnEventFormPage=!0),sessionStorage.setItem("userName",t),initEventKnowledge(M.length?M:G))}else{const e=M.length?M:G;window.location.href=UFGeneral(e).getFallbackRedirectURL(e)}}function Q(e,t){const n=new URL(window.location.href),{origin:o,searchParams:a}=n,s=a.get(Granite.I18n.get("eventInvitedAccount")),i=o.includes("knowledge");if(s&&i&&t){const n=t?decodeURIComponent(t):"",o=decodeURIComponent(s);if(o.toLowerCase()!==n.toLowerCase())return void EventInvitationFlow(n,o,e,{logout:UFGeneral(G).generalServices.logoutCurrentUser,continue:X});X(e,t,!1)}else s?(sessionStorage.setItem("userWasInvited","TRUE"),window.eventInvitationEmail=!0,X(e,s,!1)):t&&X(e,t,!1)}g.length&&(h.on("focus",e=>"confirm-password"!==e.target.id&&g.addClass("active")),h.on("blur",e=>"confirm-password"!==e.target.id&&g.removeClass("active")),h.on("keyup",(function(t){if("confirm-password"!==t.target.id){const t=h.val();UFGeneral(e).updateDynamicTooltip(i,t)}}))),d.each((function(t,n){$(n).on("click tap",(function(t){const n=$(this).attr("href"),o=$(this).attr("target");let a=null,s=null;n&&"#"!==n[0]&&(t.preventDefault(),s=0==n.indexOf("http")?n:`${window.location.protocol}//${window.location.host}${n}`,a="_blank"==o?"_blank":"_self",UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",s,UFConst().REDIRECT_COOKIE_EXP),window.open(n,a))}))})),r.find(".UF-show-pass").on("click",(function(){const e=$(this).closest("li"),t=$(e).find("input");"password"===$(t).attr("type")?($(t).attr("type","text"),$(this).text(Granite.I18n.get("hidepass"))):($(t).attr("type","password"),$(this).text(Granite.I18n.get("showpass")))})),f.on("mouseover",(function(){$(this).find(".UF-tooltip-text-password").css("visibility","visible")})),f.on("mouseout",(function(){$(this).find(".UF-tooltip-text-password").css("visibility","hidden")})),h.on("input",(function(){UFGeneral(e).showPasswordRulesTooltip(this,A),UFValidator(e).UFCheckPasswordLength(h)})),v.on("click",(function(){UFGeneral(e).closeOutMyUFAccountOverlay(UFGeneral(e).goBackToInitialAtCloseUF),sessionStorage.removeItem("forgotPasswordPath"),sessionStorage.removeItem("emailValidationStateErrorCode"),sessionStorage.removeItem("emailValidationState"),sessionStorage.removeItem("emailToValidate"),document.cookie="userToValidate=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.servicenow.com"})),w.on("click",(function(){UFGeneral(e).backButtonNavigation()})),y.on("change",(function(){UFValidator(e).UFcheckInputEmail(r,$(this))&&UFGeneral(e).retrieveContact($(this),_,ee,L,T)})),b.on("blur",(function(){UFValidator(e).UFPasswordValidation($(this),A)})),C.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),S.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),x.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),k.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),U.on("blur",(function(){UFValidator(e).UFcheckTextAreaField($(this))})),F.on("blur",(function(){UFGeneral(e).checkValidateField($(this))})),E.on("change",(function(){UFGeneral(e).checkValidateField($(this))})),I.on("blur",(function(){UFGeneral(e).checkValidateField($(this))})),O.on("click",(function(){UFGeneral(e).ctaNavigation($(this))})),!q.length||H.length||D.length||$(window).on("resize",(function(){UFGeneral(e).alignTitle(q,i.parent())})),$(window).on("resize",(function(){UFGeneral(e).isRightSideBiggerThanLeftSide()})),_.on("change",(function(t){UFGeneral(e).displayOptinSection(t,A,L,T,_,ee)})),P.on("change",(function(){const e=$(this).parents(t.DOM.ELEMENTS.RADIO_WRAPPER);e.length&&n.UFcheckRadioBtnField(e)}));const Z={getLoginFromOktaSession(t){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(n){n.id&&(UFGeneral(e).setUFCookie("xxlogin",n.login,.04166),t.call(this,n))},error(t){UFGeneral(e).setUFCookie("xxsessionchecked","true",.00138889)}})},eventsSessionCheck(e){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){t.id&&e.success.call(this,t)},error(t){e.fail.call(this,t)}})},seamlessLogOutAtSessionCheck(t){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(e){e.id&&t.call(this,e)},error(t){UFGeneral(e).getUFCookie("userId")&&(UFGeneral(e).deleteUFCookie("idToken"),UFGeneral(e).deleteUFCookie("userId"),UFGeneral(e).deleteUFCookie("accessToken"),UFGeneral(e).deleteUFCookie("login-token"),UFGeneral(e).deleteUFCookie("seamlessLogin"),UFGeneral(e).deleteUFCookie("xxsessionchecked"),p.removeClass("logged"),UFGeneral(e).generalServices.deleteHttpOnlyCookie("login-token",(function(e){setTimeout(()=>{const e=i.attr("data-profile-sign-out-account-redirect-page-path"),t=$(".universalForm:first");UFRouter(t).navigateTo(`${e} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,null)},200)}))),UFGeneral(e).initFormlessExp()}})},getOktaSessionId(e){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){t.id&&e(t.id)},error(t){e(null)}})},signOutChampions(t){$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"DELETE",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(n){UFGeneral(e).deminateUFCookieAndContextHub(!0),t.call(this,n)},error(n){UFGeneral(e).deminateUFCookieAndContextHub(!0),t.call(this,n),UFGeneral(e).hideSpinner(r)}})}};let ee,te,ne=null;if(i.attr("data-optin-json")?(ee=i.attr("data-optin-json"),te=i.attr("data-optin-json")):(ee="/etc/designs/json/countries.json",te="/etc/designs/json/countries.json"),$.getJSON(te,(function(e){ee=e,ne=e})),h.length&&UFGeneral(e).showPasswordRulesTooltip(h,A),!window.ufAccountFirstLoaded){window.ufAccountFirstLoaded=!0;const t=window.location.href.indexOf("//stage-")>-1?"https://6rrit6lthh.execute-api.us-west-2.amazonaws.com/v1":"https://31e8cetk75.execute-api.us-west-2.amazonaws.com/v1";$.ajax({url:t,method:"GET",headers:{"x-api-key":"0me5I0JOIr7obOqKMl56p9i4In5gsTJQ8EFxRjqi"}}).always(t=>{const n=t&&"object"==typeof t?t:JSON.parse(t);let l=0;function d(t){if(function(){const t="true"===UFGeneral(e).getUFParameterByNameMyAccount("emailValidated",window.location.search),n="true"===UFGeneral(e).getUFParameterByNameMyAccount("isFromProfileLinking",window.location.search),o=UFGeneral(e).getUFParameterByNameMyAccount("userName",window.location.search),a=UFGeneral(e).getUFParameterByNameMyAccount("linkAddress",window.location.search);if(t&&n){decodeURIComponent(UFGeneral(e).getUFCookie("userId"))&&(UFGeneral(e).showSpinner(r),Z.signOutChampions((function(){UFGeneral(e).setUFCookie("isEmailValidated",t,1/24),UFGeneral(e).setUFCookie("primaryAddress",o,1/24),UFGeneral(e).setUFCookie("linkedAddress",a,1/24),UFGeneral(e).hideSpinner(r)})))}}(),function(){const t="true"===UFGeneral(e).getUFParameterByNameMyAccount("isFromProfileLinking",window.location.search);if(c&&t){const t=UFGeneral(e).getUFParameterByNameMyAccount("userName",window.location.search);i.find(".UF-email-validation").val(t)}}(),V&&function(){const t=UFGeneral(e).getUFParameterByNameMyAccount("resource",window.location.search),n=UFGeneral(e).getUFParameterByNameMyAccount("j_reason",window.location.search),o="true"===UFGeneral(e).getUFParameterByNameMyAccount("isFromProfileLinking",window.location.search);t&&"null"!==t&&n&&"INVALID_CREDENTIALS"!==n?(UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",decodeURIComponent(t),UFConst().REDIRECT_COOKIE_EXP)):o?(UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",J,UFConst().REDIRECT_COOKIE_EXP)):t&&"null"!==t&&t.indexOf("/content/servicenow/assetshare.html")>-1&&(UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",decodeURIComponent(t),UFConst().REDIRECT_COOKIE_EXP))}(),H.length||D.length?Z.eventsSessionCheck({success(t){if(null==m||""==m||null==m)UFGeneral(e).setUFCookie("redirectionPage",window.location.href,UFConst().REDIRECT_COOKIE_EXP),window.location.href=UFConst().YOUR_OKTA_DOMAIN+UFConst().OKTA_AUTHORIZE_API_URL+UFConst().API_URLS.auth_api_query_param;else{const n=UFGeneral(e).getUFCookie("userId"),o=decodeURIComponent(n.trim().toLowerCase()),a=t.login?decodeURIComponent(t.login.trim().toLowerCase()):"";a&&o!=a?(UFGeneral(e).deminateUFCookieAndContextHub(!0),window.location.reload()):D.length?X(D,t.login,!1):Q(H,t.login)}},fail(t){UFGeneral(e).deleteUFCookie("idToken"),UFGeneral(e).deleteUFCookie("userId"),UFGeneral(e).deleteUFCookie("accessToken"),UFGeneral(e).deleteUFCookie("login-token"),UFGeneral(e).deleteUFCookie("seamlessLogin"),UFGeneral(e).deleteUFCookie("xxsessionchecked"),UFGeneral(e).generalServices.deleteHttpOnlyCookie("login-token",(function(e){H.length&&Q(H,!1)}))}}):null==s||""==s||null==s?null==m||""==m||null==m?(Z.getLoginFromOktaSession((function(t){if(t.login){if(UFGeneral(e).getUFCookie("xxlogin")){UFGeneral(e).getUFCookie("redirectionPage")||UFGeneral(e).setUFCookie("redirectionPage",window.location.href,UFConst().REDIRECT_COOKIE_EXP),window.location.href=UFConst().YOUR_OKTA_DOMAIN+UFConst().OKTA_AUTHORIZE_API_URL+UFConst().API_URLS.auth_api_query_param}}})),UFGeneral(e).initFormlessExp()):Z.seamlessLogOutAtSessionCheck((function(t){const n=UFGeneral(e).getUFCookie("userId"),o=decodeURIComponent(n.trim().toLowerCase()),a=t.login?decodeURIComponent(t.login.trim().toLowerCase()):"";if(a&&o!=a)UFGeneral(e).deminateUFCookieAndContextHub(!0),window.location.reload();else if(n){UFGeneral(e).setUFCHValue("servicenow-sso","userName",n);const t=UFGeneral(e).getUFCookie("seamlessLogin"),o=$("html").hasClass("base"),a=UFGeneral(e).getUFCHValue("servicenow-sso","ssoUserId"),s=UFGeneral(e).getUFCookie("upgradeSeamlessLogin");if(t&&o&&!a&&!s){UFGeneral(e).getUFCookie("redirectionPage")||UFGeneral(e).setUFCookie("redirectionPage",window.location.href,UFConst().REDIRECT_COOKIE_EXP),UFGeneral(e).setUFCookie("upgradeSeamlessLogin","true",.00138889),window.location.href=UFConst().YOUR_OKTA_DOMAIN+UFConst().OKTA_AUTHORIZE_API_URL+UFConst().API_URLS.auth_api_query_param}else UFGeneral(e).generalServices.getUFContextHubServletData(null),UFGeneral(e).generalServices.getUFContextHubEventServletData(null)}})):m?Z.seamlessLogOutAtSessionCheck((function(t){if(!UFGeneral(e).getUFCHValue("servicenow-sso","myEmail")){const t=UFGeneral(e).getUFCookie("userId");t&&(UFGeneral(e).setUFCHValue("servicenow-sso","userName",t),UFGeneral(e).generalServices.getUFContextHubServletData(null),UFGeneral(e).generalServices.getUFContextHubEventServletData(null))}})):UFGeneral(e).initFormlessExp(),window.location.search.indexOf("INVALID_CREDENTIALS")>-1&&u.length>0&&UFValidator(e).UFinsertSubmitErrorMessage(u,UFConst().ERRORMESSAGES.invalidCredentialTryAgain),window.location.search.indexOf("emailValidated")>-1){const t=i.find(".UF-email-validation-title");if(t.length){const n=UFGeneral(e).getUFParameterByNameMyAccount("isFromProfileLinking",window.location.search),o=UFGeneral(e).getUFParameterByNameMyAccount("emailValidated",window.location.search),a=UFGeneral(e).getUFParameterByNameMyAccount("userName",window.location.search);if(t.removeClass("UF-email-validation-title-off"),"true"===o)if(UFGeneral(e).setUFCookie("emailValidatedLinkClicked"+a,"true",UFConst().EMAIL_VALIDATION_COOKIE_EXP),"true"===n)if("true"!=UFGeneral(e).getUFCookie("linkingEmailAlreadyVerified"+a)){UFGeneral(e).setUFCookie("linkingEmailAlreadyVerified"+a,"true",UFConst().EMAIL_VALIDATION_COOKIE_EXP);const n=t.attr("data-email-champion-validation");t.text(Granite.I18n.get(n))}else{const e=t.attr("data-email-validated");t.text(Granite.I18n.get(e))}else t.text(t.attr("data-email-validation-success"));else{const n=UFGeneral(e).getUFParameterByNameMyAccount("code",window.location.search);if(n){const e=Granite.I18n.get(n);n!==e?t.text(e):t.text(t.attr("data-email-validation-failed"))}else t.text(t.attr("data-email-validation-failed"))}}}const n=UFGeneral(e).getUFCHValue("servicenow-sso","myEmail");if(a){UFGeneral(e).getUFCHValue("servicenow-sso","userName");const t=UFGeneral(e).getUFCookie("idToken");K(n?t:t||null)}else o?window.location.href.indexOf(UFConst().DEMONOW_URL)>-1&&p.css("display","none"):(UFGeneral(e).deminateUFCookieAndContextHub(!1),K(null))}(!n||n&&"Good"!==n.message)&&(l=randomize(3)),setTimeout((function(){if(H.length||D.length||(z=!0),z){if(H.length||D.length||function(){const t=window.location.href,n=window.location.search,o=t.indexOf("j_reason=")>-1,a=UFGeneral(e).getUFCookie("userId"),s=decodeURIComponent(UFGeneral(e).getUFCookie("redirectionPage"));(V||j)&&(o?UFGeneral(e).deminateUFCookieAndContextHub(!0):B||-1===n.indexOf("eventsRegistration=snevent")&&a&&-1===n.indexOf("isFromProfileLinking=true")&&(window.location.href=s||UFGeneral(e).getFallbackRedirectURL(e)))}(),a||(document.cookie="login-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),!a)return void UFGeneral(e).generalServices.deleteHttpOnlyCookie("login-token",d);d()}else if(H.length&&!D.length&&r.hasClass("login")){const e=r.find(".UF-user-check-btn a");e.length>0&&e.prop("disabled",!0);const t=new URL(window.location.href),{searchParams:n}=t,o=n.get(Granite.I18n.get("eventInvitedAccount"));sessionStorage.setItem("userWasInvited","TRUE"),r.find("[name=username]").val(o)}}),1e3*l)})}!window.ufAccountOverlayFirstViewLoaded&&W&&(window.ufAccountOverlayFirstViewLoaded=!0,decodeURIComponent(UFGeneral(e).getUFCookie("userId"))?(p.addClass("logged"),UFGeneral(e).finishTakenTime("Login"),UFGeneral(e).navViewYourProfile()):(p.removeClass("logged"),UFGeneral(e).navLogin())),UFGeneral(e).generalBackButtonInit(),$(e).find("div.terms").length&&(UFGeneral(e).loadTermsOfUse(),UFGeneral(e).analyticsForTermsAndConditions()),N.length&&UFGeneral(e).copyFullBleedAssetToMediaListContainer(N,R),!q.length||H.length||D.length||UFGeneral(e).alignTitle(q,i.parent()),UFGeneral(e).removeChromeInputs(r),UFGeneral(e).isRightSideBiggerThanLeftSide(),UFGeneral(e).setHiddenFieldsValues()}},function(e,t){window.UFRegisterThankYou=function(e){const t=e.find(".inner-view form").first(),n=t.find(".UF-auto-login-message"),o=t.find(".UF-auto-login-counter"),a=e.find(".inner-view form"),s=["Processing your form submission","Creating your ServiceNow ID","Transmitting data","Confirming transmission","Redirecting you to your destination"],i=s.length,r=n?Number(n.data("autoLoginTimer")):5,l=r/i,c=e.find(".UF-error-msg");return function(){const t=sessionStorage.getItem("userName")||decodeURIComponent(UFGeneral(e).getUFCookie("userId")),d=sessionStorage.getItem("no_no");if(d){const u='<form action="/login-form.html/j_security_check" method="POST" class="hidden-sign-in-standalone" style="display:none;"><input id="pagePath" type="hidden" name="pagePath" value=""><input type="text" tabindex="1" name="username" id="email" value="" class="email standalone_temp_email"><input type="password" tabindex="1" name="password" id="password" value="" class="standalone_temp_password"></form>';a.append(u);const m=a.find(".hidden-sign-in-standalone"),p=m.find("input.standalone_temp_email"),f=m.find("input.standalone_temp_password");p.val(t),f.val(d),UFGeneral(e).showSpinner(a),n.html((r<i?Granite.I18n.get("You will be automatically signed in"):Granite.I18n.get(s[0]))+"..."),n.addClass("UF-show-messg"),UFGeneral(e).setUFCookie("current_page_url",window.location.pathname,1/24),function e(t,o,a,l){let c=o;r<i?l.call(this):setTimeout((function(){c<r?(n.hide(),n.html(Granite.I18n.get(s[Math.round(i/(r/c))])+"...").fadeIn(),c+=a,e(t,c,a,l)):l.call(this)}),1e3*a)}(o,l,l,(function(){sessionStorage.removeItem("no_no"),UFLogin(e).loginServices.submitForm(m,(function(e){window.top.location.href=e.redirectPath}),(function(t){n.removeClass("UF-show-messg");const o=UFConst().ERRORMESSAGES.invalidCredentials,s=UFConst().ERRORMESSAGES.emailisnotvaliderror,i=UFConst().ERRORMESSAGES.unableToFindAccount;function r(){UFValidator(e).UFinsertSubmitErrorMessage(c,o),UFGeneral(e).hideSpinner(a)}function l(){UFValidator(e).UFinsertSubmitErrorMessage(c,Granite.I18n.get("Email Verification Failure")),UFGeneral(e).hideSpinner(a)}return{default:()=>l,"03.01.01.509":()=>l(),"04.02.01.509":()=>l(),"04.01.01.501":()=>l(),"04.01.01.502":()=>l(),"04.02.01.401":()=>r(),"07.01.01.409":()=>r(),"07.02.01.409":()=>r(),"07.02.01.410":()=>r(),"07.01.01.410":()=>{UFValidator(e).UFinsertSubmitErrorMessage(c,s),UFGeneral(e).hideSpinner(a)},"04.01.01.404":()=>{UFValidator(e).UFinsertSubmitErrorMessage(c,i),UFGeneral(e).hideSpinner(a)},"04.01.03.422":()=>{const t=a.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",t),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(a)},"04.01.03.411":()=>{const t=a.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",t),sessionStorage.setItem("emailValidationState","userAccountLockedOut"),sessionStorage.setItem("emailValidationStateErrorCode","LOCKED_OUT"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(a)},"04.01.03.413":()=>{const t=a.find('[name="username"]').val();sessionStorage.setItem("emailToValidate",t),sessionStorage.setItem("emailValidationState","userAccountPasswordExpired"),sessionStorage.setItem("emailValidationStateErrorCode","PASSWORD_EXPIRED"),sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath()),UFGeneral(e).navEmailValidation(),UFGeneral(e).hideSpinner(a)}}[t]()}))}))}}(),{}}},function(e,t){window.UFValidateEmail=function(e){const t=e.find(".UF-error-msg"),n=e.find(".inner-view"),o=n.find(".UF-send-verification-email"),a=e.find(".inner-view form"),s=e.find(".UF-header"),i=n.find(".validateemail-sent-message"),r=n.find(".login-title").not(".validateemail-sent-message"),l=n.data("current-page-path"),c=(n.data("sign-in-path"),n.find(".UF-account-linking-overlay")),d="true"==c.attr("data-isEmailExpired"),u=c.attr("data-account-linking-redirect-path"),m=n.find(".UF-header"),p=c.find(".UF-ok-box-cta a"),f=c.find(".UF-overlay-content-close-button"),g=c.find(".UF-resend-btn"),h=sessionStorage.getItem("emailValidationState"),v=sessionStorage.getItem("emailValidationStateErrorCode"),w=sessionStorage.getItem("emailToValidate")||UFGeneral(e).getUFCookie("userToValidate"),y=sessionStorage.getItem("forgotPasswordPath"),b=n.find(".wrapper-ul .login-description");o.on("click tap",(function(){if(h&&"undefined"!=h){if("PASSWORD_EXPIRED"===v)y&&"undefined"!=y&&UFRouter(e).navigateTo(`${y} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,y);else if("STAGED"===v){const e=window.location.origin,t=`//${e.indexOf("web")>-1?"ssouat":"signon"}.service-now.com/ssoforgotpassword.do?email=${w}&redirectUri=&relayState=%2Fapp%2Fservicenowexternalprod_communityhi_1%2Fexkipkc9nmwXN8v0v0x7%2Fsso%2Fsaml%3FRelayState%3D%252Fcommunity`;window.parent.postMessage(JSON.stringify({emailValidateUrl:t}),e),window.location=t}}else{UFGeneral(e).showSpinner(a),UFValidator(e).UFremoveSubmitErrorMessage(t);const n=UFGeneral(e).getUFParameterByNameMyAccount("linkId");n?C.validateEmail({linkId:n}):C.validateEmail({username:w,validateEmailPath:l})}sessionStorage.removeItem("forgotPasswordPath"),sessionStorage.removeItem("emailValidationStateErrorCode"),sessionStorage.removeItem("emailValidationState"),sessionStorage.removeItem("emailToValidate"),document.cookie="userToValidate=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.servicenow.com"})),g.on("click",(function(){const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName"),n=UFGeneral(e).getUFCHValue("servicenow-sso","fName"),o=UFGeneral(e).getUFCHValue("servicenow-sso","LName"),a=`${UFConst().API_URLS.account_linking_url}?operationType=email&username=${t}&linkAddress=${UFGeneral(e).getUFParameterByNameMyAccount("linkAddress")}&firstname=${n}&lastname=${o}`;$.post(a,(function(e){}))})),f.on("click",(function(){UFRouter(e).navigateTo(`${u} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,u),sessionStorage.removeItem("forgotPasswordPath"),sessionStorage.removeItem("emailValidationStateErrorCode"),sessionStorage.removeItem("emailValidationState"),sessionStorage.removeItem("emailToValidate"),document.cookie="userToValidate=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.servicenow.com"})),p.on("click",(function(){UFRouter(e).navigateTo(`${u} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,u),sessionStorage.removeItem("forgotPasswordPath"),sessionStorage.removeItem("emailValidationStateErrorCode"),sessionStorage.removeItem("emailValidationState"),sessionStorage.removeItem("emailToValidate"),document.cookie="userToValidate=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.servicenow.com"}));const C={validateEmail(n){let l;l=n.linkId?{linkId:n.linkId,operationType:"sendEmail"}:{username:n.username,operationType:"sendEmail",validateEmailPath:n.validateEmailPath,locale:getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang")),currentPagePath:window.location.href},$.ajax({url:UFConst().API_URLS.validate_url,type:"POST",data:l,success(n){404==n.statusCode?UFValidator(e).UFinsertSubmitErrorMessage(t,Granite.I18n.get(UFConst().ERRORMESSAGES.checkemailerror)):200==n.statusCode?(r.hide(),i.show(),b.text(Granite.I18n.get("checkEmailSpam")),o.hide()):"EMAIL_LIMIT_EXCEEDED"==n.errorCode&&UFGeneral(e).showExceededRateMesg(s,null),UFGeneral(e).hideSpinner(a)},error(n){const o=n.responseString;UFValidator(e).UFinsertSubmitErrorMessage(t,Granite.I18n.get(o)),UFGeneral(e).hideSpinner(a)}})}};if(d&&(c.css("display","flex"),o.css("visibility","hidden"),m.css("visibility","hidden")),null!=h&&""!=h){const e=Granite.I18n.get(h);null!=v&&""!=v&&(r.remove(),i.hide(),"LOCKED_OUT"===v?(b.text(e),o.remove()):"PASSWORD_EXPIRED"===v?(b.text(e),o.text(Granite.I18n.get("Reset your password"))):"STAGED"===v&&(b.text(e),o.text(Granite.I18n.get("Re-Send Verification Email Staged"))))}return{}}},function(e,t){window.UFViewYourProfile=function(e){const t=e.find(".UF-error-msg"),n=e.find(".inner-view"),o=n.find(".UF-manage-profile"),a=n.find(".UF-sign-out"),s=n.find(".UF-greetings .UF-greetings-heading"),i=n.find(".UF-greetings a"),r=UFGeneral(e).getUFCHValue("servicenow-sso","fName"),l=o.data("force-stand-alone");o.on("click",(function(){const t=`${n.attr("data-manage-profile-path")} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`;l?window.location.href=UFRouter(e).rewriteURL(n.attr("data-manage-profile-path")):UFRouter(e).navigateTo(t,n.attr("data-manage-profile-path"))})),a.on("click",(function(){UFGeneral(e).generalServices.completeSignout(n.attr("data-profile-sign-out-account-redirect-page-path"))}));const c={getProfile(n,o){$.ajax({url:UFConst().API_URLS.get_profile_url,type:"GET",contentType:"application/json",data:{userName:n},success(n){if("USER_NOT_FOUND"==n.errorCode){const o=n.errorDescription?n.errorDescription:n.errorMessage;UFValidator(e).UFinsertSubmitErrorMessage(t,Granite.I18n.get(o))}else"function"==typeof o&&o.call(this,n)}})}};if(r)d(r);else{if(UFGeneral(e).getUFCookie("idToken").length){d(JSON.parse(decodeURIComponent(UFGeneral(e).getUFCookie("idToken"))).fn)}else{const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName")||decodeURIComponent(UFGeneral(e).getUFCookie("userId"));t&&c.getProfile(t,(function(t){d(t?t.firstName:UFGeneral(e).getUFCHValue("servicenow-sso","fName")||decodeURIComponent(UFGeneral(e).getUFCookie("userId")))}))}}function d(e){const t=e.replace(/\+/g," "),n="notprofilelabelSuffix"!=Granite.I18n.get("notprofilelabelSuffix")?Granite.I18n.get("notprofilelabelSuffix"):"";s.text(`${Granite.I18n.get("Helloprofilelabel")} ${t}!`),i.text(`${Granite.I18n.get("notprofilelabel")} ${t} ${n}?`)}return{}}},function(e,t){window.UFOnLoadFormless=function(e){const t=UFConst(),n=UFValidator(e),o=e.find(".inner-view.formless"),a=o.find("form.formless"),s=a.find('[name="sessioninterest"]'),i=a.find('input[name="field37"]'),r=a.find('[name="email"]').length>0?a.find('[name="email"]').not(".chromeAutofill"):a.find('[name="username"]').length>0?a.find('[name="username"]').not(".chromeAutofill"):"",l=a.find(".UF-validate-TA-Size"),c=a.find('[name="password"]').not(".chromeAutofill"),d=a.find('[name="locale"]'),u=a.find('[name="currentPagePath"]'),m=a.find(".UF-name-validation"),p=a.find(".UF-company-validation"),f=a.find('input[name="jobTitle"].UF-default-validation'),g=a.find(".UF-phone-validation"),h=a.find(".UF-validate.checkbox"),v=a.find("select.UF-validate"),w=a.find(".UF-validate").not(h).not(v),y=a.find(".UF-right-pass").closest(".UF-hide-init"),b=o.find(".UF-interactive-password-tooltip"),C=a.find(".UF-info-pass"),S=a.find(".UF-submit-btn button"),x=a.find(".UF-submit-btn .uf-submit-form-download"),k=a.find(".UF-submit-btn .uf-submit-form"),E=a.find('[name="optin"]'),I=E.closest("li"),F=a.find('[name="optInFlag"]'),U=a.find('[name="country"]').not(".chromeAutofill"),L=a.find('[name="newsletter-checkbox"]'),T=a.find('[name="newsletteroptin"]'),_=a.find('[name="demonowIamInterestedIn"]'),A=a.find('[name="iAmInterestedIn"]'),O=o.find(".UF-sign-in-inner"),N=O.find("form"),R=O.find(".UF-back-btn"),q=a.find(".UF-error-msg"),P=o.find(".UF-sign-in-account"),H=a.find('[name="sms-checkbox"]'),G=a.find('[name="mobilePhone"]'),D=G.closest("li"),M=a.find(".UF-secondary-cta"),V=e.find(".UF-general-back-arrow-container"),j=o.find(".UF-header.formless"),B=o.find(".additional-bottom-section"),W=e.find(".close-btn-desktop,.close-btn-mobile,.UF-overlay-close-btn"),J=e.find(".UF-general-back-arrow-container"),z=a.find(".UF-missing-form-fields"),K=o.find(".additionalLink .cta-component a"),Y=e.find(".left-side").find(".full-bleed-asset"),X=e.find(".right-side").find(".uf-assets-container.formless"),Q=e.find(".component-small-marquee .title").children(":first"),Z=a.find('[name="createAccountSourcePage"]'),ee=a.find('[name="mcid"]'),te=e.find("[type='radio']"),ne=a.find('[name="accountname"]').not(".chromeAutofill"),oe=$(ne).parent(),ae=o.hasClass("value-calculator"),se=o.hasClass("csc-solution-planner"),ie=a.find(".accountNameText"),re=a.find('input[name="spData"]'),le=JSON.parse(sessionStorage.getItem("universalFormSPData"));function ce(e,t){"false"!==e&&"No"!==e||t.find(".UF-hide-optin").removeClass("UF-hide-optin UF-show-input")}function de(t){if("undefined"!=typeof ContextHub){const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName");t&&a.append(`<input type="hidden" name="userNameCH" value="${t}"/>`)}o.find(".UF-hide-input").removeClass("UF-hide-input");const n=UFGeneral(e).getUFCHValue("servicenow-sso","optinChecked");if(n)ce(n,a);else{const e=t=>{ce(t.detail,a),document.removeEventListener("contexthub:optinChecked",e)};document.addEventListener("contexthub:optinChecked",e)}o.find("[name=formlessUserID]").val(t)}function ue(e){const t=e?S.attr("data-button-on"):S.attr("data-button-off");t&&S.text(Granite.I18n.get(t))}function me(){if(UFValidator(e).UFcheckFullProfile()){const t=UFGeneral(e).getUFCHValue("servicenow-sso","company"),n=a.find("[name=company]").val();t&&!n&&a.find("[name=company]").val(t);const o=F.val();if("true"!==o&&!0!==o||UFGeneral(e).setUFCHValue("servicenow-sso","optinChecked","true"),re.length>0&&le&&ve(),s){let e=window.localStorage.getItem("digitalData");const t=s.val();if(e&&t){e=JSON.parse(e);e.mids_lead.sessioninterest=t,window.localStorage.setItem("digitalData",JSON.stringify(e))}}""==UFGeneral(e).getUFCHValue("servicenow-forms","formlessUserID")?location.reload():UFValidator(e).UFIsValidDownload(a)&&(x.attr("disabled",!0),a.get(0).submit())}else!function(e){const t=e.find(".downloadErrorMessage").val(),n=e.find(".downloadErrorLink").val(),o=e.find(".UF-error-msg");let a="";t&&(a+=t+" ");n&&(a+=`<p><a href='#'>${n}</a></p>`);o.addClass("UF-show-error-message"),o.html(a),o.find("a").on("click",(function(){if($("#tab-myaccount a").length){$("#tab-myaccount a").click();const e="//"+window.location.host;navigateTo(e+"/my-account/my-account-manage-profile.html #my-account-manage-profile",null)}else if($("#tab-UF-myaccount a").length){const e=$(".universal-form-wrapper.form-in-overlay").parents(".universalForm");$("#tab-UF-myaccount a").click();const t=e.find(".inner-view").first();UFRouter(e).navigateTo(`${t.attr("data-incomplete-manage-profile-path")} ${UFConst().UF_CONTAINER_OVERLAY_LOAD}`,t.attr("data-incomplete-manage-profile-path"))}sessionStorage.setItem("updateIncompleteUserInfo",!0),o.removeClass("UF-show-error-message")}))}(o)}function pe(){if(UFValidator(e).UFValidateForm(a)){const t=i.prop("checked");if(UFGeneral(e).showSpinner(a),function(e){if(!e.hasClass("mids-progressive-profile"))return!1;const t={},n=e.get(0),o=n.querySelector("[name=email]").value,a=n.querySelector("[name=optin]:checked")?n.querySelector("[name=optin]:checked").value:"",s=n.querySelector("[name=experienceVariant]").value;let i="default-control"===s?"9999":parseInt(n.querySelector("[name=midsPPStage]").value);const r=window.ppVariantStageObj;if(r){const e=r[s]?Object.keys(r[s]).length:0;i=i>=e||0===e?"9999":i+=1}t.email=o,t.opt_in=a,t.experiment_variant=s,t.lead_object_complete_state=i,window.localStorage.setItem("tempMidsLead",JSON.stringify(t))}(o),re.length>0&&le&&ve(),t){const t=c.val();we.autoLogin(t,(function(n){if(400===n.statusCode||500===n.statusCode){c.val(t);const o=n.responseString;UFValidator(e).UFinsertSubmitErrorMessage(q,Granite.I18n.get(o))}else UFGeneral(e).deminateUFCookieAndContextHub(!0),UFGeneral(e).setUFCHValue("servicenow-sso","userName",r&&r.length>0?r.val():""),UFGeneral(e).setUFCHValue("servicenow-sso","registration_complete",!0),E.length&&UFGeneral(e).setUFCHValue("servicenow-sso","optin",E.val()),N.find('[name="username"]').val(r&&r.length>0?r.val():""),N.find('[name="password"]').val(c.val()),N.get(0).submit();UFGeneral(e).hideSpinner(a)}))}else E.length&&UFGeneral(e).setUFCHValue("servicenow-sso","optin",E.val()),UFGeneral(e).setUFCHValue("servicenow-anonymous","UserData",a.serializeArray()),UFGeneral(e).setUFCookie("isAnonUser",!0,UFConst().ANONUSER_COOKIE_EXP),sessionStorage.setItem("anonFlag",!0),a.get(0).submit(),a.find("input[name='roiCalculatorForm']").length&&setTimeout((function(){UFGeneral(e).hideSpinner(a)}),3e3)}}function fe(e){const t=e[0].checked?"Yes":"";T.val(t)}function ge(t,n){UFGeneral(e).setUFCHValue("servicenow-sso","scopedCountryDownload",null),n&&void 0!==ye.countries[n]&&UFGeneral(e).setUFCHValue("servicenow-sso","scopedCountryDownload",!0),function(e){const t={elqEmail:e,elqDomain:"go.servicenow.com",elqKey:"9e7ef876e5544ff8b56a38850c0cd0c1",elqSiteID:1133,elqPPS:50};lookupRequestUrl(`https://${t.elqDomain}/visitor/v200/svrGP.aspx?pps=${t.elqPPS}&siteid=${t.elqSiteID}&DLKey=${t.elqKey}&DLLookup=%3CC_EmailAddress%3E${t.elqEmail}%3C/C_EmailAddress%3E&ms=97`,!1)}(t)}function he(){if(ae||se){const n=function(){const t=UFGeneral(e).getUFCHValue("servicenow-forms","formlessUserID");return t&&""!==t?t:r&&r.length>0?r.val():""}(),o=n.includes("@")?t.SERVICENOW_EMAIL_PATTERN.test(n):UFGeneral(e).getUFCHValue("servicenow-forms","isSNEmail");$(oe).toggleClass(t.DOM.CSS.HIDE_FIELD,!o),$(ie).insertBefore(oe),o?($(oe).removeClass("UF-show-input"),$(ie).addClass("showTxt")):$(ie).removeClass("showTxt")}}function ve(){let e=sessionStorage.getItem("pdfCompanyCookie");e=e.replace(/['"]+/g,"");const t=getCookie(e);let n=new Date;const o=String(n.getDate()).padStart(2,"0"),s=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear();n=`${s}/${o}/${i}`;const r=function(e){let t=`${l+c}?number=${u}&company=${e}&date=${n}`;t=t.replace(/['"]+/g,""),t=t.replace(/ /g,"%20"),sessionStorage.setItem("spPdfUrl",t),a.find("[name=spPdfLink]").val(t)},l=window.location.origin,c=sessionStorage.getItem("pdfTemplatePath");re.val(JSON.stringify(le));const d=[];for(let e=0;e<le.length;e++)d.push(le[e].Number);const u=d.join("|");r(t||a.find("[name=company]").val())}b.length&&(c.on("focus",e=>"confirm-password"!==e.target.id&&b.addClass("active")),c.on("blur",e=>"confirm-password"!==e.target.id&&b.removeClass("active")),c.on("keyup",(function(t){if("confirm-password"!==t.target.id){const t=c.val();UFGeneral(e).updateDynamicTooltip(o,t)}}))),U.on("change",(function(t){UFGeneral(e).displayOptinSection(t,r,I,F,U,ye)})),c.on("input",(function(){UFGeneral(e).showPasswordRulesTooltip(this,r)})),x&&UFGeneral(e).generalServices.getUFContextHubServletData(null,(function(){x.css("display","block"),x.on("click",(function(){me()}))})),k&&k.on("click",(function(){pe()})),i.on("change",(function(){y.hasClass("UF-show-input")?y.removeClass("UF-show-input"):y.addClass("UF-show-input");const t=a.attr("action");if(t===UFConst().NO_SN){z.removeClass("UF-show-input"),a.attr("action",UFConst().GET_SN),a.find("[name='registration']").attr("value",!0);const t=window.location.href;t&&(UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",t,UFConst().REDIRECT_COOKIE_EXP)),ue(!0)}else t===UFConst().GET_SN&&(z.addClass("UF-show-input"),a.attr("action",UFConst().NO_SN),a.find("[name='registration']").attr("value",""),ue(!1))})),a.find(".UF-show-pass").on("click",(function(){const e=$(this).closest("li"),t=$(e).find("input");"password"===$(t).attr("type")?($(t).attr("type","text"),$(this).text(Granite.I18n.get("hidepass"))):($(t).attr("type","password"),$(this).text(Granite.I18n.get("showpass")))})),C.on("mouseover",(function(){$(this).find(".UF-tooltip-text-password").css("visibility","visible")})),C.on("mouseout",(function(){$(this).find(".UF-tooltip-text-password").css("visibility","hidden")})),E.on("change",e=>{"Yes"===e.target.value?F.val("Yes"):F.val("No")}),L.on("change",(function(){fe($(this))})),P.on("click",(function(t){!function(){const t=window.location.href;t&&(UFGeneral(e).deleteUFCookie("rfRedirectUrl"),UFGeneral(e).setUFCookie("redirectionPage",t,UFConst().REDIRECT_COOKIE_EXP)),O.removeClass("UF-show-input"),a.addClass("UF-hide-input"),q.addClass("UF-hide-input"),j.addClass("UF-hide-input"),V.addClass("UF-hide-input"),B.addClass("UF-hide-input"),X.addClass("UF-hide-assets-container")}(),UFGeneral(e).isRightSideBiggerThanLeftSide();const n=o.find("h2").val(),s=o.data("component-name")||o.data("com-name");window.appEventData=window.appEventData||[];const i={name:"global_click",digitalData:{event:{pageArea:"universal-form",eVar22:o.hasClass("multistep-form")?"multistep-form:signIn":"control-form:signIn",title:n,linkText:P.text(),componentName:s}},event:t};window.appEventData.push(i)})),R.on("click",(function(){O.addClass("UF-show-input"),a.removeClass("UF-hide-input"),q.removeClass("UF-hide-input"),j.removeClass("UF-hide-input"),V.removeClass("UF-hide-input"),B.removeClass("UF-hide-input"),X.removeClass("UF-hide-assets-container"),UFGeneral(e).isRightSideBiggerThanLeftSide()})),_.on("change",(function(){const t=$(this),n=a.find('[name="thankyouId"]'),o=a.find('[name="CampaignId"]'),i=t.children("option:selected"),r=encodeURI($(i).attr("data-filter-value")),l=$(i).attr("data-campaign-id");let c=n.val();if(c=UFGeneral(e).updateURLParameter(c,"filterTag",r),c=UFGeneral(e).updateURLParameter(c,"demoSub",(new Date).getTime()),s){let e=r,t=window.localStorage.getItem("digitalData");if(t){t=JSON.parse(t);const n=t.mids_lead;if(n.sessioninterest){e=n.sessioninterest.split(",").indexOf(r)>-1?n.sessioninterest:`${n.sessioninterest},${e}`}}s.val(e)}n.val(c),o.val(l)})),c.on("blur",(function(){UFValidator(e).UFPasswordValidation($(this),r)})),m.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),p.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),f.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),g.on("blur",(function(){UFValidator(e).UFvalidateField($(this))})),r&&r.length>0&&r.on("change",(function(){UFValidator(e).UFcheckInputEmail(a,$(this))&&UFGeneral(e).retrieveContact($(this),U,ye,I,F),he()})),l.on("blur",(function(){UFValidator(e).UFcheckTextAreaField($(this))})),H.on("click touchstart",(function(){G.val(""),UFValidator(e).UFremoveErrorMessage(G);H.prop("checked")?D.removeClass("UF-show-input"):D.addClass("UF-show-input")})),G.on("blur",(function(){UFValidator(e).UFvalidateMobile(G)})),M.on("click tap",(function(){UFGeneral(e).navSecondaryCta()})),W.on("click",(function(){UFGeneral(e).closeOutMyUFAccountOverlay(UFGeneral(e).goBackToInitialAtCloseUF)})),J.on("click",(function(){UFGeneral(e).backButtonNavigation()})),w.on("blur",(function(){UFGeneral(e).checkValidateField($(this))})),h.on("change",(function(){UFGeneral(e).checkValidateField($(this))})),v.on("blur",(function(){UFGeneral(e).checkValidateField($(this))})),K.on("click",(function(){UFGeneral(e).ctaNavigation($(this))})),Q.length&&$(window).on("resize",(function(){UFGeneral(e).alignTitle(Q,o.parent())})),$(window).on("resize",(function(){UFGeneral(e).isRightSideBiggerThanLeftSide()})),te.on("change",(function(){const e=$(this).parents(t.DOM.ELEMENTS.RADIO_WRAPPER);e.length&&n.UFcheckRadioBtnField(e)}));const we={autoLogin(t,n){const o=a.attr("action");if(c.val(t),o.indexOf("registration")>-1&&d.length>0){const e=getCorrectHrefLang($("html").attr("hreflang"));d.attr("value",e)}u.length>0&&u.attr("value",window.location.href),$.ajax({url:o,type:"POST",data:a.serializeArray(),success(e){n.call(this,e)},error(t){UFGeneral(e).hideSpinner(a)}})}};!function(){const t=decodeURIComponent(UFGeneral(e).getUFCookie("userId")),n=UFGeneral(e).getUFCHValue("servicenow-forms","formlessUserID"),a=o.attr("data-com-disable-formless-experience");(n||t)&&"on"!==a?$.ajax({url:UFConst().YOUR_OKTA_DOMAIN+UFConst().API_URLS.session_url,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(e){e.id&&de(n),o.find(".UF-dropdown-input").removeClass("UF-show-input")},error(e){n?de(n):o.find(".UF-show-input").not(".UF-hide-init").removeClass("UF-show-input"),o.find(".UF-dropdown-input").removeClass("UF-show-input")}}):(o.find(".UF-show-input").not(".UF-hide-init").removeClass("UF-show-input"),o.find(".UF-dropdown-input").removeClass("UF-show-input"))}(),N&&$(N).append('<input type="hidden" class="eloquaLogin" name="eloquaLogin" value="true"/>'),function(){if(0===a.find(_).length&&0===a.find(A).length){const e=$("<input>").addClass("card_content");e.attr("name","iAmInterestedIn"),e.attr("id","iAmInterestedIn"),e.attr("type","hidden"),e.attr("value","tbd"),a.append(e)}}(),UFGeneral(e).isRightSideBiggerThanLeftSide(),c.length&&UFGeneral(e).showPasswordRulesTooltip(c,r),function(){const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName")||decodeURIComponent(UFGeneral(e).getUFCookie("userId"));if(o.hasClass(".UF-demonow-form")){const n=e.find(".title-component");if(t){const e=a.find("input[name=loginTitle]").not(".chromeAutofill"),t=a.find("input[name=loginText]").not(".chromeAutofill");if(e.length||t.length){const o=$(n).find(".titleText"),a=$(n).find(".subtext");$(o).text($(e).val()),$(o).attr("data-com-title",$(e).val()),$(a).text($(t).val())}else $(n).remove()}}}(),UFGeneral(e).setHiddenFieldsValues(),UFGeneral(e).generalBackButtonInit(),he(),$(e).find("div.terms.formless").length&&(UFGeneral(e).loadTermsOfUse(),UFGeneral(e).analyticsForTermsAndConditions());if(o.attr("data-com-terms-and-conditions")){const e=o.attr("data-terms-use");o.find(".terms").load(e)}Y.length&&UFGeneral(e).copyFullBleedAssetToMediaListContainer(Y,X),Q.length&&UFGeneral(e).alignTitle(Q,o.parent()),Z.val(window.location.pathname);let ye,$e;ee.val()||ee.val(UFConst().MCID),UFGeneral(e).removeChromeInputs(a);let be=null;o.attr("data-optin-json")?(ye=o.attr("data-optin-json"),$e=o.attr("data-optin-json")):(ye="/etc/designs/json/countries.json",$e="/etc/designs/json/countries.json"),$.getJSON($e,(function(t){ye=t,be=t;const n=decodeURIComponent(UFGeneral(e).getUFCookie("userId")),a=UFGeneral(e).getUFCHValue("servicenow-forms","formlessUserID"),s=UFGeneral(e).getUFCHValue("servicenow-sso","country"),i=o.attr("data-com-disable-formless-experience");if((a||n)&&"on"!==i){const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName");t&&ge(t,s)}})),L.length&&(fe(L),$("#tab-myaccount").remove(),$("#tab-myaccount-mobile").remove(),$("#tab-UF-myaccount").remove(),$("#tab-UF-myaccount-mobile").remove(),$(".myAccount").remove(),"en-US"===$("html").attr("hrefLang")&&$(".sn-footer-social-icon.sn-tweeter").find("a").attr("href","https://twitter.com/servicenow_emea?lang=en")),setTimeout((function(){!function(){const t=UFGeneral(e).getUFCHValue("servicenow-sso","userName")||decodeURIComponent(UFGeneral(e).getUFCookie("userId")),n=decodeURIComponent(UFGeneral(e).getUFCookie("multiStepFormExp")),s=o.find(".section-component-universal-form");if(t)return deleteCookie("multiStepFormExp"),!1;if(!t&&n&&s&&!(s.hasClass("login")||s.hasClass("create-a-password")||s.hasClass("forgot-password")||s.hasClass("form-in-overlay")||s.hasClass("create-account"))){let t;o.removeClass("mids-progressive-profile"),o.removeClass("mids-profile-lookup-enabled"),o.removeClass("show-email-only-view");switch(t=o.attr("data-multistep-json")?o.attr("data-multistep-json"):"/content/dam/servicenow-assets/eloqua/multistep.json",n){case"DAT-210_variant-a":$.getJSON(t,(function(e){const t=e.A.step1;$.each(t,(function(e,t){elem=document.getElementsByName(e)[0],$(elem).closest("li").addClass("multistep-form-step-1-field")}))}))}o.addClass("multistep-form"),o.addClass("multistep-form-step-1");const s=document.createElement("div");s.setAttribute("class","multistep-form-status");const i=document.createElement("div");i.setAttribute("class","multistep-form-status-text");const r=document.createElement("div");r.setAttribute("class","multistep-status-bar");const l=document.createElement("div");l.setAttribute("class","multistep-status-bar"),s.append(i),s.append(r),s.append(l),$(s).insertAfter(j);const c=document.createElement("div");c.setAttribute("class","multistep-form-buttons");const d=document.createElement("div");d.setAttribute("class","multistep-form-button"),c.append(d);const u=o.find(".UF-submit-btn").first();$(c).insertAfter(u),$(u).insertAfter(d),o.find(".wrapper-ul").first().clone().insertAfter(c),$(".multistep-form-buttons + .wrapper-ul p").html(""),$(".UF-sign-in-account").appendTo(".multistep-form-buttons + .wrapper-ul p"),$(".multistep-form-button").on("click tap",(function(e){let t;const n=o.find("h2").val(),a=o.data("component-name")||o.data("com-name");if(o.hasClass("multistep-form-step-1")){if($(".multistep-form-step-1-field").each((function(){$(this).find(".UF-validate").trigger("blur")})),!($(".multistep-form-step-1-field .UF-border-error").length<1))return!1;t="next",o.addClass("multistep-form-switch"),setTimeout((function(){o.removeClass("multistep-form-step-1"),o.addClass("multistep-form-step-2"),o.removeClass("multistep-form-switch")}),500)}else o.hasClass("multistep-form-step-2")&&(t="back",o.addClass("multistep-form-switch"),setTimeout((function(){o.removeClass("multistep-form-step-2"),o.addClass("multistep-form-step-1"),o.removeClass("multistep-form-switch")}),500));window.appEventData=window.appEventData||[];const s={name:"global_click",digitalData:{event:{pageArea:"universal-form",eVar22:"multistep-form:"+t,title:n,linkText:t,componentName:a}},event:e};window.appEventData.push(s)})),S.on("click tap",(function(t){if(UFValidator(e).UFValidateForm(a)){const e=o.find("h2").val(),n=o.data("component-name")||o.data("com-name");window.appEventData=window.appEventData||[];const a={name:"global_click",digitalData:{event:{pageArea:"universal-form",eVar22:"multistep-form:submit",title:e,linkText:"Submit",componentName:n}},event:t};window.appEventData.push(a)}})),$("li select").each((function(){$(this).find("option").length<=1&&$(this).find("option").val().length<=0?$(this).closest("li").addClass("hide-dropdown"):$(this).closest("li").removeClass("hide-dropdown")})),$(".multistep-form").on("change","select",(function(){$("li").removeClass("hide-dropdown"),$("li select").each((function(){$(this).find("option").length<=1&&$(this).find("option").val().length<=0?$(this).closest("li").addClass("hide-dropdown"):$(this).closest("li").removeClass("hide-dropdown")}))}))}}()}),500)}},function(e,t){window.UFStickyCTA=function(e){const t=e.find("a.sticky-cta"),n=e.find(".UF-header"),o=5+t.height();let a=!1;$(window).scroll((function(){const e=$(window).scrollTop(),s=n.offset().top-10,i=$(window).height();!a&&s>i&&(e>=s-i+o?t.removeClass("sticky-cta-show"):t.addClass("sticky-cta-show"))})),t.on("click",(function(){const e=n.offset().top-10;var o;o=e,a=!0,$("html, body").stop().animate({scrollTop:o},800,"linear",(function(){window.setTimeout((function(){t.removeClass("sticky-cta-show"),a=!1}),200)}))}))}},function(e,t){window.UFValidator=function(e){const t=UFConst(),n=e.find(".inner-view"),o=n.find('[name="field37"]');function a(e){return e.hasClass("UF-required-on")&&(i(e),e.removeClass("UF-required-on")),!((!e.parents(".UF-show-input").length||e.parents(".UF-show-input")&&n.hasClass("ppAlternative")&&"mobilePhone"!==e.attr("name")&&"password"!==e.attr("name"))&&("checkbox"!=e.attr("type")&&""===e.val().trim()||"state"===e.attr("name")&&"State/Province"===e.val().trim())||"checkbox"===e.attr("type")&&!e.prop("checked"))||(e.is('[name="email"]')&&(n.hasClass("create-account")||n.hasClass("formless")&&o.length&&o.prop("checked"))?s(e,UFConst().ERRORMESSAGES.emailrequired):s(e,UFConst().ERRORMESSAGES.requiredMessage),e.addClass("UF-required-on"),!1)}function s(e,t){if($(e).hasClass("UF-radio-btn-selection-sec")){e.addClass("UF-radio-border-error");const t=e.find(".UF-fake-radio-btn");t&&t.length&&t.addClass("radio-label-error")}else{e.addClass("UF-border-error");const t=e.siblings(".UF-floating-label");t.length&&t.addClass("UF-border-error-label");const n=e.siblings(".UF-checkbox");if(n.length){const e=n.find(".UF-check");e.length&&e.addClass("UF-checkbox-border-error-label")}}e.parent().find(".UF_validation_message").hasClass("UF_invalid")?e.parent().find(".UF_validation_message").text(t):e.parent().append(`<span class='UF_validation_message UF_invalid'>${t}</span>`)}function i(e){e.parent().find(".UF_validation_message").remove(),$(e).removeClass("UF-border-error");const t=e.siblings(".UF-floating-label");t.length&&t.removeClass("UF-border-error-label");const n=e.siblings(".UF-checkbox");if(n.length){const e=n.find(".UF-check");e.length&&e.removeClass("UF-checkbox-border-error-label")}}function r(e,t){e.parent().find(".UF_validation_message").hasClass("UF_warning")?e.parent().find(".UF_validation_message").text(t):e.parent().append(`<span class='UF_validation_message UF_warning'>${t}</span>`)}function l(t,o){const a=t.find('[name="field37"]'),l=t.hasClass("create-account"),c=t.hasClass("forgot-password"),d=t.hasClass("formless"),m=o.val();let p="";return p=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,!(!o.parent().hasClass("UF-show-input")||n.hasClass("ppAlternative"))||(u(o),o.length&&o.val()?(a.prop("checked")||l||c)&&!UFGeneral(e).getUFCookie("userId")&&!UFGeneral(e).getUFCookie("idToken")&&m&&-1!=m.indexOf("servicenow.com")?(s(o,UFConst().ERRORMESSAGES.serviceNowErrorDomain),!1):p.test(m)?(i(o),d&&function(e){const t=e.data("show-warning-for-providers");if(t){const n=e.val(),o=n.lastIndexOf("@"),a=t.split(",");return a.length>0&&a.findIndex(e=>e.toLowerCase()===n.substring(o+1).toLowerCase())>-1}return!1}(o)&&r(o,UFConst().ERRORMESSAGES.emailCannotContainProviderWarning),!0):(o.parent().find(".UF_validation_message").remove(),s(o,UFConst().ERRORMESSAGES.emailNotValid),!1):(i(o),!0))}function c(e,t){u(e);let n=!0;if(!e.parent().hasClass("UF-show-input")){!(!t||!t.length)&&t.val().indexOf("@servicenow.com")>-1?i(e):(n=function(e,t){let n=!0;const o=e.val();let a=!0,i=!0,r=!0,l=!0,c=!0,d=!0;const u=!t||!t.length||!function(e,t){let n=!1;const o=e.split("@").join(",").split(".").join(",").split("_").join(",").split("-").join(",").split(",");for(let e=0;e<o.length;++e)"com"!=o[e]&&".net"!=o[e]&&"gov"!=o[e]&&o[e].length>=4&&t.toLowerCase().includes(o[e].toLowerCase())&&(n=!0);return n}(t.val(),o);if(o){o.length<8&&(a=!1);let t=0,m=0;const p=o.length;for(let e=0;e<p;e++)/[a-z]/.test(o.charAt(e))&&t++,/[A-Z]/.test(o.charAt(e))&&m++;0===t&&(i=!1),0===m&&(r=!1);null==o.match(/\d+/g)&&(l=!1);null==o.match(/([!,@,#,$,%,+,",',^,&,*,(,),~,},|,{,`,_,?,<,>,=,:,;,’,/,\\,,,.,\-,\],[])+/g)&&(c=!1),/<\/?[A-z][\s\S]*>/gi.test(o)&&(d=!1),c&&l&&r&&i&&a&&d&&u||(i||s(e,UFConst().ERRORMESSAGES.atLeastOneLower),r||s(e,UFConst().ERRORMESSAGES.atLeastOneUpper),l||s(e,UFConst().ERRORMESSAGES.atLeastOneNumber),c||s(e,UFConst().ERRORMESSAGES.atLeastOneSymbol),a||s(e,UFConst().ERRORMESSAGES.atLeast8Character),d||s(e,UFConst().ERRORMESSAGES.noScriptTags),u||s(e,UFConst().ERRORMESSAGES.passwordCantContainPartEmail),n=!1)}else n=!1,s(e,UFConst().ERRORMESSAGES.requiredMessage);return n}(e,t),n&&i(e))}return n}function d(e){if(e.parent().hasClass("UF-show-input")&&!n.hasClass("ppAlternative"))return!0;u(e);const t=$(e).val().trim();let o=!1;if(t)if(o=!0,$(e).hasClass("UF-name-validation")){const n=40;h(t)?(s(e,UFConst().ERRORMESSAGES.htmlTagErrorMsg),o=!1):t.length>n&&(s(e,UFConst().ERRORMESSAGES.upTo40Chars),o=!1)}else if($(e).hasClass("UF-company-validation")){const n=40;new RegExp(/^[ A-Za-z0-9_@.&-]*$/).test(t)?t.length>n?(s(e,UFConst().ERRORMESSAGES.upTo40Chars),o=!1):h(t)&&(s(e,UFConst().ERRORMESSAGES.htmlTagErrorMsg),o=!1):(s(e,UFConst().ERRORMESSAGES.companyMustOnlyLetters),o=!1)}else if("jobTitle"==e[0].name&&e[0].classList.contains("UF-default-validation")){i(e);const n=40;h(t)?(s(e,UFConst().ERRORMESSAGES.htmlTagErrorMsg),o=!1):t.length>n?(s(e,UFConst().ERRORMESSAGES.upTo40Chars),o=!1):/([.,\/#!?$%\^&\*;:{}=\-_`~()])\1{1,}/.test(t)?(r(e,UFConst().ERRORMESSAGES.noRepeatPunctuation),o=!1):/\b(\S+?)\1\S*\b/.test(t)?(r(e,UFConst().ERRORMESSAGES.noRepeatPattern),o=!1):/[A-z]/.test(t)?/\b(Mr|Mrs|Miss)\b/gi.test(t)&&(r(e,UFConst().ERRORMESSAGES.titleRestricted),o=!1):(r(e,UFConst().ERRORMESSAGES.noNumbersOnly),o=!1)}else if($(e).hasClass("UF-phone-validation")){const n=/^(\d)\1+$/i,a=7,i=22;new RegExp("^(?=.*[0-9])[- / +()0-9]+$").test(t)?t.length>0&&t.length<a||t.length>i?(s(e,UFConst().ERRORMESSAGES.mustbebetween7and22),o=!1):n.test(t.replace(/[^0-9]/gi,""))&&(s(e,UFConst().ERRORMESSAGES.sameNumberForAllDigitsError),o=!1):(s(e,UFConst().ERRORMESSAGES.numberOnly),o=!1)}else $(e).hasClass("UF-validate-TA-Size")&&p(e)&&(s(e,UFConst().ERRORMESSAGES.textAreaMsg),o=!1);return o&&i(e),o}function u(e){e.hasClass("UF-required-on")&&e.removeClass("UF-required-on")}function m(e){const t=e.val(),n=t.length,o=new RegExp("^(?=.*[0-9])[- / +()0-9]+$").test(t);return o&&n>7&&n<18?(e.removeClass("UF-border-error"),i(e),!0):(!n||n>7&&n<18||s(e,UFConst().ERRORMESSAGES.smsLength),n&&!o&&s(e,UFConst().ERRORMESSAGES.smsFormat),e.addClass("UF-border-error"),!1)}function p(e){return e.val().length>5e3}function f(e){return u(e),p(e)?(s(e,UFConst().ERRORMESSAGES.textAreaMsg),!1):(i(e),!0)}function g(e){const t=$(e).find(".UF-real-radio-btn"),n=$(t[0]).is(":checked"),o=$(t[1]).is(":checked");return n||o?($(t[0]).siblings("label").removeClass("radio-label-error"),$(t[1]).siblings("label").removeClass("radio-label-error"),i(e),!0):(n||$(t[0]).siblings("label").addClass("radio-label-error"),o||$(t[1]).siblings("label").addClass("radio-label-error"),s(e,UFConst().ERRORMESSAGES.requiredMessage),!1)}function h(e){return/<|\/>|>/.test(e)}return{UFValidateForm:function(e){let t=!0,n=!0,o=0,r=0,u=0,p=!0,h=!0,v=!0,w=!1;e.parents(".mids-progressive-profile").length&&(w=!0),(e.parents(".snid-enabled").length||e.parents(".inner-view").hasClass("login"))&&(w=!1);const y=e.find(".UF-optin-section"),b=e.find("[name='UF-optin']"),C=e.find("[name='UF-optin']:checked"),S=e.find('[name="t_c"]'),x=e.find('[name="field37"]'),k=w?e.find(".mids-pp-required .UF-name-validation"):e.find(".UF-name-validation"),E=w?e.find('.mids-pp-required input[name="jobTitle"].UF-default-validation'):e.find('input[name="jobTitle"].UF-default-validation'),I=w?e.find(".mids-pp-required .UF-company-validation"):e.find(".UF-company-validation"),F=w?e.find(".mids-pp-required .UF-phone-validation"):e.find(".UF-phone-validation"),U=e.find(".UF-password-validation"),L=(e.find(".UF-create-account-password"),w?e.find(".mids-pp-required .UF-validate, .mids-pp-required .custom-dropdown__select"):e.find(".UF-validate, .custom-dropdown__select")),T=w?e.find(".mids-pp-required .UF-validate-TA-Size"):e.find(".UF-validate-TA-Size"),_=e.find(".UF-radio-btn-selection-sec.UF-validate-radio"),A=e.find("input#UF-sms"),O=e.find('[name="mobilePhone"]'),N=e.find('input[name="t_c"]'),R=w?e.find('.mids-pp-required [name="email"]'):e.find('[name="email"]').length>0?e.find('[name="email"]'):e.find('[name="username"]').length>0?e.find('[name="username"]'):"";_.each((function(){"none"==$(this).parents("li").css("display")||g($(this))||u++})),T.each((function(){f($(this))||r++})),A.is(":checked")&&(n=m(O)),!S.prop("checked")&&S.length&&(p=!1,i(S),a(S),s(S,UFConst().ERRORMESSAGES.requiredMessage)),S.length&&N.length&&(h=!!N.is(":checked"));const q=l(e,e.find(".UF-email-validation"));if(x.length){x.prop("checked")&&(v=c(U,R))}else U.length&&(v=c(U,R));let P=0,H=!0,G=!0,D=!0,M=!0;return k.length&&k.each((function(){d($(this))||P++})),E.length&&(G=d(E)),I.length&&(H=d(I)),F.length&&(D=d(F)),b.length&&y.hasClass("UF-active-optin-sec")&&(M=C.length),y.hasClass("UF-active-optin-sec")&&(0==C.length?s(y,UFConst().ERRORMESSAGES.requiredMessage):i(y)),L.each((function(){a($(this))||o++})),t=!(!q||r>0||o>0||u>0||!n||!p||!h||!v||P>0||!H||!G||!D||!M),t},UFPasswordValidation:c,UFcheckInputEmail:l,UFIsValidDownload:function(e){let t=!0;const n=$(e).find("select");$(n).each((function(){$(this).closest("li").hasClass("UF-show-input")||(i($(this)),$(this).val()||(s($(this),UFConst().ERRORMESSAGES.requiredMessage),t=!1))}));const o=e.find(".UF-active-optin-sec"),a=e.find("[name='optin']"),r=e.find("[name='optin']:checked");let l=!0;if(a&&a.length&&o&&o.length&&(l=r.length,!l)){const e=o.find(".UF-radio-btn-selection-sec");e&&e.length&&(i(e),s(e,UFConst().ERRORMESSAGES.requiredMessage))}return t&&l},UFinsertSubmitErrorMessage:function(e,t){e.addClass("UF-show-error-message"),e.text(t)},UFremoveSubmitErrorMessage:function(e){e.removeClass("UF-show-error-message"),e.text("")},UFcheckFullProfile:function(){const t=UFGeneral(e).getUFCHValue("servicenow-sso","fName"),n=UFGeneral(e).getUFCHValue("servicenow-sso","LName"),o=UFGeneral(e).getUFCHValue("servicenow-sso","myEmail"),a=UFGeneral(e).getUFCHValue("servicenow-sso","company"),s=UFGeneral(e).getUFCHValue("servicenow-sso","jobLevel"),i=UFGeneral(e).getUFCHValue("servicenow-sso","jobRole"),r=UFGeneral(e).getUFCHValue("servicenow-sso","jobFunction"),l=UFGeneral(e).getUFCHValue("servicenow-sso","country"),c=UFGeneral(e).getUFCHValue("servicenow-sso","businessPhone");return t&&n&&o&&a&&s&&i&&r&&l&&c},UFinsertErrorMessage:s,UFremoveErrorMessage:i,UFvalidateMobile:m,UFvalidateField:d,UFcheckRequiredField:a,UFcheckTextAreaField:f,UFcheckRadioBtnField:g,InitSecondaryMailField:function(e){const n=e.find(t.DOM.ELEMENTS.PRIMARY_MAIL),o=e.find(t.DOM.ELEMENTS.SECONDARY_MAIL),a=o.parent();let r=!0;const l=n.length>0?n.length:0,c=o.length,d=o.parents(".secondaryEmailPopUp").length>0;function u(){!function(){const e=n.val().trim();r=!t.SERVICENOW_EMAIL_PATTERN.test(e),a.toggleClass(t.DOM.CSS.HIDE_FIELD,!r)}(),p(!0)}function m(e,t){e?i(o):s(o,t)}function p(e){if(!r)return!0;let a=!1,s="";const i=(d?ContextHub.getStore("servicenow-sso").getItem("myEmail"):l?n.val().trim():ContextHub.getStore("servicenow-sso").getItem("myEmail")).toLowerCase(),c=o.val().trim().toLowerCase(),u=""==c,p=t.EMAIL_PATTERN.test(c);return e?p&&(i==c?s=t.ERRORMESSAGES.secondaryMailEqualsPrimary:a=!0,m(a,s)):(u?s=t.ERRORMESSAGES.requiredMessage:p?i==c?s=t.ERRORMESSAGES.secondaryMailEqualsPrimary:a=!0:s=t.ERRORMESSAGES.emailNotValid,m(a,s)),a}return c&&(o.on("blur",(function(){p()})),l&&n.on("blur",u)),{validate:p}},UFcheckRequiredSecondaryEmail:function(e){return e.hasClass("UF-required-on")&&(i(e),e.removeClass("UF-required-on")),!(!e.parents(".UF-show-input").length&&e.is('[name="secondaryEmail"]')&&0==e.val().length)||(s(e,UFConst().ERRORMESSAGES.secondaryEmailRequired),!1)},UFCheckPasswordLength:function(e){"password"===e.attr("name")&&e.val().length>=72&&e.attr("class").includes("UF-default-validation")?s(e,UFConst().ERRORMESSAGES.passwordLengthLogin):"password"===e.attr("name")&&e.val().length<72&&e.attr("class").includes("UF-default-validation")&&i(e)}}}},function(e,t){window.UFThankYouPage=function(e){const t=e.find("ul.additional-resources-list li"),n=$(".download-asset ul.additional-resources-list").data("max-links"),o=t.slice(n),a=e.find(".inner-view"),s=e.find(".download-asset .view-all"),i=s.find(".cta-text-arrow a"),r=i.find("#view-resources-text"),l=a.data("view-all-resources-label"),c=a.data("hide-all"),d=e.find(".component-small-marquee .title").children(":first"),u=a.find("a.download-asset");let m,p=0;const f=window.YT;let g,h,v,w,y,b,C;function S(e,t,n){appEventData.push({name:e,digitalData:t||{},event:n})}function x(e){0}function k(e,t,n,o){if(x(),e>0){const a=.25*e,s=.5*e,i=.75*e,r=.9*e;t<a&&0!=t?E(o,n):t>=a&&t<s?(E(o,n),I(o,n)):t>=s&&t<i?(E(o,n),I(o,n),F(o,n)):t>=i&&t<r?(E(o,n),I(o,n),F(o,n),U(o,n)):t>=r&&t<e?(E(o,n),I(o,n),F(o,n),U(o,n),L(o,n)):t===e&&(E(o,n),I(o,n),F(o,n),U(o,n),L(o,n),function(e,t){C||(x(),S("video_completed",t,e),x(),C=!0)}(o,n))}}function E(e,t){h||(x(),S("video_started",t,e),x(),h=!0)}function I(e,t){v||(x(),S("video_reached_25_pct",t,e),x(),v=!0)}function F(e,t){w||(x(),S("video_reached_50_pct",t,e),x(),w=!0)}function U(e,t){y||(x(),S("video_reached_75_pct",t,e),x(),y=!0)}function L(e,t){b||(x(),S("video_reached_90_pct",t,e),x(),b=!0)}function T(e){m=setInterval((function(){const t=p;if(g&&g.getCurrentTime&&(p=g.getCurrentTime()),p!==t){const t=g.getVideoData().video_id?g.getVideoData().video_id:"",n=g.getVideoData().title?g.getVideoData().title:"",o={};o.id=t,o.name=n;const a={videoTracking:o};k(g.getDuration(),g.getCurrentTime(),a,e)}}),250)}function _(e){T(e)}function A(e){const t=g.getDuration(),n=g.getCurrentTime(),o=g.getVideoData().video_id?g.getVideoData().video_id:"",a=g.getVideoData().title?g.getVideoData().title:"",s={};s.id=o,s.name=a;const i={videoTracking:s};switch(e.data){case 0:k(t,n,i,e),clearInterval(m);break;case 1:k(t,n,i,e),T(e);break;case 2:clearInterval(m)}}function O(e){h=!1,v=!1,w=!1,y=!1,b=!1,C=!1,"youtube"===e?$.getScript("https://www.youtube.com/iframe_api",(function(){g=new f.Player("thankyou-page-youtube-player",{events:{onReady:_,onStateChange:A}})})):"brightcove"==e&&videojs("universal-form-brightcove-right").on("loadedmetadata",(function(){const e=this,t=e.duration();let n=e.currentTime();const o=e.mediainfo.id?e.mediainfo.id:"",a=e.mediainfo.name?e.mediainfo.name:"",s={};s.id=o,s.name=a;const i={videoTracking:s};e.on("timeupdate",(function(o){n=e.currentTime(),k(t,n,i,o)})),e.on("playing",(function(o){n=e.currentTime(),k(t,n,i,o)})),e.on("ended",(function(e){k(t,t,i,e)}))}))}if(window.digitalData=window.digitalData||{},window.appEventData=window.appEventData||[],o.length&&(o.addClass("hide"),s.removeClass("hide")),d.length&&UFGeneral(e).alignTitle(d,a.parent()),$(".video-list-container").length&&($("#thankyou-page-youtube-player").length?O("youtube"):$("#universal-form-brightcove-right").length&&O("brightcove")),s.on("click",(function(){r.text()==l?(r.text(c),o.removeClass("hide")):(r.text(l),o.addClass("hide"))})),i.on("click",(function(e){e.preventDefault()})),d.length&&$(window).on("resize",(function(){UFGeneral(e).alignTitle(d,a.parent())})),u.length&&u.attr("data-asset-path").includes("success/value-calculator.html")){u[0].style.visibility="hidden";const e=document.createElement("a");e.href=u.attr("href"),e.id="value-calculator-download-link",document.body.append(e);const t=window.location.search.indexOf("assetsUrl=")>-1?1e3:0;setTimeout((function(){window.location.pathname.includes("/servicenow/www/")||(window.history.replaceState(null,"",window.location.origin+window.location.pathname),document.getElementById("value-calculator-download-link").click()),u.click()}),t)}u.on("click",(function(e){S("download_click",{tracked_event:{link_type:"lnk_d",link_url:$(this).attr("href"),page_type:"form",asset_type:"ebook"}},e)}))}},function(e,t){const n=$(".form-name-eloqua").length?$(".form-name-eloqua").attr("name"):"MasterForm-DemoNow-13JUN17",o=$(`form[name=${n}] [name=country]`);$(".optin-section");function a(e){let t=null;return e&&e.val()?(t=ContextHub.getStore("servicenow-sso").getItem("scopedCountry"),t):t}window.lookupRequestUrl=function(e,t){window.GetElqContentPersonalizationValue=void 0,$.ajax({type:"GET",dataType:"script",url:e,success(e){t&&setTimeout((function(){o.length&&(a(o)||o.val())&&o.trigger("change")}),300)},error(e){}})}},function(e,t){window.Observable=function(){let e=[];return{subscribe:function(t){e.push(t)},unsubscribe:function(t){e=e.filter(e=>e!==t)},notify:function(t){e.forEach(e=>e(t))}}}},function(e,t){function n(){$(".interstitial-component").each((function(){const e=this,t=$(e).find(".backlayer-front");BackLayerImg=$(t).find("img").length,BackLayerImgHeight=$(t).find("img").outerHeight(),(1===BackLayerImg||2===BackLayerImg)&&($(e).find(".interstitial-component-outter-wrapper").css("min-height",BackLayerImgHeight),$(e).find(".interstitial-content").css("min-height",BackLayerImgHeight))}))}$(".interstitial-component").length&&($((function(){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&$("p").css("font-weight","lighter")})),$(window).resize((function(){n()})),n()),$(".component-breadcrumbs").length&&$((function(){initBreadcrumbs()}))},function(e,t){window.initBreadcrumbs=function(){let e;$(window).resize((function(){clearTimeout(e),e=setTimeout((function(){const e=$(".hero-marquee-component .hero-marquee-left-col"),t=e?e.length:0,n=$(".alert-bar-wrapper"),o=$(".alert-bar-wrapper .alertbar")?$(".alert-bar-wrapper .alertbar").length:0,a=$(window).width();let s="auto";t?s=e.offset().top-16:a<768&&(s=o>0?n.offset().top:"6rem"),$(".component-breadcrumbs.variation-homepage").css("top",s)}),500)})),$(window).trigger("resize")},$(".component-breadcrumbs").length&&$((function(){initBreadcrumbs()}))},function(e,t){},function(e,t){$(document).ready((function(){if($(".component-overlay-container-new").length>0){var e=$(".component-overlay-container-new");const a=$(window);if(e.each((function(){const e=$(this).attr("data-container-tag"),t=$(this).find(".component-overlay-new"),n=t.length;n<=1&&$(this).addClass("single-overlay"),t.each((function(t){$(this).attr("data-index",`${e}_${t+1}`),0==t&&$(this).find(".overlay-nav-previous").addClass("no-more-click"),t==n-1&&$(this).find(".overlay-nav-next").addClass("no-more-click")}))})),$(".event-overlay-navigation-container .overlay-nav-previous").removeClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-next").removeClass("no-more-click"),$(".event-overlay-container").length){const e=window.location.hash,t=e.substr(1),n=document.links;""!==e&&function(e,t,n){$(n).each((function(n,o){const a=$(this),s=a[0].hasAttribute("href")?a.attr("href"):null;if(s.length>0&&s.indexOf(e)>-1){if(!a[0].hasAttribute("data-index"))return a.addClass("overlay-open"),a.attr("data-index",t),setTimeout((function(){a.get(0).click()}),1e3),!1;if(a.attr("data-index")==t)return a.addClass("overlay-open"),setTimeout((function(){a.get(0).click()}),1e3),!1}}))}(e,t,n),$(n).each((function(){const e=$(this),t=e.attr("href").substr(1);t&&0==e.attr("href").indexOf("#")&&$(`.event-overlay-container[data-index='${t}']`).length>0&&e.addClass("overlay-open").attr("data-index",t)}))}let s;const i=$(".component-overlay-new"),r=$(".overlay-open");e=$(".component-overlay-container-new");let l=$(window).scrollTop();function t(){$(".component-overlay-new").each((function(){$(this).removeClass("no-transition")})),$(window).outerWidth()>1023?setTimeout((function(){$(".active-overlay").find(".component-overlay-new-left-col").removeClass("overlay-col-fade-in")}),100):setTimeout((function(){$(".active-overlay").find(".component-overlay-new-left-col").removeClass("overlay-col-slide-in")}),400),setTimeout((function(){$(".active-overlay").find(".component-overlay-new-right-col").removeClass("overlay-col-slide-in"),$(".component-overlay-new-right-col-nav-sec").removeClass("top-menu-active"),$("body").removeClass("no-scroll-new"),$(".faq-component").scrollTop(0),$(window).scrollTop(l)}),400),setTimeout((function(){$(".component-overlay-new").removeClass("active-overlay"),$(".component-overlay-container-new").removeClass("overlay-modal-open"),$(".accordion-container").removeClass("accordion-container-expanded"),$(".accordion-container-answer").removeAttr("style")}),800),window.history.replaceState?window.history.replaceState(null,null,window.location.pathname):window.location.hash=""}function n(){const e=$(window).height();$(".component-overlay-container-new").each((function(){$(this).height(e)}))}function o(){$(window).height(),$(document).height();$(".component-overlay-container-new").each((function(){const e=$(this);if(e.hasClass("no-left-image"));else e.find(".component-overlay-new-left-col").height();$(window).outerWidth()>=768?$(window).outerWidth()>=1024&&$(".component-overlay-new-left-col").removeClass("overlay-col-slide-in").addClass("overlay-col-fade-in"):(e.hasClass("has-left-image")&&scrollAreaHeight.height("auto"),$(".component-overlay-new-left-col").removeClass("overlay-col-fade-in").addClass("overlay-col-slide-in"))}))}r.on("click",(function(e){$(this).parent().index(),$(this).parent().siblings().length;const t=$(this).attr("data-idx")-1;l=$(window).scrollTop(),e.preventDefault();const n=$(this).attr("data-index"),o=$(this).attr("href");i.each((function(){if(!$(this).hasClass("active-overlay")&&$(this).attr("data-index")==n){if($(this).addClass("active-overlay"),$(this).closest(".component-overlay-container-new").addClass("overlay-modal-open"),$(this).find(".component-overlay-new-right-col-nav-sec").addClass("top-menu-active"),$(".accordion-container").length){const e=$(this).find(".accordion-container").eq(t),n=$(".faq-component");t>=0&&($(this).find(".accordion-container").eq(t).addClass("accordion-container-expanded"),$(".faq-component").animate({scrollTop:e.offset().top-n.offset().top+n.scrollTop()}))}$("body").addClass("no-scroll-new"),o&&""!==o.substr(1)&&(window.location.hash=o.substr(1))}if($(this).hasClass("active-overlay")){const e=$(this).attr("data-order-index");s=$(this).closest(".event-overlay-navigation-container").find(".eventOverlayContainer"),1==e?($(".event-overlay-navigation-container .overlay-nav-previous").addClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-next").removeClass("no-more-click")):e==s.length?($(".event-overlay-navigation-container .overlay-nav-next").addClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-previous").removeClass("no-more-click")):($(".event-overlay-navigation-container .overlay-nav-previous").removeClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-next").removeClass("no-more-click"))}$(window).outerWidth()>1023?$(this).find(".component-overlay-new-left-col").addClass("overlay-col-fade-in"):$(this).find(".component-overlay-new-left-col").addClass("overlay-col-slide-in"),$(this).find(".component-overlay-new-right-col").addClass("overlay-col-slide-in"),$(this).addClass("no-transition")}))})),$(".overlay-nav-next").on("click",(function(){$(".faq-component").scrollTop(0);const e=$(this).closest(".component-overlay-new");let t;s=$(this).closest(".event-overlay-navigation-container").find(".eventOverlayContainer"),$.each(e,(function(e,n){t=n.getAttribute("data-order-index")})),t++;const n=$(this).closest(".component-overlay-new").next();if($(this).closest(".event-overlay-navigation-container")){const e=$(this).closest(".eventOverlayContainer")[0];$(e).find(".component-overlay-container-new").removeClass("overlay-modal-open"),$(e).find(".component-overlay-new").removeClass("active-overlay");const n=$(this).closest(".eventOverlayContainer").next(),o=$(n).find(".component-overlay-container-new");$(o[0]).addClass("overlay-modal-open");const a=$(n).find(".component-overlay-new");$(a[0]).addClass("active-overlay"),t==s.length?($(".event-overlay-navigation-container .overlay-nav-next").addClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-previous").removeClass("no-more-click")):($(".event-overlay-navigation-container .overlay-nav-next").removeClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-previous").removeClass("no-more-click"))}else $(".component-overlay-new-right-col-nav-sec").removeClass("top-menu-active"),$(".component-overlay-new").removeClass("active-overlay"),$(n).addClass("active-overlay"),$(".active-overlay .component-overlay-new-right-col-nav-sec").addClass("top-menu-active"),$(".overlay-modal-open").scrollTop(0)})),$(".overlay-nav-previous").on("click",(function(){$(".faq-component").scrollTop(0);const e=$(this).closest(".component-overlay-new");let t;$.each(e,(function(e,n){t=n.getAttribute("data-order-index")})),t--;const n=$(this).closest(".component-overlay-new").prev(),o=$(this).closest(".event-overlay-navigation-container");if(o){$(o).find(".component-overlay-container-new");const e=$(this).closest(".eventOverlayContainer")[0];$(e).find(".component-overlay-container-new").removeClass("overlay-modal-open"),$(e).find(".component-overlay-new").removeClass("active-overlay");const n=$(this).closest(".eventOverlayContainer").prev(),a=$(n).find(".component-overlay-container-new");$(a[0]).addClass("overlay-modal-open");const s=$(n).find(".component-overlay-new");$(s[0]).addClass("active-overlay"),1==t?($(".event-overlay-navigation-container .overlay-nav-previous").addClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-next").removeClass("no-more-click")):($(".event-overlay-navigation-container .overlay-nav-next").removeClass("no-more-click"),$(".event-overlay-navigation-container .overlay-nav-previous").removeClass("no-more-click"))}else $(".component-overlay-new-right-col-nav-sec").removeClass("top-menu-active"),$(".component-overlay-new").removeClass("active-overlay"),$(n).addClass("active-overlay"),$(".active-overlay .component-overlay-new-right-col-nav-sec").addClass("top-menu-active"),$(".overlay-modal-open").scrollTop(0)})),$(".close-btn-desktop, .close-btn-mobile").on("click",(function(){t()})),$(".component-overlay-new-left-col").on("click",(function(){$(this).closest(".no-left-image").length&&t()})),n(),o();let c=a.width();$(window).resize((function(){a.width()!==c&&(c=a.width(),n(),o())}))}}))},function(e,t){if($(".interstitial-new-component").length){const e=document.getElementsByClassName("interstitial-new-component");$((function(){!function(e){let t;$(e).each((function(){const e=this,t=$(e).find(".interstitial-new-text-content"),n=$(e).find(".comp-full-bleed-bg-color").css("background-color"),o=$(e).find(".interstitial-new-background-layer");"rgba(0, 0, 0, 0)"==n||$(o).find(".component-asset-block").length||$(e).addClass("interstitial-new-min-height"),$.trim(t.html()).length||$(e).addClass("interstitial-variation-2")})),$(".interstitial-variation-2").each((function(){const e=this,t=e.getElementsByTagName("video")[0];if(null!=t&&null!=t){t.addEventListener("click",(function(){e.classList.remove("interstitial-video-end")}),!1),t.addEventListener("ended",(function(t){e.classList.add("interstitial-video-end")}),!1)}})),window.addEventListener("scroll",(function(){clearTimeout(t),t=setTimeout((function(){$(".interstitial-variation-2").not(".interstitial-video-end").each((function(){const e=this,t=window.scrollY,n=window.innerHeight,o=.6*n,a=t+n,s=$(e).position().top,i=s+$(e).height(),r=e.getElementsByTagName("video")[0];i-t>o&&a-s>o&&null!=r&&null!=r&&1!=r.loop&&!$(e).hasClass("visible-interstitial")?($(e).addClass("visible-interstitial"),r.play()):i-t>o&&a-s>o||null==r||null==r||1==r.loop||!$(e).hasClass("visible-interstitial")||($(e).removeClass("visible-interstitial"),r.pause())}))}),150)}),!1),n(e)}(e)})),$(window).resize((function(){n(e)}))}function n(e){$(e).each((function(){const e=this,t=$(e).find(".interstitial-new-foreground-layer:not(.right-aligned)").find("img, svg, video").outerHeight()||0,n=$(e).find(".interstitial-new-foreground-layer.right-aligned").find("img, svg, video").outerHeight()||0,o=Math.max(t,n);$(e).css("min-height","0"),o>0&&$(e).hasClass("interstitial-variation-2")&&$(e).css("min-height",o)}))}},function(e,t){const n=["AU","BD","BT","BN","KH","CN","HK","IN","ID","JP","LA","MO","MM","NZ","PK","PH","SG","KR","TW","TH","VN"],o=["AT","BE","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","IS","LI","NO","HR"],a={},s=$("#oktaSessionBaseUrl").val()||"https://servicenowsignon.okta.com",i=$("#oktaAuthorizeApiUrl").val()||"/oauth2/default/v1/authorize",r=$("#oktaClientId").val()||"0oakzlc2t3W1goPqt0x7",l=$("#seamlessRedirectUri").val()||"/bin/servicenow/v2/token",c=`${window.location.protocol}//${window.location.host}`,d="/bin/servicenow/user/login",u="/bin/servicenow/user/profile",m="/api/v1/sessions/me",p="/bin/servicenow/user/registration",f="/bin/servicenow/user/updateprofile",g="/bin/servicenow/user/forgotpassword",h="/bin/servicenow/user/changepassword",v="/bin/servicenow/user/validate",w="/bin/servicenow/user/contexthubuserprofile",y="/bin/servicenow/user/contexthubeventregistration",b=`?client_id=${r}&response_type=code token id_token&response_mode=form_post&scope=openid+profile&redirect_uri=${c}${l}&state=seamless&nonce=ServiceNowAemUser`,C="deleteaccountemail"!==Granite.I18n.get("deleteaccountemail")&&Granite.I18n.get("deleteaccountemail")?Granite.I18n.get("deleteaccountemail"):"webpublishing@servicenow.com",S="linkId",x=function(){let e=window.location.origin;const t=window.location.pathname;if(-1!==t.indexOf("/content/servicenow/www/locale-sites")||-1!==t.indexOf("/content/servicenow/www/language-masters")){const n=t.split("/");let o=n[5];6===n.length&&(o=o.replace(".html","")),e=window.location.origin+"/"+`${n[1]}/${n[2]}/${n[3]}/${n[4]}/${o}`}return e}(),k=window.location.href;let E;function I(e,t,n){t.text(n),t.addClass("on"),null!==e&&(e.addClass("error"),e.removeClass("success"))}function F(e,t){t.text(""),t.removeClass("on"),null!==e&&(e.removeClass("error"),e.addClass("success"))}const U=L();function L(){const e=Y("AMCV_2A2A138653C66CB60A490D45%40AdobeOrg");return e?function(e){if(e.indexOf("MCMID%7C")>=0){const t=e.indexOf("MCMID%7C")+8,n=e.substring(t,e.length);return n.substring(0,n.indexOf("%7C"))}return null}(e):"function"==typeof Visitor?Visitor.getInstance("2A2A138653C66CB60A490D45@AdobeOrg").getMarketingCloudVisitorID():""}function T(){0;const e=ContextHub.getStore("servicenow-sso").getItem("userName");null!=e&&""!=e&&$.ajax({url:w,type:"GET",data:{userName:e},success(e){null!=e||""!=e?z(e):ContextHub.getStore("servicenow-sso").setItem("userLoaded",!1)},error(e){}})}function _(){const e=ContextHub.getStore("servicenow-sso").getItem("userName");null!=e&&""!=e&&$.ajax({url:y,type:"GET",data:{userName:e},success(e){null!=e||""!=e?function(e){if("object"==typeof e)for(let t=0;t<e.length;t++)ContextHub.getStore("servicenow-events")&&ContextHub.getStore("servicenow-events").setItem(e[t][0],e[t][1])}(e):ContextHub.getStore("servicenow-events").setItem("userLoaded",!1)},error(e){}})}function A(e,t,n){const o=e.text()||t;let a=parseInt(o);setTimeout((function(){a>0?(a--,e.text(a),A(e,a,n)):n.call(this)}),1e3)}function O(e,t,n){if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3);var o="expires="+e.toUTCString()}else o="";document.cookie=`${e}=${t};${o}; path=/`}function N(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function R(e){if(($(".component-my-account-standalone").length||$("#my-account-change-password-wrapper").length||$(".myAccount").length>1)&&0===$(".eloquaForm").length&&($("#tab-myaccount-mobile, #tab-myaccount, .myAccount .component-overlay-container-new.content-my-account").css("display","none"),$(".myAccount .component-overlay-container-new.content-my-account .form-container").remove()),e){const n=decodeURIComponent(e),o=JSON.parse(n);ContextHub.getStore("servicenow-sso").setItem("userName",o.mail),ContextHub.getStore("servicenow-sso").setItem("fName",o.fn),ContextHub.getStore("servicenow-forms").setItem("name",o.fn),ContextHub.getStore("servicenow-sso").setItem("LName",o.ln),ContextHub.getStore("servicenow-sso").setItem("myEmail",o.mail),t=function(e){!function(e){const t=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId"));$.ajax({url:d,type:"POST",data:{username:t,okta_session_id:e,mcid:L(),current_page_url:k},success(e){T(),_()},error(e){T(),_()}})}(e)},$.ajax({url:s+m,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(e){e.id&&t(e.id)},error(e){t(null)}})}var t;ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId"))?($("#tab-myaccount, #tab-myaccount-mobile").addClass("logged"),ContextHub.getStore("servicenow-sso").setItem("registration_complete",null),$("#my-account-register-thank-you").length,ae(x+"/my-account/my-account-your-profile.html #my-account-your-profile")):($("#tab-myaccount, #tab-myaccount-mobile").removeClass("logged"),ae(x+"/my-account/sign-in.html #my-account-sign-in-wrapper"))}function q(e){const t=$(e).find("input");let n=!0;return $(t).each((function(e){const t=$(this).attr("name");if("username"==t||"email"==t){const e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(n=$(this).val().match(e),null==n){const e=$(this).closest("label.servicenow-input").parent(".input-content").find(".is-required");de($(this),e)}}})),null!=n}function P(e){const t=$(e).find("input, select"),n=$(e).find(".gdpr-container");let o=!0,a=!0,s=0;return $(t).each((function(t){const n=$(this).closest("label.servicenow-input"),a=n.parent().find(".is-required"),i=$(this).val().trim();$(this).attr("name");""==i&&"pagePath"!==$(this).attr("id")&&"hidden"!=$(this).attr("type")&&(o=!1,de($(this),a),I(n,a,Granite.I18n.get("requiredformfilederror"))),""!==i&&checkHTMLTagInput(i)&&"pagePath"!==$(this).attr("id")&&"hidden"!=$(this).attr("type")&&!$(this).parents("label").hasClass("error")&&I(n,a,Granite.I18n.get("noHTMLTagsAllowed")||"Invalid input: < or > symbol is not allowed"),""!==i&&"pagePath"!==$(this).attr("id")&&q(e)&&!$(this).parents("label").hasClass("error")&&F(n,a),$(this).parents("label").hasClass("error")&&s++})),n.length&&("block"===n.css("display")&&void 0===n.find("[name=gdpr]:checked").val()?(a=!1,I(null,n.find(".is-required"),Granite.I18n.get("requiredformfilederror"))):F(null,n.find(".is-required"))),!(!o||!a||s)}function H(e){const t=$(e).find("input");let n=!0;return $(t).each((function(e){const t=$(this).attr("name");if("create-password"==t||"new-password"==t){const e=$(this).val().trim();let t=!0,o=!0,a=!0,s=!0,i=!0;if(""==e||$(this).parents("label").hasClass("error"))n=!1;else{e.length<8&&(t=!1);let r=0,l=0;const c=e.length;for(let t=0;t<c;t++)/[a-z]/.test(e.charAt(t))&&r++,/[A-Z]/.test(e.charAt(t))&&l++;0==r&&(o=!1),0==l&&(a=!1);null==e.match(/\d+/g)&&(s=!1);null==e.match(/([!,@,#,$,%,*,^,&,*,(,)])+/g)&&(i=!1);const d=$(this).closest("label.servicenow-input"),u=$(d).parent(".input-content").find(".is-required");i&&s&&a&&o&&t?(n=!0,F(d,u)):(t||(n=!1,I(d,u,Granite.I18n.get("leastchar"))),o||(n=!1,I(d,u,Granite.I18n.get("leastlower"))),a||(n=!1,I(d,u,Granite.I18n.get("leastupper"))),s||(n=!1,I(d,u,Granite.I18n.get("leastnumber"))),i||(n=!1,I(d,u,Granite.I18n.get("leastsymbol"))))}}})),!!n}function G(e,t,n,o,a){let s=!0;if(t)var i=q(e),r=P(e),l=!0,c=!0;else if(n)i=q(e),r=P(e),l=!0,c=!0;else if(o)r=P(e),i=!0,l=H(e),c=!0;else{r=P(e),i=q(e),l=H(e),c=function(e){const t=$(e).find("input"),n=new RegExp(/^[0-9-\s]*$/);let o="",a=!0;return t.each((function(){const e=$(this).attr("name"),t=$(this).val();if(("user-phone"===e||"phone"===e)&&""!==t){const e=$(this).closest("label.servicenow-input"),s=$(e).parent(".input-content").find(".is-required");n.test(t)?t.length>0&&t.length<5||t.length>22?(a=!1,o=Granite.I18n.get("mustbeween5and22"),I(e,s,o)):F(e,s):(o=Granite.I18n.get("Numbers only"),a=!1,I(e,s,o))}})),a}(e);a&&(s=function(e){const t=e.find(".input-email").parent().find(".is-required"),n=e.find(".input-email").find(".email").val();let o;-1!=n.indexOf("@servicenow.com")?(o=!1,I(t,t,Granite.I18n.get("servicenowsigninerror"))):o=!0;return o}(e))}return!!(i&&r&&l&&s&&c)}function D(){$("#my-account-your-profile").length>0||($("#my-account-register-thank-you").length>0||$("#my-account-manage-profile").length>0?oe(x+"/my-account/my-account-your-profile.html #my-account-your-profile",null):oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper",null))}function M(e){const t=$(window).scrollTop();$(".component-overlay-new").each((function(){$(this).removeClass("no-transition")})),$(window).outerWidth()>1023?setTimeout((function(){$(".active-overlay").find(".component-overlay-new-left-col").removeClass("overlay-col-fade-in")}),100):setTimeout((function(){$(".active-overlay").find(".component-overlay-new-left-col").removeClass("overlay-col-slide-in")}),400),setTimeout((function(){$(".active-overlay").find(".component-overlay-new-right-col").removeClass("overlay-col-slide-in"),$(".component-overlay-new-right-col-nav-sec").removeClass("top-menu-active"),$("body").removeClass("no-scroll-new"),$(window).scrollTop(t)}),400),setTimeout((function(){$(".component-overlay-new").removeClass("active-overlay"),$(".component-overlay-container-new").removeClass("overlay-modal-open"),e()}),800)}function V(e){E=0;const t=$(e).find(".close-btn-desktop,.close-btn-mobile,#myaccount-cross");$(t).on("click",(function(){M(D)})),$(e).find(".show-pass").click((function(){const e=$(this).closest(".servicenow-input"),t=$(e).find("input");"password"==$(t).attr("type")?($(t).attr("type","text"),$(this).text(Granite.I18n.get("showpass"))):($(t).attr("type","password"),$(this).text(Granite.I18n.get("hidepass")))})),$(e).find(".info-pass").mouseover((function(){$(this).find(".tooltip-text-password").css("visibility","visible")})),$(e).find(".info-pass").mouseout((function(){$(this).find(".tooltip-text-password").css("visibility","hidden")})),$(e).find(".terms-checkbox").click((function(){if($(this).hasClass("onCliked"))$(this).removeClass("onCliked");else{$(this).addClass("onCliked");const e=$(".terms-container .is-required");F(e,e)}})),$(".component-my-account form .input-wrap").focusout((function(){if(0!==$(this).find("select.custom-dropdown__select").length){const e=$(this).find("select.custom-dropdown__select").val(),t=$(this).closest("div.input-content"),n=$(t).children("label"),o=$(t).children(".is-required");let a="";""==e?(a=Granite.I18n.get("requiredformfilederror"),de($(this),o),I(n,o,a)):F(n,o)}}));const n=$(".component-my-account form .input-wrap input,.component-my-account form .input-wrap select ,#my-account-change-password-wrapper form .input-wrap input");if($(e).find(n).each((function(){$(this).focusout((function(){const e=$(this).val().trim(),t=$(this).attr("name"),n="email"!=t&&"username"!=t||$(this).val().match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o=$(this).closest("label.servicenow-input"),a=$(this).closest("#my-account-sign-in-wrapper"),s=o.siblings(".is-required");let i="";if(""==e)i=Granite.I18n.get("requiredformfilederror"),$(this).hasClass("email")&&$(this).parents("#my-account-sign-up").length&&(i=Granite.I18n.get("requiredemail")),de($(this),s),I(o,s,i);else if($(o).hasClass("input-email")){if(-1==e.indexOf("@servicenow.com")||a.length>0)a.length>0?(F(o,s),"username"==t&&null==n&&(i=Granite.I18n.get("emailformatnotvalid"),I(o,s,i))):null==n?(i=Granite.I18n.get("emailformatnotvalid"),I(o,s,i)):F(o,s);else{const e=$("#my-account-forgot-password-wrapper form");G(e,!1,!0,!1,!1),e.parent(".form-container").find(".error-msg").remove(),i=Granite.I18n.get("servicenowsigninerror"),I(o,s,i)}}else if("user-phone"===t||"phone"===t){const t=e,n=5,a=22;new RegExp(/^[0-9-\s]*$/).test(t)?t.length>0&&t.length<n||t.length>a?(i=Granite.I18n.get("mustbeween5and22"),I(o,s,i)):F(o,s):(i=Granite.I18n.get("Numbers only"),I(o,s,i))}else if("first-name"===t||"user-name"===t||"second-name"===t||"user-lastname"===t||"company-form"===t||"company-name"===t){checkHTMLTagInput(e)?I(o,s,Granite.I18n.get("noHTMLTagsAllowed")||"Invalid input: < or > symbol is not allowed"):F(o,s)}else F(o,s)})),setTimeout(function(){K($(this))}.bind($(this)),1200),$(this).on("input",(function(){K(this)}))})),$(e).find("#my-account-validate-email-wrapper").length>0&&$(e).find(".component-overlay-close-btn").click((function(){oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper")})),$('<script language="javascript" type="text/javascript" src="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/1.7.0/js/okta-sign-in.min.js"><\/script>').appendTo(e),$('<script language="javascript" type="text/javascript" src="/content/dam/servicenow-assets/eloqua/eloqua-dropdowns.min.js"><\/script>').appendTo(e),$(e).find(".signup-recaptcha-container").length){const t=$("html"),n=t.attr("hrefLang")?t.attr("hrefLang"):t.attr("lang")?t.attr("lang"):"en-US";$(e).find(".signup-recaptcha-container").prepend(`<script src='https://www.google.com/recaptcha/api.js?onload=validateReCaptchaSSO&render=explicit&hl=${n}' async defer><\/script>`)}if($(e).find(".component-my-account-standalone #my-account-sign-up").length&&setTimeout((function(){$(e).find(".component-my-account-standalone #my-account-sign-up #field15").prepend(`<option selected="selected" value="">${Granite.I18n.get("stateformfieldplaceholder")}</option><option value="">${Granite.I18n.get("stateformfielddefaultoption")}</option>`),$(e).find(".component-my-account-standalone #my-account-sign-up #field12").prepend(`<option value="">${Granite.I18n.get("jobfunctionplaceholder")}</option>`)}),1e3),e.hasClass("partials-account")){const t=e.find(".my-account-partial-view");void 0!==$(t)&&null!==$(t)&&$(t).length>1&&$(t)[0].hasAttribute("data-com-name")&&$(t)[0].hasAttribute("data-component-name")&&($(t).attr("data-com-name","my-account-overlay-form"),$(t).attr("data-component-name","my-account-overlay-form"))}const o=e.find("video.video-js");if(o.length>0){const e=$(o).attr("data-account");$.getScript(`//players.brightcove.net/${e}/default_default/index.min.js`).fail((function(){}))}!function(e){$(e).find("#my-account-sign-in-wrapper .sign-in-btn a").on("click tap",(function(){Q();const e=$(this).closest(".sign-in-btn").siblings(".form-container").find("form");G(e,!0,!1,!1,!1)&&window.accountAPI.validateEmail.call(this,e,(function(){me(),ue(),setTimeout(function(){window.accountAPI.submitForm.call(this,e)}.bind(this),1e3)}))})),$(e).find("#my-account-sign-in-wrapper .form-container .password").keypress((function(e){const t=$(this).closest(".form-container").find("form");if(13==e.which){Q();G(t,!0,!1,!1,!1)&&window.accountAPI.validateEmail.call(this,t,(function(){me(),ue(),window.accountAPI.submitForm.call(this,t)}))}})),$(e).find(".sign-up-btn a").on("click tap",(function(){if($(".error-msg").css("display","none"),$(".error-msg span").text(""),$(this).parent().hasClass("sign-up-btn-to-profile")){const e=$(this).closest(".sign-up-btn-to-profile").siblings(".form-container").find("form"),t=G(e,!1,!1,!1,!0);let n=!0,o=!0;const a=e.find("#recaptchaSSO");if(a.length){const e=a.parent().children(".is-required");a.hasClass("verified")?(o=!0,F(a,e)):(I(a,e,Granite.I18n.get("requiredformfilederror")),o=!1)}const s=se();if($(e).find(".input-wrap input, .input-wrap select").each((function(){""==$(this).val()&&(n=!1)})),t&&"true"===s&&n&&o){const t=e.find(".gdpr-container [name=gdpr]:checked").val(),n=void 0===t?"na":"Yes"==t,o=te($(".terms-container .term-use-url").attr("href")),a=te($(".terms-container .privacy-policy-url").attr("href"));window.accountAPI.registration(e,s,n,o,a),$(".component-my-account .my-account-loading-layer").addClass("show-loading-layer"),$(".my-account-sign-up .my-account-loading-layer").addClass("show-loading-layer")}}else oe(x+"/my-account/sign-up.html #my-account-sign-up",$(".component-my-account-standalone").attr("data-register-path"))})),$(e).find(".update-profile-btn a").on("click tap",(function(){const e=$(this).closest(".container-box-delete-account").find(".form-container");let t=!1,n=0;const o=se(),a=$(".error-msg-eloqua"),s=getIpAddress();if($(e).each((function(e){const a=$(this).find("form");t=G(a,!1,!1,!1,!1),t&&"true"===o||(n+=1)})),0==n){const t=e.find("#user-pass-form"),n=e.find("#user-data-form"),o=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId")),i=n.find(".gdpr-container [name=gdpr]:checked").val(),r=!!n.find(".terms-container #terms").hasClass("onCliked"),l=void 0===i?"na":"Yes"==i,c=te(n.find(".terms-container .term-use-url").attr("href")),d=te(n.find(".terms-container .privacy-policy-url").attr("href")),u={userName:o,userId:t[0].email.value,firstname:n[0]["user-name"].value,lastname:n[0]["user-lastname"].value,email:t[0].email.value,company:n[0]["company-name"].value,businessPhone:n[0]["user-phone"].value,joblevel:n[0].jobLevel.value,jobRole:n[0].jobRole.value,countryCode:n[0].country.value,region:n[0].region.value,jobfunction:n[0].jobFunction.value,state:n[0].state.value,termCondFlag:r,optInFlag:l,termCondUrl:c,privacyUrl:d,updateOkta:"true",emailValidated:ContextHub.getStore("servicenow-sso").getItem("emailValidated"),pageurl:k,currentPagePath:k,updateprofile:!0,eloquaIpAddress:s};window.accountAPI.updateProfile(u,(function(e){if(200==e.statusCode){ContextHub.getStore("servicenow-sso").setItem("userName",u.userName),ContextHub.getStore("servicenow-sso").setItem("userId",u.userId||u.userName||u.email),ContextHub.getStore("servicenow-sso").setItem("fName",u.firstname),ContextHub.getStore("servicenow-sso").setItem("LName",u.lastname),ContextHub.getStore("servicenow-sso").setItem("myEmail",u.email),ContextHub.getStore("servicenow-sso").setItem("company",u.company),ContextHub.getStore("servicenow-sso").setItem("businessPhone",u.businessPhone),ContextHub.getStore("servicenow-sso").setItem("jobLevel",u.joblevel),ContextHub.getStore("servicenow-sso").setItem("jobRole",u.jobRole),ContextHub.getStore("servicenow-sso").setItem("country",u.countryCode),ContextHub.getStore("servicenow-sso").setItem("jobFunction",u.jobfunction),ContextHub.getStore("servicenow-sso").setItem("state",u.state),ContextHub.getStore("servicenow-sso").setItem("termsCondChecked",u.termCondFlag),ContextHub.getStore("servicenow-sso").setItem("optinChecked",u.optInFlag),ContextHub.getStore("servicenow-sso").setItem("termsUseUrl",u.termCondUrl),ContextHub.getStore("servicenow-sso").setItem("privacyUrl",u.privacyUrl),ContextHub.getStore("servicenow-sso").setItem("updateOkta",!0),ContextHub.getStore("servicenow-sso").setItem("emailValidated",e.emailValidated);const t=sessionStorage.getItem("updateIncompleteUserInfo");if(null!=t?(sessionStorage.removeItem("updateIncompleteUserInfo"),M(D)):oe(x+"/my-account/my-account-your-profile.html #my-account-your-profile",$(".component-my-account-standalone").attr("data-your-profile-path")),!function(){const e=ContextHub.getStore("servicenow-sso").getItem("fName"),t=ContextHub.getStore("servicenow-sso").getItem("LName"),n=ContextHub.getStore("servicenow-sso").getItem("myEmail"),o=ContextHub.getStore("servicenow-sso").getItem("company"),a=ContextHub.getStore("servicenow-sso").getItem("jobLevel"),s=ContextHub.getStore("servicenow-sso").getItem("jobRole"),i=ContextHub.getStore("servicenow-sso").getItem("jobFunction"),r=ContextHub.getStore("servicenow-sso").getItem("country"),l=ContextHub.getStore("servicenow-sso").getItem("businessPhone");return e&&t&&n&&o&&a&&s&&i&&r&&l}()?a.removeClass("hide-more-info"):a.addClass("hide-more-info"),$(".component-eloqua-form-base").length){const e=$(".component-eloqua-form-base").find("form [name=optInFlag]");e.length&&e.val(String(u.optInFlag)),$(".component-eloqua-form-base").find("form .optin-section").removeClass("active-optin-sec").css("display","none")}$(".component-eloqua-form-base.ppAlternative").length&&($(".component-eloqua-form-base .form-name-eloqua [name=progressiveProfileFlag]").remove(),$(".component-eloqua-form-base").removeClass("ppAlternative"))}else ce(e.responseString?Granite.I18n.get(e.responseString):Granite.I18n.get("servererror"),n)}))}else e.find(".error-msg").remove()})),$(e).find("a.forgot-pass").on("click",(function(){oe(x+"/my-account/forgot-password.html #my-account-forgot-password-wrapper",$(".component-my-account-standalone").attr("data-forgot-password-path"))})),$(e).find(".back-btn-forgot-password a").on("click",(function(){oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper",$(".component-my-account-standalone").attr("data-sign-in-path"))})),$(e).find(".recovery-link a").on("click",(function(){$(this);const e=$("#my-account-forgot-password-wrapper form"),t=e.closest(".container-box-forgot-password"),n=G(e,!1,!0,!1,!1);let o=!0;const a=e.find("#recaptchaSSO");if(a.length){const e=a.parent().children(".is-required");a.hasClass("verified")?(o=!0,F(a,e)):(I(a,e,Granite.I18n.get("requiredformfilederror")),o=!1)}if(e.parent(".form-container").find(".error-msg").remove(),n&&o){const n=$("#my-account-forgot-password-wrapper form")[0].email.value;if(function(e){return e.indexOf("@servicenow.com")>-1}(n)){I($("#my-account-forgot-password-wrapper form .input-content label"),$("#my-account-forgot-password-wrapper form .input-content .is-required"),Granite.I18n.get("servicenowsigninerror"))}else{const o={email:n};window.accountAPI.passUserData(o,(function(o){if(o)if(200==o.statusCode||"EMAIL_SENT_SUCCESSFUL"==o.errorCode)oe(x+"/my-account/my-account-forgot-password-thank-you.html #my-account-forgot-password",$(".component-my-account-standalone").attr("data-forgot-password-thank-you-path")),document.cookie="globalUserEmail="+n;else{let a;try{const e=JSON.parse(o.responseString);a=e.errorCode&&"E0000007"==e.errorCode?`${Granite.I18n.get("unabletofinaccounterror")} ${n}`:e.errorSummary}catch(e){a=o.responseString,o.errorCode&&"EMAIL_LIMIT_EXCEEDED"==o.errorCode&&ie(t,null)}ce(`${Granite.I18n.get("oopserror")} ${Granite.I18n.get(a)||""}`,e)}else ce(Granite.I18n.get("badrequesterror"),e)}))}}})),$(e).find("#my-account-forgot-password-wrapper .form-container .email").on("keypress",(function(t){13==(t.keyCode||t.which)&&(t.preventDefault(),$(e).find(".recovery-link a").trigger("click"))}));const t=$(e).find("a.manage-profile").attr("href");"##"===t||"#"===t?$(e).find("a.manage-profile").on("click",(function(){oe(x+"/my-account/my-account-manage-profile.html #my-account-manage-profile",$(".component-my-account-standalone").attr("data-manage-profile-path"))})):$(e).find("a.manage-profile").off("click");$(e).find(".sign-out a").on("click",(function(){ne(!0)})),$(e).find(".sign-in a").on("click",(function(){oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper",$(".component-my-account-standalone").attr("data-sign-in-path"))})),$(e).find(".sign-in-your-profile a").on("click",(function(){ne(!0)})),$(e).find(".content-have-account a").on("click",(function(){oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper",$(".component-my-account-standalone").attr("data-sign-in-path"))})),$(e).find(".delete-account a").on("click",(function(e){e.preventDefault();const t=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId"));if(t){const e=C,n=`${Granite.I18n.get("delete_account_email_subject")} ${t}`,o=`${Granite.I18n.get("delete_account_email_body")} ${t}`;window.location=`mailto:${e}?subject=${n}&body=${o}`}ne(!0)})),$(e).find(".back-btn-delete-account a").on("click",(function(){oe(x+"/my-account/my-account-manage-profile.html #my-account-manage-profile",$(".component-my-account-standalone").attr("data-manage-profile-path"))})),$(e).find(".delete-password a").on("click",(function(){oe(x+"/my-account/my-account-delete-account-thank-you.html #my-account-delete-account-thank-you",$(".component-my-account-standalone").attr("data-delete-account-thank-you-path"))})),$(e).find(".back-btn-manage-profile a").on("click",(function(){oe(x+"/my-account/my-account-your-profile.html #my-account-your-profile",$(".component-my-account-standalone").attr("data-your-profile-path"))})),$(e).find("#email-verification-cta").click((function(){const e=N("linkId"),t=sessionStorage.getItem("emailToValidate");null!=e?window.accountAPI.requestVerificationEmail({linkId:e}):window.accountAPI.requestVerificationEmail({username:t})}))}(e),function(){if($("#my-account-your-profile").length>0){const e=ContextHub.getStore("servicenow-sso").getItem("fName"),t="notprofilelabelSuffix"!=Granite.I18n.get("notprofilelabelSuffix")?Granite.I18n.get("notprofilelabelSuffix"):"";if(e)$("#my-account-your-profile .greetings h3").text(`${Granite.I18n.get("Helloprofilelabel")} ${e}!`),$("#my-account-your-profile .greetings a").text(`${Granite.I18n.get("notprofilelabel")} ${e} ${t}?`);else{if(0!=Y("idToken").length){const e=JSON.parse(decodeURIComponent(Y("idToken"))).fn;$("#my-account-your-profile .greetings h3").text(`Hello ${e}!`),$("#my-account-your-profile .greetings a").text(`Not ${e}?`)}else{const e=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId"));e&&window.accountAPI.getProfile(e,(function(e){e?($("#my-account-your-profile .greetings h3").text(`${Granite.I18n.get("Helloprofilelabel")} ${e.firstName}!`),$("#my-account-your-profile .greetings a").text(`${Granite.I18n.get("notprofilelabel")} ${e.firstName} ${t}?`)):($("#my-account-your-profile .greetings h3").text(`${Granite.I18n.get("Helloprofilelabel")} ${ContextHub.getStore("servicenow-sso").getItem("fName")||decodeURIComponent(Y("userId"))}!`),$("#my-account-your-profile .greetings a").text(`${Granite.I18n.get("notprofilelabel")} ${ContextHub.getStore("servicenow-sso").getItem("fName")||decodeURIComponent(Y("userId"))} ${t}?`))}))}}}}(),function(){if($("#my-account-manage-profile").length>0){if(ContextHub.getStore("servicenow-sso").getItem("userLoaded"))J();else{const e=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId"));e&&window.accountAPI.getProfile(e,(function(e){z(e),J()}))}}}(),function(){const e=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId"));if($("#static-profile-interface").length>0&&e){const e=ContextHub.getStore("servicenow-sso").getItem("fName"),t=ContextHub.getStore("servicenow-sso").getItem("LName"),n=ContextHub.getStore("servicenow-sso").getItem("myEmail");$('#static-profile-interface [name="firstName"]').text(e),$('#static-profile-interface [name="lastName"]').text(t),$('#static-profile-interface [name="email"]').text(n)}}(),fe(),function(){const e=$(".gdpr-container [name=gdpr]");e.length&&e.on("change",()=>{F(null,e.closest(".gdpr-container").find(".is-required"))})}()}function j(e,t){t?!function(e,t){return e.find("option").map((function(){return $(this).val()})).get().includes(t)}(e,t)?e.find("option").eq(0).prop("selected",!0):e.val(t).trigger("change"):"state"==e.attr("name")?e.append("<option value=''>-- State or Province --</option>"):"jobFunction"==e.attr("name")?e.append("<option value=''>-- Job Function --</option>"):e.find("option").eq(0).prop("selected",!0)}function B(e,t){j($("#my-account-manage-profile select#field15"),e.stateSs),j($("#my-account-manage-profile select[name='jobRole']"),e.jobRoleSs),!0===e.optInFlag||"true"===e.optInFlag?$("#my-account-manage-profile .gdpr-container [name=gdpr][value=Yes]").prop("checked",!0):!1!==e.optInFlag&&"false"!==e.optInFlag||$("#my-account-manage-profile .gdpr-container [name=gdpr][value=No]").prop("checked",!0),t.call(this,e)}function W(e){j($("#my-account-manage-profile select[name='jobFunction']"),e.jobFunctionSs)}function J(){$("#my-account-manage-profile input.email").val(ContextHub.getStore("servicenow-sso").getItem("myEmail")),$("#my-account-manage-profile input#user-name").val(ContextHub.getStore("servicenow-sso").getItem("fName")),$("#my-account-manage-profile input#user-lastname").val(ContextHub.getStore("servicenow-sso").getItem("LName")),$("#my-account-manage-profile input#company-name").val(ContextHub.getStore("servicenow-sso").getItem("company")),$("#my-account-manage-profile input#user-phone").val(ContextHub.getStore("servicenow-sso").getItem("businessPhone"));const e=ContextHub.getStore("servicenow-sso").getItem("termsUseUrl"),t=ContextHub.getStore("servicenow-sso").getItem("privacyUrl"),n=ContextHub.getStore("servicenow-sso").getItem("termsCondChecked");$("#my-account-manage-profile .terms-container .term-use-url").attr("href",(function(){return e||$(this).attr("href")})),$("#my-account-manage-profile .terms-container .privacy-policy-url").attr("href",(function(){return t||$(this).attr("href")})),(!0===n||"true"===n||null==n)&&$("#my-account-manage-profile .terms-container #terms").addClass("onCliked");const o=$("#my-account-manage-profile input#company-name");"ServiceNow"===o.val()&&o.prop("disabled",!0).css("border","none");const a={countrySs:ContextHub.getStore("servicenow-sso").getItem("country"),jobLevelSs:ContextHub.getStore("servicenow-sso").getItem("jobLevel"),stateSs:ContextHub.getStore("servicenow-sso").getItem("state"),jobRoleSs:ContextHub.getStore("servicenow-sso").getItem("jobRole"),jobFunctionSs:ContextHub.getStore("servicenow-sso").getItem("jobFunction"),optInFlag:ContextHub.getStore("servicenow-sso").getItem("optinChecked")};setTimeout((function(){!function(e,t,n){j($("#my-account-manage-profile select#field14"),e.countrySs),j($("#my-account-manage-profile select#field10"),e.jobLevelSs),t.call(this,e,n)}(a,B,W)}),1e3)}$("#tab-myaccount").click((function(){const e=window.location.href;$("#tab-myaccount, #tab-myaccount-mobile").hasClass("logged")||O("redirectionPage",e,1)})),$(document).ready((function(){const e=decodeURIComponent(Y("formUserID"));if($(".component-my-account").length){const t=decodeURIComponent(Y("userId")),n=Y("userId"),o=Y("xxsessionchecked");if(function(){const e=window.location.href,t=e.indexOf("my-account/sign-in.html")>-1,n=e.indexOf("j_reason=")>-1,o=Y("userId"),a=decodeURIComponent(Y("redirectionPage"));if(t)if(n)Z(!0);else if(e.indexOf("aem-author-stage.servicenow.com")>-1||e.indexOf("aem-author-prod.servicenow.com")>-1);else if(o&&-1===window.location.search.indexOf("isFromProfileLinking=true"))if(a)window.location.href=a;else{const e=$(".section-component-universal-form");window.location.href=function(e){const t=e.hasClass("secondary-event-variation");let n="/";const o=window.location.href,a=$("html").attr("hrefLang"),s=$("html").attr("lang");switch(!0){case"en-GB"===a||"en-GB"===s||null!==RegExp("www.servicenow.com/uk").exec(o)||null!==RegExp("/content/servicenow/www/locale-sites/en-gb").exec(o)||null!==RegExp("/content/servicenow/www/language-masters/en-gb").exec(o)||null!==RegExp(".net/uk").exec(o)||null!==RegExp("webdev.servicenow.com/uk").exec(o)||null!==RegExp("www.webqa.servicenow.com/uk").exec(o)||null!==RegExp("www.webstg.servicenow.com/uk").exec(o):n="/uk/";break;default:if(t){const t=e.find(".inner-view"),o=t.length>0?t.data("events-home-page-path"):"";n=o||"/"}else n="/"}return n}(e)}}(),t||(document.cookie="login-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),function(){const e="true"===N("emailValidated",window.location.search),t="true"===N("isFromProfileLinking",window.location.search),n=N("userName",window.location.search),o=N("linkAddress",window.location.search);if(e&&t){$(".my-account-loading-layer").addClass("show-loading-layer");decodeURIComponent(Y("userId"))&&window.accountAPI.signOutChampions((function(){O("isEmailValidated",e,1/24),O("primaryAddress",n,1/24),O("linkedAddress",o,1/24),O("linkedAddress",o,1/24)}))}}(),function(e){const t="true"===N("isFromProfileLinking",window.location.search);if($("#my-account-sign-in-wrapper").length&&t){const e=N("userName",window.location.search);$("#my-account-sign-in-wrapper").find("[name='username']").val(e)}$(".my-account-loading-layer").removeClass("show-loading-layer")}(),window.location.href.indexOf("sign-in.html")>-1){const e=N("resource",window.location.search),t=N("j_reason",window.location.search);if(null!==e&&""!==e&&void 0!==e&&"null"!==e&&null!==t&&""!==t&&"INVALID_CREDENTIALS"!==t)O("redirectionPage",decodeURIComponent(e),694444e-9);else{const e="true"===N("emailValidated",window.location.search),t="true"===N("isFromProfileLinking",window.location.search);if(e&&t);else{window.location.href}}}if(null==o||""==o||null==o)if(null==n||""==n||null==n)window.accountAPI.getLoginFromOktaSession((function(e){if(e.login){const t=Y("xxlogin");e.login,window.location.href;null!=t&&""!=t&&null!=t&&(O("redirectionPage",window.location.href,1),window.location.href=s+i+b)}else $("#signInLoadingFilm").remove()}));else{$("#signInLoadingFilm").remove();const e=Y("userId");null!=e&&""!=e&&null!=e&&(ContextHub.getStore("servicenow-sso").setItem("userName",e),T(),_())}else $("#signInLoadingFilm").remove();if(function(){if($(".component-my-account-standalone #my-account-register-thank-you").length){const e=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId")),t=ContextHub.getStore("servicenow-sso").getItem("no_no");if(t){const n='<form action="/login-form.html/j_security_check" method="POST" class="hidden-sign-in-standalone" style="display:none;"><input id="pagePath" type="hidden" name="pagePath" value=""><input type="text" tabindex="1" name="username" id="email" value="" class="email standalone_temp_email"><input type="password" tabindex="1" name="password" id="password" value="" class="standalone_temp_password"></form>';$(".component-my-account-standalone #my-account-register-thank-you").append(n),setTimeout((function(){const n=$(".component-my-account-standalone #my-account-register-thank-you .hidden-sign-in-standalone");$(n).find("input.standalone_temp_email").val(e),$(n).find("input.standalone_temp_password").val(t),$(".component-my-account-standalone .auto-login-message").addClass("show-messg"),A($(".component-my-account-standalone .auto-login-counter"),5,(function(){ContextHub.getStore("servicenow-sso").setItem("no_no",null),window.accountAPI.submitForm.call(this,n)}))}),1e3)}}}(),window.location.search.indexOf("INVALID_CREDENTIALS")>-1&&$(".component-my-account-standalone #my-account-sign-in-wrapper .error-msg").length>0&&$(".component-my-account-standalone #my-account-sign-in-wrapper .error-msg").after(`<div class="invalid-credentials-error" style="color:red;margin: auto;margin-top:2rem; width: 250px;">${Granite.I18n.get("invalidcredentialstryagainlabel")}</div>`),window.location.search.indexOf("emailValidated")>-1){const e=$("#my-account-sign-in-wrapper .email-validation");if(e.length>0){const t=N("isFromProfileLinking",window.location.search),n=N("emailValidated",window.location.search),o=N("userName",window.location.search),a=N("linkAddress",window.location.search);if(e.removeClass("email-validation-off"),"true"===n)if(O("emailValidatedLinkClicked"+o,"true",1),"true"===t)if("true"!=Y("linkingEmailAlreadyVerified"+a)){O("linkingEmailAlreadyVerified"+a,"true",1),O("primaryAddress","",-1),O("linkedAddress","",-1);const t=e.attr("data-email-champion-validation");e.text(Granite.I18n.get(t))}else{const t=e.attr("data-email-validated");e.text(Granite.I18n.get(t))}else e.text(e.attr("data-email-validation-success"));else{const t=N("code",window.location.search);if(t){const n=Granite.I18n.get(t);t!==n?e.text(n):e.text(e.attr("data-email-validation-failed"))}else e.text(e.attr("data-email-validation-failed"))}}}const a=ContextHub.getStore("servicenow-sso").getItem("myEmail");if(t){const e=ContextHub.getStore("servicenow-sso").getItem("userName"),n=Y("idToken");a?(R(null),R(e!==t&&null!==n&&""!==n&&void 0!==n?n:null)):R(null!==n&&""!==n&&void 0!==n?n:null)}else e?window.location.href.indexOf("demo/demonow.html")>-1?($("#tab-myaccount").css("display","none"),$("#tab-myaccount-mobile").css("display","none")):ae(x+"/my-account/sign-in.html #my-account-sign-in-wrapper"):(Z(!1),R(null));$(".component-my-account.component-my-account-standalone").length>0&&V($(".component-my-account.component-my-account-standalone"))}$("a.protected-page-link").each((function(e,t){$(t).on("click tap",(function(e){const t=$(this).attr("href"),n=$(this).attr("target");let o=null,a=null;t&&"#"!==t[0]&&(e.preventDefault(),a=0==t.indexOf("http")?t:`${window.location.protocol}//${window.location.host}${t}`,o="_blank"==n?"_blank":"_self",O("redirectionPage",a,1),window.open(t,o))}))}))})),window.checkHTMLTagInput=function(e){return/<|\/>|>/.test(e)};function z(e){ContextHub.getStore("servicenow-sso").setItem("account_id",null!=e.accountId?e.accountId:""),ContextHub.getStore("servicenow-sso").setItem("account_name",null!=e.accountName?e.accountName:""),ContextHub.getStore("servicenow-sso").setItem("account_segment",null!=e.accountSegment?e.accountSegment:""),ContextHub.getStore("servicenow-sso").setItem("account_type",null!=e.accountType?e.accountType:""),ContextHub.getStore("servicenow-sso").setItem("businessPhone",null!=e.businessPhoneSs?e.businessPhoneSs:""),ContextHub.getStore("servicenow-sso").setItem("businessUnit",null!=e.businessUnit?e.businessUnit:""),ContextHub.getStore("servicenow-sso").setItem("campaign_type",null!=e.campaignType?e.campaignType:""),ContextHub.getStore("servicenow-sso").setItem("company",e.email.indexOf("@servicenow.com")>-1||e.email.indexOf("%40servicenow.com")>-1?"ServiceNow":e.companySs),ContextHub.getStore("servicenow-sso").setItem("country",null!=e.countrySs?e.countrySs:""),ContextHub.getStore("servicenow-sso").setItem("emailValidated",null!=e.emailValidated?e.emailValidated:""),ContextHub.getStore("servicenow-sso").setItem("fName",null!=e.firstName?e.firstName:""),ContextHub.getStore("servicenow-forms").setItem("name",null!=e.firstName?e.firstName:""),ContextHub.getStore("servicenow-sso").setItem("jobRole",null!=e.jobRoleSs?e.jobRoleSs:""),ContextHub.getStore("servicenow-sso").setItem("jobTitle",null!=e.jobTitle?e.jobTitle:""),ContextHub.getStore("servicenow-sso").setItem("jobFunction",null!=e.jobFunctionSs?e.jobFunctionSs:""),ContextHub.getStore("servicenow-sso").setItem("jobLevel",null!=e.jobLevelSs?e.jobLevelSs:""),ContextHub.getStore("servicenow-sso").setItem("LName",null!=e.lastName?e.lastName:""),ContextHub.getStore("servicenow-sso").setItem("campaignId",null!=e.lastCampaignId?e.lastCampaignId:""),ContextHub.getStore("servicenow-sso").setItem("myEmail",null!=e.email?e.email:""),ContextHub.getStore("servicenow-sso").setItem("optinChecked",null!=e.optInFlag?e.optInFlag:""),ContextHub.getStore("servicenow-sso").setItem("privacyUrl",null!=e.privacyUrl?e.privacyUrl:""),ContextHub.getStore("servicenow-sso").setItem("productInterest",null!=e.productInterest?e.productInterest:""),ContextHub.getStore("servicenow-sso").setItem("ssoUserId",null!=e.ssoUserId?e.ssoUserId:""),ContextHub.getStore("servicenow-sso").setItem("state",null!=e.stateSs?e.stateSs:""),ContextHub.getStore("servicenow-sso").setItem("region",null!=e.region?e.region:""),ContextHub.getStore("servicenow-sso").setItem("termsCondChecked",null!=e.termCondFlag?e.termCondFlag:""),ContextHub.getStore("servicenow-sso").setItem("termsUseUrl",null!=e.termCondUrl?e.termCondUrl:""),ContextHub.getStore("servicenow-sso").setItem("mcid",null!=e.mcId?e.mcId:""),ContextHub.getStore("servicenow-sso").setItem("okta_id",null!=e.oktaId?e.oktaId:""),ContextHub.getStore("servicenow-sso").setItem("industry_specific",null!=e.industrySpecific?e.industrySpecific:""),ContextHub.getStore("servicenow-sso").setItem("industry_generic",null!=e.industryGeneric?e.industryGeneric:""),ContextHub.getStore("servicenow-sso").setItem("typeText",null!=e.typeText?e.typeText:""),ContextHub.getStore("servicenow-sso").setItem("segement",null!=e.segement?e.segement:""),ContextHub.getStore("servicenow-sso").setItem("next_best_product",null!=e.nextBestProduct?e.nextBestProduct:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_itsm",null!=e.buCustomerProductItsm?e.buCustomerProductItsm:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_itom",null!=e.buCustomerProductItom?e.buCustomerProductItom:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_itbm",null!=e.buCustomerProductItbm?e.buCustomerProductItbm:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_hr",null!=e.buCustomerProductHr?e.buCustomerProductHr:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_csm",null!=e.buCustomerProductCsm?e.buCustomerProductCsm:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_pa",null!=e.buCustomerProductPa?e.buCustomerProductPa:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_security",null!=e.buCustomerProductSecurity?e.buCustomerProductSecurity:""),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_platform",null!=e.buCustomerProductPlatform?e.buCustomerProductPlatform:""),ContextHub.getStore("servicenow-sso").setItem("crossSell",null!=e.crossSell?e.crossSell:""),ContextHub.getStore("servicenow-sso").setItem("upSell",null!=e.upSell?e.upSell:""),ContextHub.getStore("servicenow-sso").setItem("has_support_plan",null!=e.hasSupportPlan?e.hasSupportPlan:""),ContextHub.getStore("servicenow-sso").setItem("user_code",null!=e.userCode?e.userCode:""),ContextHub.getStore("servicenow-sso").setItem("uuid",null!=e.uuid?e.uuid:""),ContextHub.getStore("servicenow-sso").setItem("userLoaded",!0)}function K(e){const t=$(e).val(),n=$(e).closest(".servicenow-input").find(".placeholder");""==t?($(n).removeClass("focus"),$(e).removeClass("focus")):($(n).addClass("focus"),$(e).addClass("focus")),($(e).hasClass("input-create-password")||$(e).hasClass("input-new-password"))&&function(e){let t=!0,n=!0,o=!0,a=!0,s=!0;e.length<8&&(t=!1);let i=0,r=0;const l=e.length;for(let t=0;t<l;t++)/[a-z]/.test(e.charAt(t))&&i++,/[A-Z]/.test(e.charAt(t))&&r++;0==i&&(n=!1),0==r&&(o=!1),null==e.match(/\d+/g)&&(a=!1),null==e.match(/([!,@,#,$,%,*,^,&,*,(,)])+/g)&&(s=!1),t?$(".component-my-account form .least-char, #my-account-change-password-wrapper form .least-char").removeClass("fail"):$(".component-my-account form .least-char, #my-account-change-password-wrapper form .least-char").addClass("fail"),n?$(".component-my-account form .least-lower, #my-account-change-password-wrapper form .least-lower").removeClass("fail"):$(".component-my-account form .least-lower, #my-account-change-password-wrapper form .least-lower").addClass("fail"),o?$(".component-my-account form .least-upper, #my-account-change-password-wrapper form .least-upper").removeClass("fail"):$(".component-my-account form .least-upper, #my-account-change-password-wrapper form .least-upper").addClass("fail"),a?$(".component-my-account form .least-number, #my-account-change-password-wrapper form .least-number").removeClass("fail"):$(".component-my-account form .least-number, #my-account-change-password-wrapper form .least-number").addClass("fail"),s?$(".component-my-account form .least-symbol, #my-account-change-password-wrapper form .least-symbol").removeClass("fail"):$(".component-my-account form .least-symbol, #my-account-change-password-wrapper form .least-symbol").addClass("fail")}(t)}function Y(e){const t=e+"=",n=decodeURIComponent(document.cookie),o=n.indexOf(';"')>-1?n.split(/(;)([^;"])/g):n.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function X(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function Q(){ContextHub.getStore("servicenow-sso").setItem("userName",null),ContextHub.getStore("servicenow-sso").setItem("fName",null),ContextHub.getStore("servicenow-sso").setItem("LName",null),ContextHub.getStore("servicenow-sso").setItem("myEmail",null),ContextHub.getStore("servicenow-sso").setItem("userId",null),ContextHub.getStore("servicenow-sso").setItem("company",null),ContextHub.getStore("servicenow-sso").setItem("businessPhone",null),ContextHub.getStore("servicenow-sso").setItem("jobLevel",null),ContextHub.getStore("servicenow-sso").setItem("jobRole",null),ContextHub.getStore("servicenow-sso").setItem("country",null),ContextHub.getStore("servicenow-sso").setItem("jobFunction",null),ContextHub.getStore("servicenow-sso").setItem("state",null),ContextHub.getStore("servicenow-sso").setItem("termsCondChecked",null),ContextHub.getStore("servicenow-sso").setItem("optinChecked",null),ContextHub.getStore("servicenow-sso").setItem("optin",null),ContextHub.getStore("servicenow-sso").setItem("termsUseUrl",null),ContextHub.getStore("servicenow-sso").setItem("privacyUrl",null),ContextHub.getStore("servicenow-sso").setItem("no_no",null),ContextHub.getStore("servicenow-sso").setItem("businessUnit",null),ContextHub.getStore("servicenow-sso").setItem("productInterest",null),ContextHub.getStore("servicenow-sso").setItem("campaignId",null),ContextHub.getStore("servicenow-sso").setItem("campaign_type",null),ContextHub.getStore("servicenow-sso").setItem("ssoUserId",null),ContextHub.getStore("servicenow-sso").setItem("account_id",null),ContextHub.getStore("servicenow-sso").setItem("jobTitle",null),ContextHub.getStore("servicenow-sso").setItem("account_segment",null),ContextHub.getStore("servicenow-sso").setItem("account_type",null),ContextHub.getStore("servicenow-sso").setItem("businessPhone",null),ContextHub.getStore("servicenow-sso").setItem("mcid",null),ContextHub.getStore("servicenow-sso").setItem("okta_id",null),ContextHub.getStore("servicenow-sso").setItem("industry_specific",null),ContextHub.getStore("servicenow-sso").setItem("industry_generic",null),ContextHub.getStore("servicenow-sso").setItem("typeText",null),ContextHub.getStore("servicenow-sso").setItem("segement",null),ContextHub.getStore("servicenow-sso").setItem("next_best_product",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_itsm",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_itom",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_itbm",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_hr",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_csm",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_pa",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_security",null),ContextHub.getStore("servicenow-sso").setItem("bu_customer_product_platform",null),ContextHub.getStore("servicenow-sso").setItem("crossSell",null),ContextHub.getStore("servicenow-sso").setItem("upSell",null),ContextHub.getStore("servicenow-sso").setItem("has_support_plan",null),ContextHub.getStore("servicenow-sso").setItem("uuid",null),ContextHub.getStore("servicenow-sso").setItem("userLoaded",!1),ContextHub.getStore("servicenow-sso").setItem("scopedCountry",null),ContextHub.getStore("servicenow-sso").setItem("scopedCountryDownload",null),ContextHub.getStore("servicenow-sso").setItem("progressiveProfileChecked",null)}function Z(e){Q(),ContextHub.getStore("servicenow-events")&&ContextHub.getStore("servicenow-events").setItem(""),X("idToken"),X("userId"),X("accessToken"),X("login-token"),X("companyForCscSpPdf"),N("isFromProfileLinking",window.location.href)||(X("isEmailValidated"),X("primaryAddress"),X("linkedAddress")),e&&X("formUserID"),$("#tab-myaccount, #tab-myaccount-mobile").removeClass("logged")}function ee(){window.history.replaceState(null,null,window.location.pathname)}function te(e){return e?e.indexOf("http")>-1?e:window.location.origin+e:""}function ne(e){$.ajax({url:s+m,type:"DELETE",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){Z(!0),$("#static-profile-interface").length>0&&($('#static-profile-interface [name="firstName"]').text(""),$('#static-profile-interface [name="lastName"]').text(""),$('#static-profile-interface [name="email"]').text("")),e?(window.location.href.indexOf("code=")>-1&&ee(),window.location.reload()):oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper",$(".component-my-account-standalone").attr("data-sign-in-path")),ee()},error(e){Z(!0),$("#static-profile-interface").length>0&&($('#static-profile-interface [name="firstName"]').text(""),$('#static-profile-interface [name="lastName"]').text(""),$('#static-profile-interface [name="email"]').text("")),oe(x+"/my-account/sign-in.html #my-account-sign-in-wrapper",$(".component-my-account-standalone").attr("data-sign-in-path"))}})}function oe(e,t){const n=$(".component-overlay-container-new.content-my-account").css("opacity");n&&"0"!==n?ae(e):t?window.location.href=x+t:ae(e)}function ae(e){const t=window.location.href.indexOf("?");if(t>0){const n=window.location.href.substring(t),o=(e.indexOf(" "),e.split(" "));o.length>1?(o[0]+=n,e=`${o[0]} ${o[1]}`):e+=n}$(".component-my-account .partials-account").load(e,(function(){V($(this))}))}function se(){const e=$(".terms-container #terms").hasClass("onCliked")?"true":"false";var t;"true"!==e?I(t=$(".terms-container .is-required"),t,Granite.I18n.get("requiredformfilederror")):F(t=$(".terms-container .is-required"),t);return e}function ie(e,t){const n=$(e);n.find("> *").not(t||"").each((function(){$(this).css("display","none")})),n.append(`<h4 class="exceedError">${Granite.I18n.get("exceedederror")}</h4>`)}window.showHideGDPR=function(e){const t=$(".gdpr-container");t.find("[name=gdpr]:checked").prop("checked",!1),n.indexOf(e.value)>-1||o.indexOf(e.value)>-1?t.css({display:"block"}):(t.css({display:"none"}),F(null,t.find(".is-required"))),a[e.value]?($(e).closest(".form-container").find(".terms-container .term-use-url").attr("href",a[e.value][0]),$(e).closest(".form-container").find(".terms-container .privacy-policy-url").attr("href",a[e.value][1])):($(e).closest(".form-container").find(".terms-container .term-use-url").attr("href","/content/servicenow/www/locale-sites/en-us/terms-of-use.html"),$(e).closest(".form-container").find(".terms-container .privacy-policy-url").attr("href","/content/servicenow/www/locale-sites/en-us/privacy-statement.html"))},window.hideInvalidCredentialsErrorMessage=function(){const e=$(".component-my-account-standalone #my-account-sign-in-wrapper .invalid-credentials-error");e.length>0&&!e.hasClass("hide-invalidcred-msj")&&e.addClass("hide-invalidcred-msj")};const re={getLoginFromOktaSession(e){$.ajax({url:s+m,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){t.id&&(O("xxlogin",t.login,.04166),e.call(this,t))},error(e){O("xxsessionchecked","true",.00138889),$("#signInLoadingFilm").remove()}})},getProfile(e,t){$.ajax({url:u,type:"GET",contentType:"application/json",data:{userName:e},success(e){if("USER_NOT_FOUND"==e.errorCode){const t=e.errorDescription?e.errorDescription:e.errorMessage;$(".error-msg").text(Granite.I18n.get(t)),$(".error-msg").css("display","block")}else"function"==typeof t&&t.call(this,e)}})},login(e,t,n,o){$.ajax({url:d,type:"POST",contentType:"application/json",data:{userName:e,okta_user_id:t,"login-token":n},success(e){"function"==typeof o&&o.call(this,e)}})},submitForm(e){if($(e.get(0)).hasClass("hidden-sign-in")||$(e.get(0)).hasClass("hidden-sign-in-standalone"))X("login-token"),X("userId"),e.get(0).submit(),$(".hidden-sign-in").remove();else{const t=$(e.get(0)).find("[name*='password']"),n=t.val();$.ajax({url:"/bin/servicenow/user/encryptdecrypt",type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,data:{subject:n,operationType:"encrypt"},success(n){let o="";n.output.length>0&&(o=n.output),t.val(o),X("login-token"),X("userId"),e.get(0).submit(),$(".hidden-sign-in").remove()},error(e){}})}},session(e){$.ajax({url:m,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){"function"==typeof e&&e.call(this,t)}})},updateProfile(e,t){$.ajax({url:f,type:"POST",data:e,contentType:"application/x-www-form-urlencoded",success(e){"function"==typeof t&&t.call(this,e)}})},passUserData(e,t){$.ajax({url:g,type:"POST",data:{email:e.email},success(e){"function"==typeof t&&t.call(this,e)},error(e){"function"==typeof t&&t.call(this,e)}})},resetPassword(e,t){$.ajax({url:h,type:"POST",data:{linkId:e.linkId,newPassword:e.userNewPw},success(e){"function"==typeof t&&t.call(this,e)},error(e){"function"==typeof t&&t.call(this,e)}})},registration(e,t,n,o,a){const s=e[0]["create-password"].value;$.ajax({url:"/bin/servicenow/user/encryptdecrypt",type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,data:{subject:s,operationType:"encrypt"},success(s){const i=$("#eloquaIpAddress").val(),r=$("#pageurl").val(),l=$("html").attr("hreflang")?$("html").attr("hreflang"):"en-US";let c="";s.output.length>0&&(c=s.output),$.ajax({url:p,type:"POST",data:{mcid:U,userId:$(e[0]).find(".email").val(),userName:$(e[0]).find(".email").val(),firstname:e[0]["first-name"].value,lastname:e[0]["second-name"].value,email:$(e[0]).find(".email").val(),password:c,company:e[0]["company-form"].value,businessPhone:e[0].phone.value,joblevel:e[0].jobLevel.value,jobRole:e[0].jobRole.value,countryCode:e[0].country.value,region:e[0].region.value,jobfunction:e[0].jobFunction.value,state:e[0].state.value,locale:l,termCondFlag:t,optInFlag:n,termCondUrl:o,privacyUrl:a,eloquaIpAddress:i,pageurl:r,registration:!0,currentPagePath:r,createAccountSourcePage:k},success(t){if("USER_ALREADY_EXIST_OR_UNABLE_TO_CREATE"==t.errorCode||"DB_ERROR"==t.errorCode||"USER_ALREADY_EXIST"==t.errorCode||400===t.statusCode){const e=t.responseString;$(".error-msg span").text(Granite.I18n.get(e)),$(".error-msg").css("display","block"),pe()}else Z(!0),ContextHub.getStore("servicenow-sso").setItem("userName",$(e[0]).find(".email").val()),ContextHub.getStore("servicenow-sso").setItem("registration_complete",!0),ContextHub.getStore("servicenow-sso").setItem("no_no",c),oe(x+"/my-account/my-account-register-thank-you.html #my-account-register-thank-you",$(".component-my-account-standalone").attr("data-register-thank-you-path")),_satellite&&_satellite.track("SSORegistration"),setTimeout((function(e){$(".component-my-account .partials-account").append('<form action="/login-form.html/j_security_check" method="POST" class="hidden-sign-in"><input id="pagePath" type="hidden" name="pagePath" value=""><input type="text" tabindex="1" name="username" id="email" value="" class="email temp_email"><input type="password" tabindex="1" name="password" id="password" value="" class="temp_password"></form>');const t=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(Y("userId")),n=ContextHub.getStore("servicenow-sso").getItem("no_no");setTimeout((function(){const e=$(".hidden-sign-in");$(e).find("input.temp_email").val(t),$(e).find("input.temp_password").val(n),$(".auto-login-message").addClass("show-messg"),A($(".auto-login-counter"),5,(function(){ContextHub.getStore("servicenow-sso").setItem("no_no",null),window.accountAPI.submitForm.call(this,e)}))}),1e3)}),1500)},error(e){if(pe(),"USER_ALREADY_EXIST_OR_UNABLE_TO_CREATE"==e.errorCode||"DB_ERROR"==e.errorCode||"USER_ALREADY_EXIST"==e.errorCode){const t=e.responseString;$(".error-msg span").text(Granite.I18n.get(t)),$(".error-msg").css("display","block")}}})},error(e){}})},validateEmail(e,t){hideInvalidCredentialsErrorMessage(),$.ajax({url:v,type:"POST",data:{username:$(e[0]).find(".email").val(),operationType:"get"},success(n){if(n&&"VALIDATED_USER_RECORD"!=n.errorCode){if("UNVALIDATED_USER_RECORD"==n.errorCode)sessionStorage.setItem("emailToValidate",$(e[0]).find(".email").val()),oe(x+"/my-account/my-account-validate-email.html #my-account-validate-email-wrapper",$(".component-my-account-standalone").attr("data-validate-email-path"));else if("USER_PROFILE_DOES_NOT_EXIST"==n.errorCode){const e=n.responseString;$(".error-msg span").length>0?$(".error-msg span").text(Granite.I18n.get(e)):$(".error-msg").length>0&&$(".error-msg").text(Granite.I18n.get(e)),$(".error-msg").css("display","block")}}else t()},error(e){const t=e.responseString;$(".error-msg span").text(Granite.I18n.get(t)),$(".error-msg").css("display","block")}})},requestVerificationEmail(e){let t;t=e.linkId?{linkId:e.linkId,operationType:"sendEmail"}:{username:e.username,operationType:"sendEmail"},$.ajax({url:v,type:"POST",data:t,success(e){404==e.statusCode?($(".form-container").css("display","none"),$(".verification-title").text(Granite.I18n.get("checkemailerror"))):200==e.statusCode?($(".form-container").css("display","none"),$(".verification-title").text(Granite.I18n.get("verificationsentmsg"))):"EMAIL_LIMIT_EXCEEDED"==e.errorCode&&ie($("div.container-box"),null)},error(e){const t=e.responseString;$(".error-msg span").text(Granite.I18n.get(t)),$(".error-msg").css("display","block")}})},signOutChampions(e){$.ajax({url:s+m,type:"DELETE",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){Z(!0),$("#static-profile-interface").length>0&&($('#static-profile-interface [name="firstName"]').text(""),$('#static-profile-interface [name="lastName"]').text(""),$('#static-profile-interface [name="email"]').text("")),e.call(this,t)},error(t){Z(!0),$("#static-profile-interface").length>0&&($('#static-profile-interface [name="firstName"]').text(""),$('#static-profile-interface [name="lastName"]').text(""),$('#static-profile-interface [name="email"]').text("")),e.call(this,t)}})}};if($("#my-account-change-password-wrapper").length>0){const e=window.location.search;if(e.indexOf(S)>-1){const t=$("#my-account-change-password-wrapper form");t.find('input[name="linkId"]').val(function(e,t){const n=e.split("&").filter((function(e){if(e.indexOf(t)>-1)return e})).join("");return n.substring(n.indexOf("=")+1,n.length)}(e,S)),$("#my-account-change-password-wrapper .change-password-btn a").on("click tap",(function(){$(this).closest("#my-account-change-password-wrapper").find(".error-msg").remove();const e=t.find('input[name="linkId"]').val(),n=t.find("#new-password").val(),o=t.find("#confirm-password").val(),a=$(this).closest("#my-account-change-password-wrapper").find("form"),s=G(a,!1,!1,!0,!1);le(n,o)||ce(Granite.I18n.get("passworddontmatcherror"),a),le(n,o)&&s&&$.ajax({url:"/bin/servicenow/user/encryptdecrypt",type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,data:{subject:n,operationType:"encrypt"},success(t){let n="";t.output.length>0&&(n=t.output);const o={linkId:e,userNewPw:n};window.accountAPI.resetPassword(o,(function(e){let t;if(t="string"==typeof e?JSON.parse(e):e,200==t.statusCode||"PASSWORD_CHANGE_SUCCESSFUL"==t.errorCode){const e=Y("globalUserEmail");$(".change-password-thank-you .globalUserEmail").text(e),$(".hide-at-thank-you").css("display","none"),$(".change-password-thank-you").css("display","block"),ee()}else{const e=JSON.parse(t.responseString);if(void 0!==e.errorCauses[0].errorSummary){var n=e.errorCauses[0].errorSummary;ce(n=new RegExp("Password has been used too recently").test(n)?Granite.I18n.get("passwordinvaliderror"):Granite.I18n.get(n),a)}else if(void 0!==e.errorSummary){n=e.errorSummary;ce(n=new RegExp("Password has been used too recently").test(n)?Granite.I18n.get("passwordinvaliderror"):Granite.I18n.get(n),a)}else ce(Granite.I18n.get("checkpasserror"),a)}}))},error(e){}})}))}}function le(e,t){return e===t}function ce(e,t){$(t).parent().find(".error-msg").remove(),$(`<div class='error-msg' style='display:block'>${e}</div>`).insertAfter(t)}function de(e,t){e.hasClass("email")&&e.val().length<=0?(t.text(Granite.I18n.get("requiredformfilederror")),e.parents("#my-account-sign-up").length&&t.text(Granite.I18n.get("requiredemail"))):e.hasClass("email")&&t.text(Granite.I18n.get("emailformatnotvalid"))}function ue(){$("#my-account-sign-in-wrapper, .component-my-account-standalone #my-account-sign-in-wrapper").addClass("show-loading-layer")}function me(){$("#my-account-sign-in-wrapper .my-account-loading-layer, .component-my-account-standalone #my-account-sign-in-wrapper .my-account-loading-layer").addClass("show-loading-layer")}function pe(){$(".my-account-loading-layer").removeClass("show-loading-layer")}function fe(){if($("#my-account-sign-up").length){document.getElementById("eloquaIpAddress").value=getIpAddress();const e=window.location.href;document.getElementById("pageurl").value=e}}window.getIpAddress=function(){let e=null;if(sessionStorage.getItem("s_dmdbase_target")){const t=sessionStorage.getItem("s_dmdbase_target");e=JSON.parse(t)["profile.ip"]}return e},$(window).on("load",(function(){$(".component-my-account-standalone").length&&fe()})),window.accountAPI=re},function(e,t){if($(".component-progressive-profile").length){let e=1;getCookie("userId")&&document.body.insertAdjacentHTML("beforeend",' <div class="loading-layer pp-spinner active">\n  <div class="loading-film pp-spinner-film"></div>\n  <div class="lds-roller pp-spinner-roller">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n</div>'),$(document).ajaxStop((function(){1===e&&($.getJSON("/content/dam/servicenow-assets/eloqua/state-job-dropdowns.json",e=>{setTimeout((function(){!function(e){const t=window.location.href,n=t.indexOf("/now-at-work")>-1,o=getIpAddress(),a=getCookie("userId"),s={userName:{reqBody:"userName",formField:""},userId:{reqBody:"userId",formField:""},fName:{reqBody:"firstname",formField:"user-name"},LName:{reqBody:"lastname",formField:"user-lastname"},myEmail:{reqBody:"email",formField:""},company:{reqBody:"company",formField:"company-name"},businessPhone:{reqBody:"businessPhone",formField:"user-phone"},stateFlag:{reqBody:"state",formField:"state"},jobRoleFlag:{reqBody:"jobRole",formField:"jobRole"},jobFunctionFlag:{reqBody:"jobfunction",formField:"jobFunction"},jobLevel:{reqBody:"joblevel",formField:"jobLevel"},jobRole:{reqBody:"jobRole",formField:"jobRole"},jobFunction:{reqBody:"jobfunction",formField:"jobFunction"},country:{reqBody:"countryCode",formField:"country"},region:{reqBody:"region",formField:"region"},state:{reqBody:"state",formField:"state"},termsCondChecked:{reqBody:"termCondFlag",formField:"terms"},optinChecked:{reqBody:"optInFlag",formField:"gdpr"},emailValidated:{reqBody:"emailValidated",formField:""}},i={termCondUrl:"https://www.servicenow.com/terms-of-use.html",privacyUrl:"https://www.servicenow.com/privacy-statement.html",pageurl:t,currentPagePath:t,updateprofile:!0,updateOkta:"true",eloquaIpAddress:o},r={},l=ContextHub.getStore("servicenow-sso"),c=$(".component-progressive-profile");if(null!==typeof ContextHub&&"undefined"!=typeof ContextHub&&!l.getItem("progressiveProfileChecked")&&l.getItem("ssoUserId")&&a){function d(e){c.find(`#progressive-profile-form [name=${e}]`).closest(".input-content").remove()}function u(e){const t=$(e).val(),n=$(e).closest(".servicenow-input").find(".placeholder");""==t?($(n).removeClass("focus"),$(e).removeClass("focus")):($(n).addClass("focus"),$(e).addClass("focus")),($(e).hasClass("input-create-password")||$(e).hasClass("input-new-password"))&&validatePassword(t)}function m(e,t){let n=!1;if(null===e||"null"===e||""===e||void 0===e||"undefined"===e)return!1;for(let o=0,a=t.length;o<a;o++)if(t[o]===e.trim()){n=!0;break}return n}function p(e){if($(".component-eloqua-form-base").length){const t=$(".component-eloqua-form-base").find("form [name=optInFlag]");t.length&&t.val(String(e)),$(".component-eloqua-form-base").find("form .optin-section").removeClass("active-optin-sec").css("display","none")}if($(".universalForm .inner-view").length){const t=$(".universalForm .inner-view").find("form.formless [name=optInFlag]");t.length&&t.val(String(e)),$(".universalForm .inner-view").find("form.formless .optin-section").removeClass("UF-active-optin-sec").css("display","none")}}function f(e,t,n){if(null===n){if("optInFlag"===e){const n=t;return r.optinChecked=n,i[e]=n,!1}return"termCondFlag"===e&&(r.termsCondChecked=t),"userId"===e?(r[e]=i.userName||i.email,i[e]=i.userName||i.email,!1):(i[e]=t,!1)}for(const e in s)if(s[e].formField===n.attr("name"))if("optinChecked"===e){const n="Yes"==t||"na"==t&&"na";r[e]=n,i[s[e].reqBody]=n}else r[e]=t,i[s[e].reqBody]=t}function g(e,t){e.text(""),e.text(t),e.removeClass("success").addClass("on invalid")}function h(e){e.text(""),e.removeClass("on invalid").addClass("success")}function v(e,t){const n=t,o=e.val().trim(),a=e.attr("name");if(h(n),""==o||null==o?g(n,Granite.I18n.get("requiredformfilederror")):(f(null,o,e),h(n)),"user-phone"===a&&""!==o){const t=5,a=22;new RegExp(/^[0-9-\s]*$/).test(o)?o.length>0&&o.length<t||o.length>a?g(n,Granite.I18n.get("mustbeween5and22")):(f(null,o,e),h(n)):g(n,Granite.I18n.get("Numbers only"))}if(("user-name"===a&&o||"user-lastname"===a&&o||"company-name"===a&&o)&&(window.checkHTMLTagInput(o)?g(n,Granite.I18n.get("noHTMLTagsAllowed")):(f(null,o,e),h(n))),"gdpr"===a)if("block"===e.closest(".gdpr-container").css("display")){const t=e.closest(".radio-btn-selection-sec").find("[name=gdpr]:checked").val();void 0!==t&&"undefined"!==t&&""!==t&&null!==t&&"null"!==t?(f(null,t,e),h(n)):g(n,Granite.I18n.get("requiredformfilederror"))}else f("optInFlag","na",null),h(n);"terms"===a&&(e.hasClass("onCliked")?(f("termCondFlag",!0,null),h(n)):(f("termCondFlag",!1,null),g(n,Granite.I18n.get("requiredformfilederror"))))}function w(){$(".pp-container").find(".is-required").each((function(){const e=$(this),t=$(this).closest(".input-content").find("input").length>0?$(this).closest(".input-content").find("input"):$(this).closest(".input-content").find("select");t.on("blur",(function(){v(t,e)}))}))}function y(e,t){let n=!1;return c.find(`[name=${e}] option`).each((function(){if($(this).val().trim()===t.trim())return n=!0,!1})),n}function b(e){var t,n;if(e.closest(".pp-container").find(".is-required").each((function(){v($(this).closest(".input-content").find("input").length>0?$(this).closest(".input-content").find("input"):$(this).closest(".input-content").find("select").length>0?$(this).closest(".input-content").find("select"):$(this).closest(".input-content").find(".terms-checkbox"),$(this))})),$(".is-required.invalid").length>0)return!1;t=i,n=function(e){!function(e){for(const t in e)l.setItem(t,e[t])}(r),p(r.optinChecked),l.setItem("progressiveProfileChecked",!0),c.remove()},$.ajax({url:"/bin/servicenow/user/updateprofile",type:"POST",data:t,contentType:"application/x-www-form-urlencoded",success(e){"function"==typeof n&&n.call(this,e)}})}function C(){$(".component-eloqua-form-base").length&&$(".component-progressive-profile").length&&($(".component-eloqua-form-base").addClass("ppAlternative"),$(".component-eloqua-form-base .form-name-eloqua").append('<input type="hidden" name="progressiveProfileFlag" value="yes">'),$(window).trigger("resize")),$(".universalForm .inner-view").length&&$(".component-progressive-profile").length&&($(".universalForm .inner-view").addClass("ppAlternative"),$(".universalForm .inner-view form.formless").append('<input type="hidden" name="progressiveProfileFlag" value="yes">'),$(window).trigger("resize"))}n&&(document.querySelector(".component-progressive-profile .pp-close-btn").style.visibility="hidden"),$(".pp-update-btn a").on("click tap",(function(){b.call(this,$(this))})),$(".pp-close-btn").on("click tap",(function(e){e.stopPropagation(),C(),c.remove()})),$("form#progressive-profile-form .terms-checkbox").on("click",(function(){const e=$(this).parent().find(".is-required");$(this).hasClass("onCliked")?($(this).removeClass("onCliked"),g(e,Granite.I18n.get("requiredformfilederror"))):($(this).addClass("onCliked"),h(e))})),c.find("[name=jobLevel]").on("change",(function(){w()}));const t=["US","CA","MX","GT","BZ","HN","SV","NI","CR","PA","BS","CU","JM","HT","DO","KN","AG","DM","LC","BB","VC","GD","TT","AR","BO","CL","CO","EC","GF","GY","PY","PE","SR","UY","VE"];const o=c.find("[name=region]");c.find("[name=country]").on("change",(function(){if(o){const n="UK"===(e=$(this).val())?"EMEA":t.includes(e)?"AMS":"AU"===e?"AUSTRALIA":"JP"===e?"APJ":"null";o.val(n),i.region=n,r.region=n}var e})),$(".progressiveProfile").on("click",(function(e){n||(e.stopPropagation(),$(e.target).closest(".pp-container").length||(C(),c.remove()))})),$("form#progressive-profile-form .input-wrap input").each((function(){setTimeout(function(){u($(this))}.bind($(this)),1200),$(this).on("input",(function(){u(this)}))})),function(t){let n=0,o=!0,a=!0,s=!0;for(const r in t){const u=l.getItem(r);if(""===t[r].formField||null===t[r].formField||"null"===t[r].formField||"undefined"===t[r].formField||void 0===t[r].formField)f(t[r].reqBody,u,null);else if(""!==u&&null!==u&&"null"!==u&&"undefined"!==u&&void 0!==u||"stateFlag"===r||"jobRoleFlag"===r||"jobFunctionFlag"===r||"jobFunctionFlag"===r||"region"===r||"optinChecked"===r)if("stateFlag"===r){m(l.getItem("state"),e.stateCode)||(o=!1)}else if("jobRoleFlag"===r){m(l.getItem("jobRole"),e.jobRoleCode)||(a=!1)}else if("jobFunctionFlag"===r){m(l.getItem("jobFunction"),e.jobFunctionCode)||(s=!1)}else if("country"===r)y(t[r].formField,u)&&o?(f(t[r].reqBody,u,null),d(t[r].formField)):(l.setItem("state",null),l.setItem("region",null),n++);else if("jobLevel"===r)y(t[r].formField,u)&&a&&s?(f(t[r].reqBody,u,null),d(t[r].formField)):(l.setItem("jobRole",null),l.setItem("jobFunction",null),n++);else if("optinChecked"===r){i.countryCode;c.find("[name=country]").length||(f("optInFlag",""!==u?u:"na",null),d(t[r].formField),p(u))}else"termsCondChecked"===r?"true"!==u&&!0!==u||c.find(`[name=${t[r].formField}]`).addClass("onCliked"):u&&"please update"===u.toLowerCase()?n++:(f(t[r].reqBody,u,null),d(t[r].formField));else n++}return w(),n}(s)>0?c.css("display","block"):(c.remove(),l.setItem("progressiveProfileChecked",!0))}else c.remove()}(e),$(".pp-spinner").removeClass("active")}),2e3)}),e++)}))}},function(e,t){function n(){return{CONSTANTS:{mids_api:{createUser:"/bin/servicenow/mids/createuser",stageJson:"/content/dam/servicenow-assets/public/scripts/mids-pp-stages.json",midsLookUp:"/bin/servicenow/midsleadprofile"},variants:{defaultControl:"default-control"},stage_num:{completed:"9999",stage1:"1"},mids_data_flag:{midsProfileSubmitted:"midsProfileSubmitted",midsProfileLoggedIn:"midsProfileLoggedIn"},mids_form_class:{midsPrimaryKey:"mids-progressive-profile",emailLookUpEnabled:"mids-profile-lookup-enabled",showEmailOnlyView:"show-email-only-view",revealForm:"reveal-mids-form",hideField:"mids-pp-hidden",requiredField:"mids-pp-required",initField:"initial-field",disableSubmitBtn:"disable-btn",showEmail:"display-email-field",snIdBoxChecked:"snid-box-checked",snIdBoxUnChecked:"snid-box-unchecked",iterateStopper:"universalForm",loadingFormView:"loading-form-view"},local_storage_var:{digitalData:"digitalData",tempMidsLead:"tempMidsLead"},hidden_fields:{midsStage:"midsPPStage",expVariant:"experienceVariant"}},stringToJson:e=>"string"==typeof e?JSON.parse(e):e,jsonToString:e=>"string"!=typeof e?JSON.stringify(e):e,getRealStage:(e,t)=>window.ppVariantStageObj?t<=Object.keys(window.ppVariantStageObj[e]).length?t:n().CONSTANTS.stage_num.completed:t,getFromLocalStorage:e=>n().stringToJson(window.localStorage.getItem(e)),setLocalStorage(e,t){window.localStorage.setItem(e,n().jsonToString(t))},deleteLocalStorage(e){window.localStorage.removeItem(e)},returnRightField(e,t){const n=e.querySelectorAll(`[name=${t}]`);return Array.prototype.filter.call(n,e=>!e.classList.contains("chromeAutofill"))[0]},iterateUpwards(e,t,n){if(!e)return null;let o=e;const a=t.substr(1);for(;!o.classList.contains(a)&&!o.classList.contains(n);)o=o.parentElement;return o.classList.contains(a)?o:null},formatParams:e=>"?"+Object.keys(e).map((function(t){return`${t}=${encodeURIComponent(e[t])}`})).join("&"),loadingViewCtrl(e,t){t?e.classList.add(n().CONSTANTS.mids_form_class.loadingFormView):e.classList.remove(n().CONSTANTS.mids_form_class.loadingFormView)},failSafe(e){const t=n().CONSTANTS.mids_form_class;e&&e.classList.remove(t.midsPrimaryKey,t.emailLookUpEnabled)},validResponse(e){try{return"object"==typeof e?e:JSON.parse(e)}catch(e){return!1}},ajaxRequestFn(e,t,o,a,s){const i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&a.success.call(this,this.responseText),4===this.readyState&&200!==this.status&&a.error.call(this,this.responseText)};const r=null!==o?n().formatParams(o):"";i.open(e,t+r,!0),i.timeout=s||15e3,i.ontimeout=a.timeout,i.send()},getTimestampAndUniqueID:()=>({timestamp:(new Date).getTime(),uniqueId:Math.floor(1e6*Math.random())})}}function o(e,t,o,a){const i=n(),r=document.querySelector("."+i.CONSTANTS.mids_form_class.midsPrimaryKey);if(getCookie("form-submit-id")){const t=e,n=t.mids_lead&&Object.keys(t.mids_lead).length?t.mids_lead:{},o=i.getFromLocalStorage(i.CONSTANTS.local_storage_var.tempMidsLead);if(o&&Object.keys(o).length){Object.keys(o).forEach(e=>{n[e]=o[e],"experiment_variant"!==e&&"lead_object_complete_state"!==e||(t.mids_user[e]=o[e])}),n.missingFields=[];const e=getCookie("mids_uuid")||t.mids_lead.mids_uuid;t.mids_lead=n,t.mids_lead.mids_uuid=e,t.mids_user.mids_uuid=e,i.setLocalStorage(i.CONSTANTS.local_storage_var.digitalData,t),i.deleteLocalStorage(i.CONSTANTS.local_storage_var.tempMidsLead),deleteCookie("form-submit-id")}}r&&(t||r.querySelector(".UF-form-container form").classList.add("showing-loading-spinner"),function(e,t,o){const a=n();let i=e;const r=document.querySelector("."+a.CONSTANTS.mids_form_class.midsPrimaryKey),l=r.querySelector(".uf-sn-id-section .UF-real-checkbox"),c=r.classList.contains(a.CONSTANTS.mids_form_class.emailLookUpEnabled);t||u(r);function d(){deleteCookie("mids_uuid");for(const e in a.CONSTANTS.local_storage_var)a.deleteLocalStorage(a.CONSTANTS.local_storage_var[e]);u(r)}function u(e){const t=e.querySelectorAll("."+a.CONSTANTS.mids_form_class.hideField);Array.prototype.forEach.call(t,e=>{const t=e.querySelector("[name]");"email"!==t.name&&e.classList.remove(a.CONSTANTS.mids_form_class.initField,a.CONSTANTS.mids_form_class.requiredField),"SELECT"===t.nodeName&&(t.selectedIndex=0)})}if(r){const e=a.getFromLocalStorage(a.CONSTANTS.local_storage_var.digitalData),t=e.mids_lead.experiment_variant||getCookie(a.CONSTANTS.hidden_fields.expVariant)||a.CONSTANTS.variants.defaultControl;let n=e.mids_lead.lead_object_complete_state||e.mids_user.lead_object_complete_state||a.CONSTANTS.stage_num.stage1;n=a.getRealStage(t,n.toString()),function(e,t,n,o){let r=t,l=n;const u="captcha"===getQueryStringParamValue("formsubmissionfailed"),m=a.getFromLocalStorage(a.CONSTANTS.local_storage_var.digitalData),p=Object.keys(m.mids_lead).length?m.mids_lead:null,f=p?p.missingFields:null,g=a.returnRightField(e,"email"),h=e.querySelector(".UF-hide-optin")||e.querySelector(".UF-active-optin-sec")||$(e).find("[name=optin]").parents(".UF-hide-init")[0];e.querySelector(`[name=${a.CONSTANTS.hidden_fields.expVariant}]`).value=r,e.querySelector(`[name=${a.CONSTANTS.hidden_fields.expVariant}]`).dataset.currentData=r,e.querySelector(`[name=${a.CONSTANTS.hidden_fields.midsStage}]`).value=l,e.querySelector(`[name=${a.CONSTANTS.hidden_fields.midsStage}]`).dataset.currentData=l,e.classList.contains(a.CONSTANTS.mids_form_class.snIdBoxChecked)&&l===a.CONSTANTS.stage_num.stage1&&(r=a.CONSTANTS.variants.defaultControl,l=a.CONSTANTS.stage_num.stage1,e.querySelector(`[name=${a.CONSTANTS.hidden_fields.midsStage}]`).value=a.CONSTANTS.stage_num.completed),e.classList.contains(a.CONSTANTS.mids_form_class.snIdBoxUnChecked)&&(i=!0,e.classList.remove(a.CONSTANTS.mids_form_class.snIdBoxUnChecked)),l!==a.CONSTANTS.stage_num.stage1||i||u||f&&f.length?e.classList.remove(a.CONSTANTS.mids_form_class.showEmailOnlyView):e.classList.add(a.CONSTANTS.mids_form_class.showEmailOnlyView);const v=window.ppVariantStageObj[r]["stage-"+l];if(f&&f.length){let t=f;e.classList.contains(a.CONSTANTS.mids_form_class.snIdBoxChecked)&&l===a.CONSTANTS.stage_num.stage1&&(t=v),w(e,t,!0)}else if(l){const t=l==a.CONSTANTS.stage_num.completed||l==a.CONSTANTS.stage_num.stage1&&!i?["email"]:v;w(e,t)}if(p.email&&(g.value=p.email),"No"===p.opt_in?(h.classList.remove("UF-hide-optin","UF-show-input"),h.classList.add("UF-active-optin-sec")):o||(h.classList.add("UF-hide-optin","UF-show-input"),h.classList.remove("UF-active-optin-sec")),g&&c&&!g.dataset.emailBlurLoaded){!function(t,n){function o(t){if(t.classList.contains("UF-border-error"))return;const n=t.value.trim();a.loadingViewCtrl(e,!0),a.ajaxRequestFn("GET",a.CONSTANTS.mids_api.midsLookUp,{leademail:n,...a.getTimestampAndUniqueID()},{success:t=>{const n=a.validResponse(t);if(n){if(n.mids_uuid){const e=m||{};e.mids_lead=n,e.mids_user.experiment_variant=n.experiment_variant,e.mids_user.lead_object_complete_state=n.lead_object_complete_state||a.CONSTANTS.stage_num.stage1,e.mids_user.mids_uuid=n.mids_uuid,setCookie("mids_uuid",n.mids_uuid,90),setCookie(a.CONSTANTS.hidden_fields.expVariant,n.experiment_variant),a.setLocalStorage(a.CONSTANTS.local_storage_var.digitalData,e)}else{const t=n.lead_object_complete_state,o=e.querySelector(`[name=${a.CONSTANTS.hidden_fields.expVariant}]`).value,s=a.getFromLocalStorage(a.CONSTANTS.local_storage_var.digitalData);if(t===(a.CONSTANTS.stage_num.stage1||"")&&!s.mids_lead.email){const n=window.ppVariantStageObj[o]["stage-"+t];return w(e,n),e.classList.remove(a.CONSTANTS.mids_form_class.showEmailOnlyView),void a.loadingViewCtrl(e,!1)}d(),setCookie(a.CONSTANTS.hidden_fields.expVariant,o)}s(!0)}},error:t=>{a.loadingViewCtrl(e,!1)},timeout:()=>{a.loadingViewCtrl(e,!1)}})}t.dataset.emailBlurLoaded=!0,t.addEventListener("focus",e=>{e.stopPropagation(),n&&(n.classList.add(a.CONSTANTS.mids_form_class.disableSubmitBtn),n.disabled=!0)}),t.addEventListener("blur",e=>{e.stopPropagation(),setTimeout(()=>{n&&(n.classList.remove(a.CONSTANTS.mids_form_class.disableSubmitBtn),n.disabled=!1)},800)}),t.addEventListener("change",e=>{e.stopPropagation(),setTimeout(()=>{o.call(this,t)},250)})}(g,e.querySelector(".UF-submit-btn .uf-submit-form"))}function w(e,t,n){const o=e.querySelectorAll("."+a.CONSTANTS.mids_form_class.hideField);o.length&&o.forEach(e=>{const o=e.querySelector("[name]"),s=o.name;t.includes(s)||("email"!==s?o.value="":n&&e.classList.remove(a.CONSTANTS.mids_form_class.showEmail),"SELECT"===o.nodeName&&(o.selectedIndex=0,"state"===s&&(o.options[0].value="")),e.classList.remove(a.CONSTANTS.mids_form_class.initField,a.CONSTANTS.mids_form_class.requiredField))}),t.forEach(n=>{if("optin"!==n){const o=a.returnRightField(e,n),s=a.iterateUpwards(o,"."+a.CONSTANTS.mids_form_class.hideField,a.CONSTANTS.mids_form_class.iterateStopper);s.classList.add(a.CONSTANTS.mids_form_class.requiredField,a.CONSTANTS.mids_form_class.initField),"email"===n&&1===t.length&&s.classList.add(a.CONSTANTS.mids_form_class.showEmail)}})}a.loadingViewCtrl(e,!1)}(r,t,n,o),l&&!l.dataset.changeEventLoaded&&(l.addEventListener("change",e=>{e.stopPropagation(),r.classList.remove(a.CONSTANTS.mids_form_class.snIdBoxUnChecked,a.CONSTANTS.mids_form_class.snIdBoxChecked),e.target.checked?r.classList.add(a.CONSTANTS.mids_form_class.snIdBoxChecked):r.classList.add(a.CONSTANTS.mids_form_class.snIdBoxUnChecked),s(!0,!0,!0)}),l.dataset.changeEventLoaded=!0)}}(t,o,a),t||(r.querySelector(".showing-loading-spinner").classList.remove("showing-loading-spinner"),r.querySelector(".UF-form-container").classList.add(i.CONSTANTS.mids_form_class.revealForm)))}function a(e,t,a,s,i){if(window.ppVariantStageObj&&window.fieldNameMapping)o(e,t,a,i);else{const r=n();r.ajaxRequestFn("GET",r.CONSTANTS.mids_api.stageJson,null,{success:n=>{const s=r.validResponse(n);s&&(window.ppVariantStageObj=s.pp_stages,window.fieldNameMapping=s.form_fields.name_mapping,window.dropdownFieldsArr=s.form_fields.dropdowns_mapping,o(e,t,a,i))},error:e=>{r.failSafe(s)},timeout:()=>{r.failSafe(s)}})}}function s(e,t,o){const s=n(),i=s.getFromLocalStorage(s.CONSTANTS.local_storage_var.digitalData),r=getCookie("userId"),l=getCookie("registrationInProgress"),c=window.location.search,d=window.sessionStorage.getItem("s_dmdbase")?window.sessionStorage.getItem("s_dmdbase").split(":")[0]:"",u=document.querySelector("."+s.CONSTANTS.mids_form_class.midsPrimaryKey);let m="",p="",f=s.CONSTANTS.stage_num.stage1;if(r&&"undefined"!=typeof ContextHub){const e=ContextHub.getStore("servicenow-sso");m=e.getItem("ssoUserId"),p=e.getItem("uuid"),f=s.CONSTANTS.stage_num.completed}if(c.indexOf("midsuuid=")>-1){const e=new URLSearchParams(c).get("midsuuid");s.ajaxRequestFn("GET",s.CONSTANTS.mids_api.midsLookUp,{midsuuid:e,...s.getTimestampAndUniqueID()},{success:e=>{const t=s.validResponse(e);if(t&&t.mids_uuid){const e=i||{};e.mids_lead=t,e.mids_user=e.mids_user||{},e.mids_user.experiment_variant=t.experiment_variant,e.mids_user.lead_object_complete_state=t.lead_object_complete_state,e.mids_user.mids_uuid=t.mids_uuid,e.midsuuidLookedup="true",e.midsProfileSubmitted="true",setCookie("mids_uuid",t.mids_uuid),s.setLocalStorage(s.CONSTANTS.local_storage_var.digitalData,e),document.dispatchEvent(new CustomEvent("mids-demo:triggerTarget"))}},error:e=>{s.failSafe(u)},timeout:()=>{s.failSafe(u)}})}else{if(i&&!l)return!r&&i[s.CONSTANTS.mids_data_flag.midsProfileLoggedIn]&&(delete i[s.CONSTANTS.mids_data_flag.midsProfileLoggedIn],s.setLocalStorage(s.CONSTANTS.local_storage_var.digitalData,i)),void a(i,e,t,u,o);i&&"true"===i.midsuuidLookedup&&!e||s.ajaxRequestFn("GET",s.CONSTANTS.mids_api.createUser,{oktaSsoId:m,profileUUid:p,dmbbaseId:d,leadCompleteState:f,...s.getTimestampAndUniqueID()},{success:n=>{if(s.validResponse(n)){const i=s.stringToJson(s.stringToJson(n).midsDigitalDataObject)[s.CONSTANTS.local_storage_var.digitalData];if(i){i[s.CONSTANTS.mids_data_flag.midsProfileSubmitted]="true",r&&(i[s.CONSTANTS.mids_data_flag.midsProfileLoggedIn]="true"),s.setLocalStorage.call(this,s.CONSTANTS.local_storage_var.digitalData,i);const n=i.mids_user.mids_uuid;n&&setCookie("mids_uuid",n,90),a(i,e,t,o)}}},error:e=>{s.failSafe(u)},timeout:()=>{s.failSafe(u)}})}}window.addEventListener("load",(function(){s(!1,"captcha"===getQueryStringParamValue("formsubmissionfailed"))}))},,,,function(e,t,n){"use strict";n.r(t);n(39),n(0),n(25),n(26),n(40),n(41),n(42),n(43),n(44),n(45),n(1),n(46),n(27),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(28),n(59),n(60),n(61),n(62),n(29),n(30),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(31),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(32),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(33),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(34),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159)},function(e,t,n){},function(e,t){!function(){const e="cmp",t="accordion",n=13,o=32,a=35,s=36,i=37,r=38,l=39,c=40,d={self:`[data-cmp-is="${t}"]`},u={disabled:"accordion-button-disabled",expanded:"accordion-button-expanded"},m={hidden:"accordion-panel-hidden",expanded:"accordion-panel-expanded"},p={expanded:"data-cmp-expanded"},f={singleExpansion:{default:!1,transform:e=>!(null==e)}};function g(e){const t=e.classList.contains("accordion-panel-expanded"),n=e.scrollHeight,o=t?n:0;e.style.height=o+"px"}function h(e){const d=this;function h(e,t){const u=d._elements.button.length-1;switch(e.keyCode){case i:case r:e.preventDefault(),t>0&&b(t-1);break;case l:case c:e.preventDefault(),t<u&&b(t+1);break;case s:e.preventDefault(),b(0);break;case a:e.preventDefault(),b(u);break;case n:case o:e.preventDefault(),v(t),b(t)}}function v(e){const t=d._elements.item[e];if(t)if(d._properties.singleExpansion){for(let e=0;e<d._elements.item.length;e++)if(d._elements.item[e]!==t){y(d._elements.item[e])&&w(d._elements.item[e],!1)}w(t,!0)}else w(t,!y(t))}function w(e,t){t?e.setAttribute(p.expanded,""):e.removeAttribute(p.expanded),$(e)}function y(e){return e&&e.dataset&&void 0!==e.dataset.cmpExpanded}function $(e){const t=y(e),n="slide-down"===d._elements.self.dataset.accordionVariation;t?function(e,t){const n=d._elements.item.indexOf(e);if(n>-1){const e=d._elements.button[n],o=d._elements.panel[n];e.classList.add(u.expanded),e.setAttribute("aria-expanded",!0),o.classList.add(m.expanded),o.classList.remove(m.hidden),t&&g(o),o.setAttribute("aria-hidden",!1),d._properties.singleExpansion&&(e.classList.add(u.disabled),e.setAttribute("aria-disabled",!0))}}(e,n):function(e,t){const n=d._elements.item.indexOf(e);if(n>-1){const e=d._elements.button[n],o=d._elements.panel[n];e.classList.remove(u.disabled),e.classList.remove(u.expanded),e.removeAttribute("aria-disabled"),e.setAttribute("aria-expanded",!1),o.classList.add(m.hidden),o.classList.remove(m.expanded),t&&g(o),o.setAttribute("aria-hidden",!0)}}(e,n)}function b(e){d._elements.button[e].focus()}e&&e.element&&function(e){if(e.element.removeAttribute("data-cmp-is"),document.addEventListener("accordion:expand",e=>{const{detail:t}=e,n=d._elements.item.filter(e=>e.id===t.id).length,o=t.querySelector(".accordion-panel");n&&(w(t,!0),g(o))},!1),function(e){d._properties={};for(const t in f)if(f.hasOwnProperty(t)){const n=f[t];let o=null;e&&null!=e[t]&&(o=e[t],n&&"function"==typeof n.transform&&(o=n.transform(o))),null===o&&(o=f[t].default),d._properties[t]=o}}(e.options),function(e){d._elements={},d._elements.self=e;const n=d._elements.self.querySelectorAll(`[data-cmp-hook-${t}]`);for(let e=0;e<n.length;e++){const o=n[e];if(o.closest(".accordion-wrapper")===d._elements.self){let e=t;e=e.charAt(0).toUpperCase()+e.slice(1);const n=o.dataset["cmpHook"+e];if(d._elements[n]){if(!Array.isArray(d._elements[n])){const e=d._elements[n];d._elements[n]=[e]}d._elements[n].push(o)}else d._elements[n]=o}}}(e.element),d._elements.item){if(d._elements.item=Array.isArray(d._elements.item)?d._elements.item:[d._elements.item],d._elements.button=Array.isArray(d._elements.button)?d._elements.button:[d._elements.button],d._elements.panel=Array.isArray(d._elements.panel)?d._elements.panel:[d._elements.panel],d._properties.singleExpansion){const e=function(){const e=[];for(let t=0;t<d._elements.item.length;t++){const n=d._elements.item[t];y(n)&&e.push(n)}return e}();0===e.length&&v(0),e.length>1&&v(e.length-1)}!function(){for(let e=0;e<d._elements.item.length;e++)$(d._elements.item[e])}(),function(){const e=d._elements.button;if(e)for(var t=0;t<e.length;t++)!function(n){e[t].addEventListener("click",(function(e){v(n),b(n)})),e[t].addEventListener("keydown",(function(e){h(e,n)}))}(t);const n=d._elements["expand-all"];n&&function(e){const t=e.innerText;e.addEventListener("click",n=>{n.preventDefault();const o=e.classList;o.toggle("expanded");const a=o.contains("expanded"),s=e.closest(".accordion-wrapper").querySelectorAll(".accordion-item"),i=Granite.I18n.get("collapseAll");e.innerText=a?i:t,Array.prototype.forEach.call(s,e=>{w(e,a)})})}(n);d._elements.self.parentElement.classList.contains("accordion__panel--slide-down")&&function(){const e=document.querySelectorAll(".accordion__panel--slide-down .accordion__panel--expanded");e.length&&e.forEach(e=>{e.style.height="auto";const t=e.scrollHeight;e.style.height=t+"px"})}()}(),window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&new window.Granite.author.MessageChannel("cqauthor",window).subscribeRequestMessage("cmp.panelcontainer",(function(e){if(e.data&&"cmp-accordion"===e.data.type&&e.data.id===d._elements.self.dataset.cmpPanelcontainerId&&"navigate"===e.data.operation){const t=d._properties.singleExpansion;d._properties.singleExpansion=!0,v(e.data.index),d._properties.singleExpansion=t}}))}}(e)}function v(n){const o=n.dataset,a=[];let s=t;s=s.charAt(0).toUpperCase()+s.slice(1);const i=["is","hook"+s];for(let t in o)if(o.hasOwnProperty(t)){const n=o[t];0===t.indexOf(e)&&(t=t.slice(e.length),t=t.charAt(0).toLowerCase()+t.substring(1),-1===i.indexOf(t)&&(a[t]=n))}return a}function w(){const e=document.querySelectorAll(d.self);if(!e.length)return;for(let t=0;t<e.length;t++)new h({element:e[t],options:v(e[t])});!function(){const e=document.querySelectorAll(".accordion");e.length>1&&e[0].classList.add("multiple-accordions-first")}(),function(){const e=document.querySelectorAll(".accordion"),t=window.location.hash,n=t?document.querySelector(t):"";if(e.length&&n){const e=e=>{let t=e,n=0;for(;t;)n+=t.offsetTop,t=t.offsetParent;return n},t=document.querySelector("body"),o=parseInt(window.getComputedStyle(t).marginTop.replace("px",""),10),a=e(n)-o;n.querySelector(".accordion-button").click(),window.scroll({top:a})}}();const t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=document.querySelector("body");new t((function(e){e.forEach((function(e){const t=[].slice.call(e.addedNodes);t.length>0&&t.forEach((function(e){if(e.querySelectorAll){[].slice.call(e.querySelectorAll(d.self)).forEach((function(e){new h({element:e,options:v(e)})}))}}))}))})).observe(n,{subtree:!0,childList:!0,characterData:!0})}"loading"!==document.readyState?w():document.addEventListener("DOMContentLoaded",w)}()},function(e,t){},function(e,t){const n=$(".component-tiles-container");n.length&&function(){let e,t,o,a,s,i,r;function l(e){var n;t=e.data("number-tiles-default"),(n=e).find(".component-tile").each((function(){const e=this,t=$(this).find("p"),o=$(t).text(),a=o.length,s=n.attr("data-truncate-length")||130;if(a>s){const t=$.trim(o).substring(0,s).split(" ").slice(0,-1).join(" ")+"...";$(e).find("p").text(t)}})),n.find(".component-tile-new").each((function(){const e=this,t=$(this).find("p"),o=$(t).text(),a=o.length,s=n.attr("data-truncate-length")||130;if(a>s){const t=$.trim(o).substring(0,s).split(" ").slice(0,-1).join(" ")+"...";$(e).find("p").text(t)}})),c(e,t)}function c(e,t,n){let o=1,a=0;const s=(e=$(e)).find(".component-tile-new.hidden:not(.filtered-tile-new)");if($(window).width()<768&&(t*=3),e.find(".component-tile.hidden:not(.filtered-tile)").each((function(){e.find(".load-more").show(),$(this).removeClass("hidden");const n=$(this),s=$(n).offset().left;s<=a&&o++,o>t&&0!=t&&($(this).addClass("hidden"),e.find(".component-tile.hidden").length>0?$(this).addClass("hidden"):e.find(".load-more").hide()),a=s,(e.find(".component-tile.hidden:not(.filtered-tile)").length<1||e.find(".component-tile.hidden").length==e.find(".component-tile.filtered-tile").length)&&e.find(".load-more").hide()})),s.each((function(){e.find(".load-more").show();const n=$(this);n.removeClass("hidden");const s=n.offset().left;s<=a&&o++,o>t&&0!==t&&(n.addClass("hidden"),!e.find(".component-tile-new.hidden").length>0&&e.find(".load-more").hide()),a=s,(e.find(".component-tile-new.hidden:not(.filtered-tile-new)").length<1||e.find(".component-tile-new.hidden").length==e.find(".component-tile-new.filtered-tile-new").length)&&e.find(".load-more").hide()})),"true"===e[0].dataset.showTotal){const t=e.find(".component-tile-new:not(.hidden)");let o=e[0].dataset.totalTiles;"load-more-btn"!==n&&(o=s.length,e[0].dataset.totalTiles=o),function(e,t,n){e.find(".filter-count").text(`1 - ${t} of ${n}`)}(e,t.length,o)}}function d(){let e=0,t=100,n=55,o=0;$(".component-tile:not(.filtered-tile)").each((function(a){const s=$(this),i=$(s).offset().left;i<=o&&(e=0),o=i,$(this).hasClass("hide-tile-description")&&$(window).width()<1024&&(t=0,n=15);const r=$(this).offset().top+t+e*n;$(this).data("offset",r),e++})),$(".component-tile-new:not(.filtered-tile-new):not(.hidden)").each((function(a){const s=$(this),i=$(s).offset().left;i<=o&&(e=0),o=i,$(this).hasClass("hide-tile-description")&&$(window).width()<1024&&(t=0,n=15);const r=$(this).offset().top+t+e*n;$(this).data("offset",r),e++})),e=0}function u(){const e=$(window).scrollTop()+$(window).height(),t=$(".component-tile"),n=$(".component-tile-new");for(var o=0;o<t.length;o++){var a=$(t[o]),s=$(t[o]).data("offset"),i=a.height(),r=a.offset().top+i;e>s?$(t[o]).hasClass("scroll-done")?e<r&&$(t[o]).removeClass("scroll-done"):e-s<=100?$(t[o]).css({top:100-(e-s)+"px"}):$(t[o]).css({top:"0"}):$(t[o]).css({top:"100px"})}for(o=0;o<n.length;o++)(a=$(n[o]))[0].classList.contains("hidden")||(s=$(n[o]).data("offset"),i=a.height(),r=a.offset().top+i,e>s?$(n[o]).hasClass("scroll-done")?e<r&&$(n[o]).removeClass("scroll-done"):e-s<=100?$(n[o]).css({top:100-(e-s)+"px"}):$(n[o]).css({top:"0"}):$(n[o]).css({top:"100px"}))}function m(){$(".component-tiles-container").each((function(e){let t=0;$(this).find(".component-tile-text-container").css("min-height","0"),$(this).find(".component-tile-text-container").each((function(){const e=this;$(e).outerHeight()>t&&(t=$(e).outerHeight())})),$(this).find(".component-tile-text-container").css("min-height",t)}))}function p(e,t){const n=e.find(".component-tile").length>0?e.find(".component-tile"):e.find(".component-tile-new"),o=e=>{e.removeClass("filtered-tile-new").parent().removeClass("filtered-tile-new")},a=e=>{e.addClass("filtered-tile-new").parent().addClass("filtered-tile-new"),e.addClass("hidden")};void 0===t.filter&&""===t.search||""===t.filter||"0"===t.filter||null===t.filter||"all"===t.filter||"ALL"===t.filter?(n.removeClass("filtered-tile").parent().removeClass("filtered-tile"),n.addClass("hidden"),n.removeClass("filtered-tile-new").parent().removeClass("filtered-tile-new")):n.each((function(e){const n=$(this),s=n.data("topic"),i=t.filter?s.toUpperCase().includes(t.filter.toUpperCase()):"",r=t.search?s.toUpperCase().includes(t.search.toUpperCase()):"";n.addClass("hidden"),t.filter&&t.search?i&&r?o(n):a(n):t.search?r?o(n):a(n):t.filter&&(i?o(n):a(n))}))}function f(e,n,o){p(e,n),c(e,t),d(),u()}$(document).ready((function(){n.find(".component-tile").addClass("hidden"),n.find(".component-tile-new").addClass("hidden"),n.each((function(){e=$(this),a=this.querySelector(".tiles-container"),s=a.dataset.tileJsonPath,s?function(e,t,n){let o="";fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{for(let t=0;t<e.pressReleases.length;t++)o+=tileTemplate(e.pressReleases[t]);t.insertAdjacentHTML("afterbegin",o),n.find(".component-tile-new").addClass("hidden"),l(n),m(),d(),u()})}(s,a,e):l(e)})),s||(m(),d(),u())})),$(window).scroll((function(){clearTimeout(i),i=setTimeout((function(){u()}),15)})),n.on("click touchstart",".load-more",(function(n){return e=$(this).closest(".component-tiles-container"),t=e.data("number-tiles-default"),o=e.data("number-tiles-load-more"),c(e,o,"load-more-btn"),d(),$(window).trigger("scroll"),n.preventDefault(),!1})),n.find(".filter-option-value").on("click",(function(){const e=$(this).closest(".component-tiles-container"),t=e.find(".tile-container-search-field"),n=$(this).attr("data-filter"),o={filter:n,search:t.val()};n.toLowerCase().includes("all")&&t.val(""),f(e,o)})),n.find(".tile-container-serch-btn").on("click",(function(){const e=$(this).closest(".component-tiles-container"),t=e.find(".tile-container-search-field"),n=e.find(".filter-container").find("select.filter-select-text")[0].dataset.filter;f(e,{filter:n,search:t.val()})})),$(".container-filter").change((function(){const e=$(this).closest(".component-tiles-container");p(e),c(e,t),d(),u()})),$(window).resize((function(){clearTimeout(r),r=setTimeout((function(){m(),d()}),500)}))}()},function(e,t){$(".component-tile").length&&$((function(){$(".component-tile").each((function(){const e=$(this).closest(".tile");$(this).hasClass("featured")&&$(e).addClass("featured-tile")}))}))},function(e,t){function n(){$(window).outerWidth()<768?$(".asset-col").each((function(){const e=$(this),t=e.find(".foreground-layer-2"),n=e.find(".foreground-layer-1");Math.max(t.height(),n.height());if(0==n.children("img").length&&0==n.children("video").length&&0==n.children(".animation-section-container").length&&n.css("height",t.height()),0==e.find(".foreground-layer").length){const t=e.parents(".component-content-block"),n=(t.outerHeight(),t.outerWidth()/1.7778-15);t.find(".asset-col").css("padding-top",n)}})):$(".asset-col").each((function(){const e=$(this);if(e.find(".foreground-layer-1").css("height","100%"),0==e.find(".foreground-layer").length){e.parents(".component-content-block").find(".asset-col").css("padding-top","0")}}))}function o(){$(".foreground-layer").each((function(){if($(this).find(".video-target").length>0){const e=$(this).outerWidth(),t=$(this).outerHeight(),n=($(window).outerWidth(),$(this).find(".video-target").find("video")),o=n.innerWidth()/n.innerHeight();let a,s;const i=$(this).data("style");void 0!==i&&i.indexOf("width")>-1?(s=i.split(";"),s.forEach((function(e){e.indexOf("width")>-1&&(a=e.split(":")[1])})),$(window).outerWidth()<768?$(this).outerHeight(e/o):$(this).outerWidth(a)):$(window).outerWidth()<768?$(this).outerHeight(e/o):$(this).outerWidth(t*o)}}))}$(".component-content-block").length&&$((function(){!function(){function e(e){const t=e.videoWidth/e.videoHeight,n=$(e),o=n.width();n.height(o/t)}$(".foreground-layer").each((function(){$(this).attr("style")&&$(this).attr("data-style",$(this).attr("style"))})),$(".foreground-layer").each((function(){new RegExp("width").test($(this).attr("data-style"))&&$(this).find("video, img, .animation-section-container").css("width","100%")})),$(".component-content-block .foreground-layer video").each((function(){var t;e(t=$(this)[0]),$(window).resize((function(){e(t)}))})),$(document).ready((function(){const e=document.querySelectorAll(".contentBlock .foreground-layer.parallax-effect-back");0!=e.length&&(e[0].style.transform="none")}))}()})),$(".icon-grid").each((function(){5==$(this).find(".icon-grid-item").length?$(this).find(".icon-grid-item").addClass("icon-grid-item-wide-5"):4==$(this).find(".icon-grid-item").length?$(this).find(".icon-grid-item").addClass("icon-grid-item-wide-4"):3==$(this).find(".icon-grid-item").length?($(this).find(".icon-grid-item").addClass("icon-grid-item-wide-3"),$(this).find(".icon-grid-item img").addClass("icon-large"),$(this).find(".icon-grid-item svg").addClass("icon-large")):2==$(this).find(".icon-grid-item").length?($(this).find(".icon-grid-item").addClass("icon-grid-item-wide-2"),$(this).find(".icon-grid-item img").addClass("icon-large"),$(this).find(".icon-grid-item svg").addClass("icon-large")):1==$(this).find(".icon-grid-item").length&&($(this).find(".icon-grid-item").addClass("icon-grid-item-wide-1"),$(this).find(".icon-grid-item img").addClass("icon-full"),$(this).find(".icon-grid-item svg").addClass("icon-full"))})),$(document).ready((function(){setTimeout((function(){n(),o()}),600),$(window).on("resize",(function(){n(),o()})),function(){const e=window.navigator.userAgent;(e.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&($(".parallax-effect-front").each((function(){$(this).find("video.vjs-tech").wrap("<div class='temp-wrapper-for-ie'></div>")})),$(".parallax-effect-back").each((function(){$(this).find("video.vjs-tech").wrap("<div class='temp-wrapper-for-ie'></div>")})),$(".temp-wrapper-for-ie").each((function(){$(this).css({position:"static",left:"0",right:"0",width:"100%","text-align":"center"}),$(this).find("video.vjs-tech").css({position:"static",width:"auto"})})))}()}))},function(e,t){const n=$(".hero-marquee-component");function o(e,t){const n=$(e).width()/t;$(e).height(n)}if(n.length>0){let e;$(document).ready((function(){"marquee-dual-toned"!==n.attr("data-com-name-variant")&&$(".hero-marquee-component .hero-marquee-header-section").addClass("show-marquee-header"),$(window).outerWidth(!0)<=767&&o(".hero-marquee-photo-frame",1),$(window).trigger("resize")})),$(window).resize((function(){clearTimeout(e),e=setTimeout((function(){$(".hero-marquee-component .hero-marquee-img-wrapper").height(""),n.each((function(){if("marquee-dual-toned"!==$(this).attr("data-com-name-variant")){let e;const t=$(this).find(".hero-marquee-header-inner-section");$(t).css("bottom","auto");const n=$(t).outerHeight()+$(t).offset().top,o=$(this).find(".hero-marquee-text-cta-section");let a=n-$(o).offset().top;e=$(window).width()>767&&$(window).width()<1024?24:$(window).width()>1023&&$(window).width()<1700?16:$(window).width()>1699?32:null,a>-1*e&&null!=e&&(a+=e,$(t).css("bottom",a+"px"))}})),$(window).outerWidth(!0)<=767?($(".hero-marquee-component").addClass("no-left-col-background"),o(".hero-marquee-photo-frame",1)):n.removeClass("no-left-col-background")}),500)}))}},function(e,t){$(document).on("click","#showMoreLess",(function(){$(this).parent().find("#showMoreLess").hasClass("loadmore")?($(this).parent().find("#showMoreLess").html("Load More"),$(this).parent().find("#showMoreLess").removeClass("loadmore").addClass("loadless")):($(this).parent().find("#showMoreLess").html("Load Less"),$(this).parent().find("#showMoreLess").removeClass("loadless").addClass("loadmore")),$(this).parent().find(".link-farm-hidden-tile").slideToggle(),$(this).parent().find("#showMoreLess").hide()}))},function(e,t){$(document).ready((function(){if($(".component-overlay-container").length>0){const o=$(".component-overlay"),a=$(".overlay-open"),s=$(".component-overlay-container"),i=$(window);s.each((function(){const e=$(this).attr("data-container-tag"),t=$(this).find(".component-overlay"),n=t.length;n<=1&&$(this).addClass("single-overlay"),t.each((function(t){$(this).attr("data-index",`${e}_${t+1}`),0==t&&$(this).find(".overlay-nav-previous").addClass("no-more-click"),t==n-1&&$(this).find(".overlay-nav-next").addClass("no-more-click")}))}));let r=i.scrollTop();function e(){$(".overlay-modal-open").removeClass("no-slide-in-effect"),$(".component-overlay").each((function(){$(this).removeClass("no-transition")})),i.outerWidth()>1023?setTimeout((function(){$(".active-overlay").find(".component-overlay-left-col").removeClass("overlay-col-fade-in")}),100):setTimeout((function(){$(".active-overlay").find(".component-overlay-left-col").removeClass("overlay-col-slide-in")}),400),setTimeout((function(){$(".active-overlay").find(".component-overlay-right-col").removeClass("overlay-col-slide-in"),$(".component-overlay-right-col-nav-sec").removeClass("top-menu-active"),$("body").removeClass("no-scroll"),i.scrollTop(r)}),400),setTimeout((function(){$(".component-overlay").removeClass("active-overlay"),s.removeClass("overlay-modal-open no-slide-in-effect")}),800)}function t(){const e=i.outerHeight();$(".component-overlay-container").each((function(t,n){0!==n.querySelectorAll(".component-overlay").length&&$(this).height(e)}))}function n(){const e=i.outerHeight();$(document).height();$(".component-overlay-container").each((function(t,n){const o=$(this);if(0===n.querySelectorAll(".component-overlay").length)return;if(o.hasClass("no-left-image"))a=0;else var a=o.find(".component-overlay-left-col").height();const s=o.find(".component-overlay-right-col-nav-sec").height(),r=o.find(".component-overlay-right-col-text-sec");i.outerWidth()>=768?i.outerWidth()>=1024?(r.height(e-s),$(".component-overlay-left-col").removeClass("overlay-col-slide-in").addClass("overlay-col-fade-in")):r.height(e-a-s):(o.hasClass("no-left-image")&&r.height("auto"),$(".component-overlay-left-col").removeClass("overlay-col-fade-in").addClass("overlay-col-slide-in"))}))}a.on("click",(function(e){r=i.scrollTop(),e.preventDefault();const t=$(this).attr("data-index");o.each((function(){$(this).hasClass("active-overlay")||$(this).attr("data-index")==t&&($(this).addClass("active-overlay"),$(this).closest(".component-overlay-container").addClass("overlay-modal-open no-slide-in-effect"),i.outerWidth(!0)>1023?$(this).find(".component-overlay-right-col-nav-sec").addClass("top-menu-active"):setTimeout(function(){$(this).find(".component-overlay-right-col-nav-sec").addClass("top-menu-active")}.bind($(this)),300),$("body").addClass("no-scroll")),i.outerWidth()>1023?$(this).find(".component-overlay-left-col").addClass("overlay-col-fade-in"):$(this).find(".component-overlay-left-col").addClass("overlay-col-slide-in"),$(this).find(".component-overlay-right-col").addClass("overlay-col-slide-in"),$(this).addClass("no-transition")})),i.scrollTop(r)})),$(".overlay-nav-next").on("click",(function(){$(this).closest(".component-overlay");const e=$(this).closest(".component-overlay").next();$(".component-overlay-right-col-nav-sec").removeClass("top-menu-active"),$(".component-overlay").removeClass("active-overlay"),$(e).addClass("active-overlay"),$(".active-overlay .component-overlay-right-col-nav-sec").addClass("top-menu-active")})),$(".overlay-nav-previous").on("click",(function(){$(this).closest(".component-overlay");const e=$(this).closest(".component-overlay").prev();$(".component-overlay-right-col-nav-sec").removeClass("top-menu-active"),$(".component-overlay").removeClass("active-overlay"),$(e).addClass("active-overlay"),$(".active-overlay .component-overlay-right-col-nav-sec").addClass("top-menu-active")})),$(".close-btn-desktop, .close-btn-mobile").on("click",(function(){e()})),$(".component-overlay-left-col").on("click",(function(){$(this).closest(".no-left-image").length&&e()})),t(),n();let l=i.width();i.resize((function(){i.width()!=l&&(l=i.width(),t(),n())}))}}))},function(e,t){},function(e,t){$(".component-quote").length&&$((function(){}))},function(e,t){$(document).ready((function(){const e=$(".jobviteSearchContainer");function t(){let e="q=",t="c=",n="l=",o="",a="",s="";const i=$(serchTerm).val();i&&(e+=i),o=$(".jobviteSearchContainer .jobviteFilterContainer .jobviteFilterSelected").html(),o&&o!==departmentPlaceholder||(o=""),t+=o,a=$(".jobviteSearchContainer .jobviteFilterContainer.jobviteLastFilterContainer .jobviteFilterSelected").html(),a&&a!==locationPlaceholder||(a=""),n+=a,s=`${jobviteSearchUrl}?${e}&${t}&${n}`,window.open(s,"_blank")}function n(e){let t,n,o;const a=[];for(t=document.getElementsByClassName("jobviteFilterSelect-items"),n=document.getElementsByClassName("jobviteFilterSelected"),o=0;o<n.length;o++)e==n[o]?a.push(o):n[o].classList.remove("select-arrow-active");for(o=0;o<t.length;o++)a.indexOf(o)&&t[o].classList.add("select-hide")}function o(e,t){const n=e.name.toLowerCase(),o=t.name.toLowerCase();return n<o?-1:n>o?1:0}jobviteDepartment="#jobvite-department",jobviteLocation="#jobvite-location",departmentJsonUrl=e.attr("data-department-json"),locationJsonUrl=e.attr("data-location-json"),jobviteSearchUrl=e.attr("data-jobvite-search-url"),serchTerm=".jobviteSearchContainer .jobviteSearchTermContainer input",departmentPlaceholder=e.attr("data-jobvite-department-placeholder"),locationPlaceholder=e.attr("data-jobvite-location-placeholder"),statusCode="",departmentJson={},locationJson={},e.length>0&&($.ajax({url:departmentJsonUrl,dataType:"json",async:!1,success(e){statusCode=e.status.code,200===statusCode&&(departmentJson=e.categories,departmentJson=departmentJson.sort(o),departmentJson.forEach((function(e){$(jobviteDepartment).append($("<option>",{value:e.name,text:e.name}))})))}}),$.ajax({url:locationJsonUrl,dataType:"json",async:!1,success(e){statusCode=e.status.code,200===statusCode&&(locationJson=e.locations,locationJson=locationJson.sort(o),locationJson.forEach((function(e){"active"===e.locationStatus&&$(jobviteLocation).append($("<option>",{value:e.name,text:e.name}))})))}}),function(){let e,t,o,a,s,i,r,l;for(e=document.getElementsByClassName("jobviteFilterContainer"),t=0;t<e.length;t++){for(a=e[t].getElementsByTagName("select")[0],s=document.createElement("DIV"),s.setAttribute("class","jobviteFilterSelected"),s.setAttribute("tabindex","0"),l=document.createElement("DIV"),l.setAttribute("class","jobviteMenuBox"),null!=a.options&&a.options.length>0&&void 0!==a.options[a.selectedIndex].innerHTML&&(s.innerHTML=a.options[a.selectedIndex].innerHTML),e[t].appendChild(s),i=document.createElement("DIV"),i.setAttribute("class","jobviteFilterSelect-items select-hide"),o=0;o<a.length;o++)r=document.createElement("DIV"),r.innerHTML=a.options[o].innerHTML,r.addEventListener("click",(function(e){let t,n,o,a,s;for(a=this.parentNode.parentNode.parentNode.getElementsByTagName("select")[0],s=this.parentNode.parentNode.previousSibling,n=0;n<a.length;n++)if(a.options[n].innerHTML==this.innerHTML){for(a.selectedIndex=n,s.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),o=0;o<t.length;o++)t[o].removeAttribute("class");this.setAttribute("class","same-as-selected");break}s.click()})),l.appendChild(i),i.appendChild(r);e[t].appendChild(l),s.addEventListener("click",(function(e){e.stopPropagation(),n(this),this.nextSibling.nextSibling&&this.nextSibling.nextSibling.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}}(),$(".jobviteSearchContainer .jobviteSearchButton").click((function(){t()})),$(document).on("keypress",(function(e){13==(e.charCode||e.keyCode)&&(e.preventDefault(),t())}))),$("html").click((function(){$(".jobviteFilterSelected").removeClass("jobviteFilterSelected-expand"),$(".jobviteMenuBox").removeClass("jobviteMenuBox-expand")})),$(this).find(".jobviteFilterSelected").click((function(e){$(this).parent().siblings().find(".jobviteFilterSelected").removeClass("jobviteFilterSelected-expand"),$(this).parent().siblings().find(".jobviteMenuBox").removeClass("jobviteMenuBox-expand"),$(this).next().toggleClass("jobviteMenuBox-expand"),$(this).toggleClass("jobviteFilterSelected-expand")}))}))},function(e,t){$(".component-floating-nav").length&&$((function(){}))},function(e,t){if($(".component-video-modal").length){let e;window.onpageshow=function(e){e.persisted&&window.location.reload()},function(e){const t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};function n(n,o){return this.each((function(){const a=e(this);let s=a.data("bs.modal");const i=e.extend({},t.DEFAULTS,a.data(),"object"==typeof n&&n);s||a.data("bs.modal",s=new t(this,i)),"string"==typeof n?s[n](o):i.show&&s.show(o)}))}t.VERSION="3.3.5",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){const o=this,a=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){o.$element.one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(o.$element)&&(o.ignoreBackdropClick=!0)}))})),this.backdrop((function(){const a=e.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),a&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();const s=e.Event("shown.bs.modal",{relatedTarget:n});a?o.$dialog.one("bsTransitionEnd",(function(){o.$element.trigger("focus").trigger(s)})).emulateTransitionEnd(t.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)})))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){const e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){const o=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){const o=e.support.transition&&a;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");const a=function(){o.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){const e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){let e=window.innerWidth;if(!e){const t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){const e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){const e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);const t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};const o=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=o,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){const o=e(this),a=o.attr("href"),s=e(o.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),i=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},s.data(),o.data());o.is("a")&&t.preventDefault(),s.one("show.bs.modal",(function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",(function(){o.is(":visible")&&o.trigger("focus")}))})),n.call(s,i,this)}))}(jQuery);const t="youTubePlayer",s="brightCovePlayer";let i=null,r=null;const l=1024,c=1200;const d={accountId:"5148394746001",playerId:"BJBGIBQtb",videoId:""};function n(){videojs(s).ready((function(){o(`${s}******Bright Cove Player being instantiated ${r}`);const e=this;o("Media info = "+e.mediainfo),e.catalog.getVideo(r,(function(t,n){"undefined"!=t?(e.catalog.load(n),o("player current time "+e.currentTime()),a()):o("**An error occured playing BC video")})),e.on("timeupdate",modalVideoShowUpdates)}))}function o(e){}function a(){const e=$(window).width(),t=$(window).height();return window.screen.availWidth,e<=l&&t<=l||!!(e<=c&&t<=c&&(navigator.userAgent.match(/Nexus/i)||navigator.userAgent.match(/Asus/i)))}$(document).ready((function(){function l(){null===document.getElementById(t)&&$("#videoModal #videoPlayerWrapper").append(`<div id="${t}"></div>`)}$("body").on("click",".videomodallink",(function(c){$(this).hasClass("variation-in-place")||$(this).parents(".variation-in-place").length>0?$("#videoModal").addClass("modal-variation-refresh"):$("#videoModal").removeClass("modal-variation-refresh"),c.preventDefault(),void 0!==$(this).attr("data-ooyala")&&!1!==$(this).attr("data-ooyala")?(i="oo",r=$(this).attr("data-ooyala")):void 0!==$(this).attr("data-youtube")&&!1!==$(this).attr("data-youtube")?(i="yt",r=$(this).attr("data-youtube")):void 0!==$(this).attr("data-brightcove")&&!1!==$(this).attr("data-brightcove")&&(i="bc",r=$(this).attr("data-brightcove"));const u=$(this).attr("data-cta-link"),m=$(this).attr("data-cta-link-text");if(u&&m?($("#videoModal .video-btn-more a").attr("href",u),$("#videoModal .video-btn-more a").text(m),$("#videoModal .video-btn-more").show()):$("#videoModal .video-btn-more").hide(),"undefined"!=typeof OO&&"oo"===i){var p=!0;a()&&(p=!1),OO.ready((function(){e=OO.Player.create("videoPlayerWrapper",r,{onCreate:window.onCreate,autoplay:p,wmode:"opaque"}),a()||e.play(),$(".modal-variation-refresh").each((function(){$(".oo_controls").addClass("oo_full_controls")}))}))}else if("yt"===i){p=1;a()&&(p=0),e=new YT.Player("youTubePlayer",{height:"100%",width:"100%",videoId:r,playerVars:{rel:0,autoplay:p,modestbranding:1,controls:2,autohide:2,enablejsapi:1,showinfo:0,disablekb:1,showsearch:0,loop:0},events:{onReady:onModalPlayerReady,onStateChange:onModalPlayerStateChange}})}else if("bc"===i){let e=d.accountId,t=d.playerId;const i=$(this).attr("data-brightcove");void 0!==$(this).attr("data-account")&&!1!==$(this).attr("data-account")&&(e=$(this).attr("data-account")),void 0!==$(this).attr("data-player")&&!1!==$(this).attr("data-player")&&(t=$(this).attr("data-player")),function(e,t,i){o("ading BC div");let l=d.videoId;null!=l&&""!=l||(l=r),o("Video ID assigned is "+e),a()?(o("mobile resolution detected. No Auto Play of video"),playerHTML=`<video id="${s}" data-video-id="${e}"  data-account="${t}" data-player="${i}" data-embed="default" class="video-js" controls></video>`):(o("Desktop resolution detected. Auto Playing the video"),playerHTML=`<video autoplay id="${s}" data-video-id="${e}"  data-account="${t}" data-player="${i}" data-embed="default" class="video-js" controls></video>`),o("Player HTML = "+playerHTML),$("#videoModal #videoPlayerWrapper").append(playerHTML);const c=document.createElement("script");c.src=`//players.brightcove.net/${t}/${i}_default/index.min.js`,document.body.appendChild(c),o("Added  BC div using JQUERY"+c.src),c.onload=n}(i,e,t)}$("#videoModal").one("hide.bs.modal",(function(n){"oo"===i?(null!=e&&e.destroy(),null==document.getElementById(t)&&l()):"yt"===i?(trackMilesStones(e),e.destroy()):"bc"===i&&$("#videoModal #videoPlayerWrapper #brightCovePlayer").remove()}))})),$(document).on("click",".vjs-share-control",(function(e){const t=$("body").attr("data-currentpage");if(-1!=["content/servicenow/www/locale-sites/en-us","/content/servicenow/www/locale-sites/de-de","/content/servicenow/www/locale-sites/nl-nl","/content/servicenow/www/locale-sites/fr-fr","/content/servicenow/www/locale-sites/pt-br","/content/servicenow/www/locale-sites/ko-kr","/content/servicenow/www/locale-sites/es-es","/content/servicenow/www/locale-sites/it-it","/content/servicenow/www/locale-sites/en-us/live-streaming","/content/servicenow/www/locale-sites/en-us/hp-modal-test","/content/servicenow/www/locale-sites/en-us/solr-search-testing","/content/servicenow/www/locale-sites/en-us/solr-search-testing/solr-test","/content/servicenow/www/locale-sites/en-us/common-components/en-us"].indexOf(t)){const e=document.querySelector(".vjs-social-direct-link").getElementsByTagName("input")[0];e.removeAttribute("readonly"),e.value=document.location.origin+"/solutions/reopening-workplace.html?videoplay=true&videoID=6157538632001&src=hp"}}))}))}},function(e,t){},function(e,t){$(".component-newsfeed-form").length&&$((function(){}))},function(e,t){function n(){$(".marquee-medium-asset-section-frame").each((function(){const e=window.matchMedia("(max-width: 767px)").matches,t=$(this).closest(".marquee-medium-component").hasClass("mobile-4-3-image-ratio-wrapper");if($(this).css({visibility:"visible"}),e&&t){const e=$(this).width()*(3/4);$(this).height(e)}else{const e=$(this).height();$(this).width(e),$(this).height("100%")}}))}if($(".marquee-medium-component").length){$(document).ready((function(){n(),function(){$.urlParam=function(e){const t=new RegExp(`[?&]${e}=([^&#]*)`).exec(window.location.href);return null==t?null:decodeURI(t[1])||0};const e=$.urlParam("pillarId");let t="";if(null!=e){switch(e){case"1":t=$("#pillarOneDescription").val();break;case"2":t=$("#pillarTwoDescription").val();break;case"3":t=$("#pillarThreeDescription").val();break;case"4":t=$("#pillarFourDescription").val()}$(".marquee-medium-subtitle p").text(`${$(".marquee-medium-subtitle p").text()} ${t}`)}}()})),$(window).resize((function(){n()}));let e=0;if($(window).scroll((function(){if($(".marquee-medium-component video")){const t=$(window).scrollTop();t<e&&$(".marquee-medium-component").each((function(){const e=$(this),n=e.outerHeight(),o=e.offset().top,a=e.offset().top+.6*n,s=e.find("video");t<a&&t>o?e.is(".video-loaded")||(s.each((function(){!function(e){e.play()}($(this).get(0))})),e.addClass("video-loaded")):t<=o||e.removeClass("video-loaded")})),e=t}})),$(".marquee-medium-component #pdfPath").length>0&&$(".marquee-medium-component #pdfPath").val().length>0){const e=`${window.location.origin+$(".marquee-medium-component #pdfPath").val()}?current=${"True"}%26pillarId=${function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("pillarId",window.siteURL)}`;$(".download-action-plan").attr("href","/bin/servicenow/sra/pdfgenerator?pagePath="+e),$(".download-action-plan").click((function(){let e,t;$(".marquee-medium-component .my-account-loading-layer").addClass("show-loading-layer");const n=setInterval((function(){e=setTimeout((function(){t=getCookie("snpdfGenerated")}),200),t&&($(".marquee-medium-component .my-account-loading-layer").removeClass("show-loading-layer"),deleteCookie("snpdfGenerated"),clearTimeout(e),clearInterval(n))}),2e3)}))}}},function(e,t){if($(".link-list-component").length){let e,t,n,o=0,a=0;const s=4;let i;const r=$(".in-page-navigation-component.in-page-nav");let l,c,d,u=!1;$(".link-list-block-title").on("click",(function(){if(!$(this).closest(".ls-static-stack").length){const a=$(this).next(".link-list-block-link-content");const m=$(this);if(c=m.parent(".link-list-block").offset().top,$(window).outerWidth()<768)if(i=r.height()||$("#meganav18").height()||0,$(this).parent(".link-list-block").hasClass("col-visible"))a.slideUp(0).closest(".link-list-block").removeClass("col-visible").find(".link-list-block-title").removeClass("link-list-sticky-active stay-bottom").removeAttr("style").next(".link-list-block-link-content").css("padding-top","0").slideUp(0),d=-1,u=!1;else{$("body").find(".link-list-block.col-visible").removeClass("col-visible").find(".link-list-block-title").removeClass("link-list-sticky-active stay-bottom").removeAttr("style").next(".link-list-block-link-content").css("padding-top","0").slideUp(0),a.slideDown(0).closest(".link-list-block").addClass("col-visible"),o=a.offset().top+a.outerHeight()-a.find("ul li").outerHeight()*s,e=$(this).parent(".link-list-block").offset().top,t=e,n=e-i;$(window).scrollTop()>t&&($(this).addClass("link-list-sticky-active"),a.css("padding-top",$(this).outerHeight())),u?($(this).index(".link-list-block-title")>d?$(window).scrollTop(c-l-$(this).outerHeight(!0)):$(window).scrollTop(c-$(this).outerHeight(!0)),$("#meganav18").removeClass("visible-meganav").addClass("hide-meganav-on-tab-click"),l=a.height(),d=$(this).index(".link-list-block-title")):(l=a.height(),u=!0,d=$(this).index(".link-list-block-title"))}}})),$(window).scroll((function(){if($(".link-list-block.col-visible").length){const e=$(".link-list-block.col-visible").find(".link-list-block-title"),s=$(window).scrollTop(),l=r.height();s>=a?r.length?s>t-l&&s<o?e.addClass("link-list-sticky-active").css("top",l).next(".link-list-block-link-content").css("padding-top",e.outerHeight()):s>t&&s>o&&e.removeClass("link-list-sticky-active").addClass("stay-bottom").removeAttr("style").css({bottom:300}):s>t&&s<o?e.addClass("link-list-sticky-active").css("top","0px").next(".link-list-block-link-content").css("padding-top",e.outerHeight()):s>t&&s>o&&e.removeClass("link-list-sticky-active").addClass("stay-bottom").removeAttr("style").css({bottom:300}):s>n&&s<o?e.removeClass("stay-bottom").addClass("link-list-sticky-active").removeAttr("style").css("top",i):s>n&&s>o-i||e.removeClass("stay-bottom link-list-sticky-active").removeAttr("style").next(".link-list-block-link-content").css("padding-top","0px"),a=s}})),$(window).on("resize",(function(){$(this).outerWidth()>767&&$(".link-list-block.col-visible").removeClass("col-visible").find(".link-list-block-title").removeClass("link-list-sticky-active stay-bottom").removeAttr("style").next(".link-list-block-link-content").removeAttr("style")}))}},function(t,n){if($(".in-page-navigation-component").length){const t=$(".in-page-navigation-component"),n=$(".sn-global-meganav #meganav18"),d=$(".in-page-navigation-page-title"),u=$(".in-page-navigation-tab-row-outerwrapper"),m=$(".in-page-navigation-cta"),p=$(".in-page-navigation-search");let f="";const g=$("html, body");let h,v=!0;const w=$(".in-page-navigation-component form").data("json")||"",y=$(".in-page-navigation-component form").data("result-length")||"",b=$(".in-page-navigation-component form").data("input-minimum")||"0",C=$(".in-page-navigation-component form").attr("action")||"",S=sessionStorage.getItem("exploreHubUrl"),x=$(".in-page-navigation-component").data("explore-hub-url")||"0",k=sessionStorage.getItem("exploreClick");let E;const I=function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null};function o(){setTimeout((function(){!function(e,t){const n=t,o=e.children("a");if(o.length>0){const e=o.width(),t=o.position().left;n.css({width:e,left:t})}}($(".active-nav-tab"),$(".active-tab-indicator"))}),50)}function a(){const e=d.children().outerWidth(!0)+72||0,t=$(".in-page-navigation-content").css("padding-left"),n=2*Number(t.substring(0,t.length-2));let o;o=m.length>0?m.outerWidth(!0)-n:p.length>0?p.outerWidth(!0)-n:0,$(window).outerWidth(!0)>1023?$(".in-page-navigation-component").hasClass("in-page-sticky")?u.css("width",`calc(100% - ${(e+o+2).toString()}px)`):u.css("width",`calc(100% - ${(o+2).toString()}px)`):$(window).outerWidth(!0)<768?u.css("width",""):m.length||p.length?u.css("width",`calc(100% - ${o.toString()}px)`):u.css("width","")}function s(e,t,n){$(e).animate({scrollLeft:t},n,(function(){}))}function i(){$(window).outerWidth()<768&&($(".in-page-navigation-component").hasClass("in-page-sticky")?m.css({opacity:"1","z-index":"0"}):m.css({opacity:"","z-index":""}))}function r(){const e=$(".in-page-navigation-tab-item");e.last().position().left+e.last().outerWidth(!0)-u.offset().left>=u.width()+$(e).scrollLeft()?(u.addClass("gradient-layer"),h=!0):(u.removeClass("gradient-layer"),h=!1),e.first().position().left<$(this).scrollLeft()?u.addClass("gradient-layer-front"):u.removeClass("gradient-layer-front")}function l(){const e=$(".active-tab-indicator"),t=$(".in-page-navigation-component-outter-wrapper").height();e.css("top",t-e.height()+"px")}function c(e){g.animate({scrollTop:0},e,"swing",(function(){f="",$(".in-page-navigation-tab-item.active-nav-tab").removeClass("active-nav-tab"),$(".in-page-navigation-tab-item").first().addClass("active-nav-tab"),s(".in-page-navigation-tab-row-innerwrapper",0,200),o()}))}E="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):decodeURIComponent(I("userId")),$(".in-page-navigation-tab-row-innerwrapper").on("scroll",(function(){const e=$(".in-page-navigation-tab-item");u.width()+$(this).scrollLeft()>=e.last().position().left+e.last().outerWidth(!0)-10?u.removeClass("gradient-layer"):h&&u.addClass("gradient-layer"),$(this).scrollLeft()>e.first().position().left?u.addClass("gradient-layer-front"):u.removeClass("gradient-layer-front")})),$(".in-page-nav").length&&($(".in-page-navigation-tab-item").on("click","a",(function(e){const t=$(this);!function(e){const t=$(".in-page-navigation-tab-row-innerwrapper").scrollLeft(),n=t+$(".in-page-navigation-tab-row-outerwrapper").width(),o=e.position().left,a=($(".active-nav-tab").outerWidth(!0),$(".active-nav-tab a").width());v=!(o>=t&&n>=o+a)}(t);const n=t.parent().data("tab");if($(t).closest(".in-page-navigation-component").hasClass("variation-csc-hub")){const e=$(t).attr("href");window.location.href;window.location=e+"#csc-hub",sessionStorage.setItem("exploreClick",!0)}else{e.preventDefault();!function(e,t){const n=t.height();g.animate({scrollTop:$(`[id="${e}"]`).offset().top-n+2},250,(function(){v=!0}))}(n,t.closest(".in-page-navigation-component-outter-wrapper"))}})),d.on("click",(function(){c(250)})),$(window).on("scroll",(function(){const e=$(".in-page-navigation-component"),r=e.children(".in-page-navigation-component-outter-wrapper").height(),l=e.offset().top,c=$(this).scrollTop(),d=document.querySelectorAll(".cmp-alert[data-cmp-sticky=true]");c>l?(e.addClass("in-page-sticky").height(r),a(),n.css({opacity:"0","z-index":"-1"}),d.length&&Array.prototype.forEach.call(d,(function(e){e.style.opacity="0",e.style.zIndex="-1"}))):(e.removeClass("in-page-sticky").height("auto"),n.css({opacity:"","z-index":""}),a()),$(".in-page-navigation-container").each((function(e){if($(".in-page-sticky").length&&!t.hasClass("variation-csc-hub")){const t=$(this),n=t.attr("id"),a=t.height(),i=t.offset().top;if(c+r>i&&i+a-r>c){if(f!==n){$(".in-page-navigation-tab-item").removeClass("active-nav-tab"),$(`[data-tab=${n}]`).addClass("active-nav-tab");const t=$(".in-page-navigation-tab-row-innerwrapper").scrollLeft(),a=$(".in-page-navigation-tab-row-outerwrapper").width(),i=t+a,r=$(".active-nav-tab a").position()&&$(".active-nav-tab a").position().left,l=$(".active-nav-tab").outerWidth(!0),c=r+$(".active-nav-tab a").width();v&&(t<r&&i>c||(t<r&&i<c?s(".in-page-navigation-tab-row-innerwrapper",r,400):t>c?s(".in-page-navigation-tab-row-innerwrapper",r-(a-l),400):i<r?s(".in-page-navigation-tab-row-innerwrapper",r,400):isNaN(r)||s(".in-page-navigation-tab-row-innerwrapper",r-(a-l),400))),o(),$(".in-page-navigation-tab-item").length-1==e?u.removeClass("gradient-layer"):h&&u.addClass("gradient-layer")}f=n}}})),i()})),t.hasClass("variation-csc")||t.hasClass("variation-csc-hub")||c(0)),$(window).on("resize",(function(){v=!0,o(),a(),r(),l()})),$(window).on("load",(function(){i(),o(),a(),r(),l(),t.hasClass("variation-csc")&&null!=E&&"null"!=E&&m.each((function(){const e=m.attr("data-cta-link"),t=m.attr("data-cta-label");m.find("a").attr("href",e),m.find("a").text(t),m.find("a").attr("data-com-cta",t)})),t.hasClass("variation-csc-hub")&&($(".in-page-navigation-tab-item").each((function(){const e=$(this).find("a"),t=$(e).data("auth-href"),n=$(e).data("unauth-href");null!=E&&"null"!=E&null!=t?$(e).attr("href",t):null!=n&&$(e).attr("href",n)})),null!=S&&$(u).find("ul li").each((function(){const e=this.querySelector("a");e.href.indexOf(x)>-1&&(e.href=S)})),window.location.href,$(u).find("ul li").each((function(){const e=this;if(e.classList.contains("active-nav-tab")&&$(".in-page-navigation-tab-row-innerwrapper").animate({scrollLeft:$(e).position().left-30},0),null!=k){const e=t.position().top,n=$("html, body");n.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",(function(){n.stop()})),n.animate({scrollTop:e},250,(function(){setTimeout((function(){n.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")}),1e3)})),history.pushState("",document.title,window.location.pathname),sessionStorage.removeItem("exploreClick")}})))})),""!=w&&$.getJSON(w,(function(e){const t=Object.entries(e);e.keywords;$.each(Object.entries(t[0][1]),(function(e,n){let o;o=`<li class='kw'>${t[0][1][e]}</li>`,$(o).prependTo(".in-page-navigation-search-panel .drop-panelx-in-page")}))})),$(".in-page-navigation-search").on("keyup","input",(function(){const t=this,n=$(this).closest(".in-page-navigation-search"),o=$(n).closest(".in-page-navigation-component").find(".search-panel-in-page");if($(t).val().length>=b){const e=$(t).val().toLowerCase();$(o).closest(".component-dotcom-search-in-page").show(),$(o).find(".drop-panelx-in-page").show().css("display","block").css("visibility","visible"),$(o).find(".drop-panelx-in-page").find("li.kw").filter((function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})),""!=y&&$(".component-dotcom-search-in-page .drop-panelx-in-page li.kw:visible").slice(y).hide(),$(t).val().length>2&&$(n).find(".search-click").on("click touchstart",(function(){$(n).find("form").submit()}))}0===$(t).val().length&&($(o).find(".drop-panelx-in-page").hide(),$(t).val(""),$(n).find(".search-clear").hide(),$(o).closest(".component-dotcom-search-in-page").hide()),$(o).find(".drop-panelx-in-page li.kw").on("click tap",(function(){$(t).val($(this).text()),$(n).find("form").submit()})),$(n).on("click tap",".search-clear",(function(){$(t).val("").trigger("keyup")})),$(o).on("click touchstart",".view-all",(function(){return url=`${C}?q=${$(t).val()}`,window.location=url,e.preventDefault(),!1})),$(n).on("submit","form",(function(e){return url=`${C}?q=${$(t).val()}`,window.location=url,e.preventDefault(),!1}))})),$(window).scroll((function(){$(".in-page-navigation-cta").length>0&&$(".sn-global-footer").length>0&&function(){const e=$(window).scrollTop()+window.innerHeight;$(".sn-global-footer").offset().top-e<0&&$(window).width()<768?$(".sn-global-footer").css("padding-bottom","48px"):$(".sn-global-footer").css("padding-bottom","")}()}))}},function(e,t){$(".component-in-page-navigation-container").length&&$((function(){}))},function(e,t){$(".component-title").length&&$((function(){}))},function(e,t){$(".tabs-to-carousel").length&&$((function(){$(".tabs-to-carousel").each((function(){const e=this,t=$(e).find(" a:first-child").data("bgcolor");function n(t){const n=t.item.index,o=$(e).find(".tab-controller").toArray(),a=$(e).find(".tabbed-container").toArray();$(e).find(".tab-controller").removeClass("selected"),$(e).find(".tabbed-container").removeClass("tabbed-container-active"),$(o[n]).addClass("selected"),$(a[n]).addClass("tabbed-container-active"),setTimeout((function(){$(e).find(".owl-item-content").each((function(){$(this).find("video").length>0&&$(this).parents(".owl-item").hasClass("active")?$(this).find("video").trigger("play"):$(this).find("video").trigger("destroy")}))}),100)}$(e).addClass(t),$(".tabbed-nav a:first-child").addClass("selected"),$(".tab1").addClass("tabbed-container-active"),$(".tabbed-nav a",this).each((function(){"#"===this.getAttribute("href")&&(this.href="#!"),$(this).on("click",(function(t){const n=$(this).data("target"),o=$(this).data("bgcolor");t.preventDefault(),$(e).find(".tabbed-nav a").removeClass("selected"),$(this).addClass("selected"),$(e).find(".tabbed-container").removeClass("tabbed-container-active"),$(e).find(".tabbed-container."+n).addClass("tabbed-container-active"),$(e).attr("class","tabs-to-carousel"),$(e).addClass(o),setTimeout((function(){$(e).find(".tabbed-container").each((function(){$(this).find("video").length>0&&$(this).hasClass("tabbed-container-active")?$(this).find("video").trigger("play"):$(this).find("video").trigger("destroy")}))}),100)}))})),$(".tabbed-nav a",this).first().click(),$("a.tab-controller",this).each((function(){$(this).on("click",(function(){const t=$(e).find(".owl-carousel"),n=$(this).data("index");t.trigger("to.owl.carousel",n)}))})),$(this).find(".owl-carousel").owlCarousel({center:!0,items:1,loop:!1,stagePadding:30,dots:!0,onInitialized:n,onChanged:n})}))}))},function(e,t){$(".component-bg-color-container").length>0&&$((function(){const e=$("#global-bg-wrapper"),t=$(".bg-transition"),n=e.attr("data-primary-bg").split(" ")||[];function o(){$(window).outerWidth()>767?(e.css("background-color",n[0]),t.each((function(){$(this).css("background-color","transparent");const t=new ScrollMagic.Controller,n=$(this).attr("data-bg-color"),o=TweenMax.to(e,1,{backgroundColor:n,ease:Linear.easeNone});new ScrollMagic.Scene({triggerElement:this,triggerHook:.6,duration:"40%"}).setTween(o).addTo(t).scrollOffset()}))):t.each((function(){const e=$(this).attr("data-bg-color");$(this).css("background-color",e)}))}$(".bg-transition").each((function(e){$(this).attr("data-bg-color",n[e])})),o(),$(window).on("resize",o)}))},function(e,t){$(".comparison-card-component").length&&$((function(){!function(){const e=$(".comparison-card-component .comparison-card-body li");function t(){const e=$(".comparison-card-header");e.height(""),e.find(".title-container").height(""),$(window).width()>767&&$(".comparison-card-component").each((function(){const e=$(this).find(".comparison-card-header");let t=0,n=0;e.each((function(){e.height()>t&&(t=e.height())})),e.find(".title-container").each((function(){e.height()>n&&(n=e.height())})),e.height(t),e.find(".title-container").height(n)}))}$(".comparison-card-component").attr("data-card-item-icon"),$(".comparison-card-component").each((function(){const e=$(this),t=e.find(".comparison-card").length;2===t?e.addClass("variation-two-cards"):1===t?e.addClass("variation-one-card"):4===t&&e.addClass("variation-four-cards")})),e.each((function(){""!==$(this).attr("data-card-item-icon")&&$(this).css("background-image",`url(${$(this).attr("data-card-item-icon")})`)})),$(".comparison-card-component .comparison-card").click((function(){const e=$(this);e.hasClass("active-card")?$(".comparison-card").removeClass("active-card"):($(".comparison-card").removeClass("active-card"),e.addClass("active-card"))})),t(),$(window).resize((function(){t()}))}()}))},function(e,t){$(".component-content-router").length&&$(".component-content-router .content-router-container").each((function(){const e=this;$(e).find(".content-router-item").length>1&&$(e).closest(".component-content-router").addClass("variation-stacked-items")}))},function(e,t){$(".component-asset-block").length&&$((function(){let e=0;$(window).scroll((function(){if($(".component-asset-block video").length){const t=$(window).scrollTop();t<e&&$(".component-asset-block").each((function(){if($(this).find("video").length&&$(this).closest(".interstitial-new-component.interstitial-variation-2").length<1){const e=$(this),n=e.outerHeight(),o=e.offset().top,a=e.offset().top+.6*n,s=e.find("video");t<a&&t>o?e.is(".video-loaded")||(s.each((function(){!function(e){e.play()}($(this).get(0))})),e.addClass("video-loaded")):t<=o||e.removeClass("video-loaded")}})),e=t}})),$(".component-asset-block video").click((function(){$(this).get(0).play()}))}))},function(e,t){$(".component-icon-block").length&&$((function(){}))},function(e,t){$(".component-charting").length&&(!function(e){e.fn.donutChart=function(t){const n=Math.min(300,300)/2;let o,a,s=0;const i=JSON.parse(this.find(".charting-json").text());a=i.donutChart;const r=[];a.map((function(e){r.push(e.bgColor)}));const l=d3.scale.ordinal().range(r),c=d3.svg.arc().innerRadius(n-60).outerRadius(n-10),d=d3.layout.pie().value((function(e){return e.value})).sort(null),u=d3.select(this[0]).select(".chart-container"),m=u.append("svg").attr("class","chart-content").attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("viewBox","0 0 300 300").append("g").attr("transform",`translate(${n},${n})`),p=u.append("div").attr("id","legend-container");d3.selection.prototype.moveToFront=function(){return this.each((function(){this.parentNode.parentNode.appendChild(this.parentNode)}))};const f=m.selectAll(".arc").data(d(a)).enter().append("g").attr("class","arc");function g(t){const n=e(t).attr("fill");d3.select(t).moveToFront(),e(t).css({stroke:n}).animate({"stroke-width":10},300),e(t).next("text").animate({opacity:1},300).next("text").animate({opacity:1},300)}function h(t){e(t).animate({"stroke-width":0},300),e(t).next("text").animate({opacity:0},300).next("text").animate({opacity:0},300)}f.append("path").attr("d",c).attr("class",(function(e,t){return l(t)+" arc-path"})).attr("id",(function(e,t){return"arc-"+t})).transition().ease("linear").duration(800).attrTween("d",(function(e){const t=d3.interpolate({startAngle:0,endAngle:0},e);return function(e){return c(t(e))}})),f.append("text").attr("class","arc-text").text((function(e){return e.data.value+"%"})),f.append("text").attr("class","arc-label").attr("transform","translate(0,30)").text((function(e){return e.data.label}));const v=p.selectAll(".legend").data(l.domain()).enter().append("div").attr("class","legend xlarge-body-copy").attr("data-lengend-value",(function(e,t){return"arc-"+t}));v.append("span").attr("class",(function(e,t){return l(t)+" legend-color-box"})),v.append("p").text((function(e,t){return`${a[t].label} ${a[t].value}%`})),e(this).find(".arc-path").on("mouseenter",(function(){if(0==s){const t=e(this).parents(".chart-container").find(`[data-lengend-value=${e(this).attr("id")}]`)[0];o=setTimeout(function(){g(this),e(t).find(".legend-color-box").addClass("legend-box-selected").parent().siblings().find("p").addClass("legend-unselected")}.bind(this),100),s++}})).on("mouseleave",(function(){clearTimeout(o),s=0;const t=e(this).parents(".chart-container").find(`[data-lengend-value=${e(this).attr("id")}]`)[0];h(this),e(t).find(".legend-color-box").removeClass("legend-box-selected").parent().siblings().find("p").removeClass("legend-unselected")})),v.on("mouseenter",(function(){const t=e(this).parents(".chart-container").find("#"+e(this).attr("data-lengend-value"))[0];o=setTimeout(function(){g(t),e(this).find(".legend-color-box").addClass("legend-box-selected").parent().siblings().find("p").addClass("legend-unselected")}.bind(this),100)})).on("mouseleave",(function(){clearTimeout(o);h(e(this).parents(".chart-container").find("#"+e(this).attr("data-lengend-value"))[0]),e(this).find(".legend-color-box").removeClass("legend-box-selected").parent().siblings().find("p").removeClass("legend-unselected")}))},e.fn.horizontalBarChartLoadText=function(){const t=e(this).find(".chart-container");JSON.parse(e(this).find(".charting-json").text()).horizontalBarChart.forEach((function(e){const n=`<div class="chart-section"><h5>${e.name}</h5><div class="chart-graphic-section"><div class="chart-graphic"><div class="front-chart ${e.color}"><div class="data-value"><h5 class="data-num" data-countstart="0" data-countend="${e.data}"><span class="real-num">0</span><span class="data-sign">%</span></h5></div></div></div></div></div>`;t.append(n)}))},e.fn.horizontalBarChartLoadNum=function(){const t=this;JSON.parse(e(t).find(".charting-json").text()).horizontalBarChart.forEach((function(n,o){e(t).find(".front-chart").eq(o).css("width",n.data+1.00009+"%")})),setTimeout((function(){e(t).find(".data-num").each((function(){const t=e(this).data("countstart");e(this).prop("Counter",t).animate({Counter:e(this).data("countend")},{duration:800,easing:"swing",step(t){e(this).find(".real-num").text(t.toFixed(1))},complete(){const t=e(this).find(".real-num").text().split(".");"0"==t[1]&&e(this).find(".real-num").text(t[0])}})}))}),10)}}(jQuery),$((function(){!function(){const e={};function t(e){const t=e.get(0).getBoundingClientRect(),n=document.documentElement,o=e.parents(".component-charting").offset().top,a=e.parents(".component-charting").offset().left;return{top:t.top+window.pageYOffset-n.clientTop-o,left:t.left+window.pageXOffset-n.clientLeft-a}}$(".charting-link-tab ul li").each((function(e,t){$(t).click((function(){$(this).addClass("tab-active").siblings().removeClass("tab-active");const e=$(this).index(),t=$(this).parents(".component-charting-container-content").find(".component-charting-container-charting").eq(e);t.parent().hasClass("charting-slide-container")?t.addClass("tab-slide-active").siblings().removeClass("tab-slide-active"):t.addClass("tab-slide-active").parent().siblings().children().removeClass("tab-slide-active");const n=t.find(".component-charting").attr("class");switch(!0){case n.indexOf("horizontal-bar-chart")>-1:t.find(".horizontal-bar-chart").hasClass("chart-animated-click")||(t.find(".chart-container").html("").height("100%"),t.find(".horizontal-bar-chart").horizontalBarChartLoadText(),setTimeout((function(){t.find(".horizontal-bar-chart").addClass("chart-animated-click chart-animated").horizontalBarChartLoadNum()}),200));break;case n.indexOf("donut-chart")>-1:t.find(".donut-chart").hasClass("chart-animated-click")||t.find(".chart-container").html("").height("100%").parents(".donut-chart").addClass("chart-animated-click chart-animated").donutChart()}}))})),e.verticalBarChart=function(){const e=[];[{Male:[{xLabel:"Under 20",items:[{name:"Leader",value:270,color:"#293E40"},{name:"Non Leader",value:449,color:"#81B5A1"}]},{xLabel:"20s",items:[{name:"Leader",value:120,color:"#293E40"},{name:"Non Leader",value:214,color:"#81B5A1"}]},{xLabel:"30s",items:[{name:"Leader",value:114,color:"#293E40"},{name:"Non Leader",value:193,color:"#81B5A1"}]},{xLabel:"40s",items:[{name:"Leader",value:294,color:"#293E40"},{name:"Non Leader",value:155,color:"#81B5A1"}]},{xLabel:"over 40",items:[{name:"Leader",value:337,color:"#293E40"},{name:"Non Leader",value:134,color:"#81B5A1"}]}]},{Female:[{xLabel:"Under 20",items:[{name:"Leader",value:170,color:"#D3D4D5"},{name:"Non Leader",value:149,color:"#AFB1B3"}]},{xLabel:"20s",items:[{name:"Leader",value:150,color:"#D3D4D5"},{name:"Non Leader",value:114,color:"#AFB1B3"}]},{xLabel:"30s",items:[{name:"Leader",value:144,color:"#D3D4D5"},{name:"Non Leader",value:293,color:"#AFB1B3"}]},{xLabel:"40s",items:[{name:"Leader",value:194,color:"#D3D4D5"},{name:"Non Leader",value:55,color:"#AFB1B3"}]},{xLabel:"over 40",items:[{name:"Leader",value:237,color:"#D3D4D5"},{name:"Non Leader",value:134,color:"#AFB1B3"}]}]}].forEach((function(t,n){for(var o in t){const p=t[o];var a=[];p.forEach((function(e){a.push(e.xLabel)}));var s=[],i=[];t[o][0].items.forEach((function(e,t){s.push(e.name),i.push({legendName:e.name,legendColor:e.color})})),$.extend(e,i);const f={data:p,names:s,xLabels:a},g={top:20,right:20,bottom:30,left:20},h=400,v=300,w=h-g.left-g.right;var r=v-g.top-g.bottom;const y=10;var l=d3.scale.ordinal().rangeRoundBands([0,w],.1),c=d3.scale.ordinal(),d=d3.scale.linear().range([r,0]);const b=d3.svg.axis().scale(l).orient("bottom"),C=d3.svg.axis().scale(d).orient("left").tickFormat(d3.format(".2s")),S=d3.select(".component-charting.vertical-bar-chart .chart-container").append("div").attr("class","chart-area"),x=S.append("svg").attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("viewBox",`0 0 ${h} ${v}`).append("g").attr("class","g-container").attr("transform",`translate(${g.left},${g.top})`);S.append("div").attr("id","legend-container");i.forEach((function(e){const t=`<div class="legend"><span class="legend-color-box" style="background:${e.legendColor}"></span><p>${o} ${e.legendName}</p></div>`;$(".vertical-bar-chart #legend-container").eq(n).append(t)})),l.domain(f.xLabels),c.domain(f.names).rangeRoundBands([10,l.rangeBand()-y]),d.domain([0,d3.max(f.data,(function(e){return d3.max(e.items,(function(e){return e.value}))}))]),x.append("g").attr("class","x axis").attr("transform",`translate(0,${r})`).call(b),x.append("g").attr("class","y axis").call(C).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end");var u=x.selectAll(".xLabel").data(f.data).enter().append("g").attr("class","g").attr("transform",(function(e){return`translate(${l(e.xLabel)},0)`})).attr("data-col1",(function(e){return e.items[0].value})).attr("data-col2",(function(e){return e.items[1].value})).attr("data-col1-color",(function(e){return e.items[0].color})).attr("data-col2-color",(function(e){return e.items[1].color})).attr("data-col1-text",(function(e){return e.items[0].name})).attr("data-col2-text",(function(e){return e.items[1].name})).attr("data-position-y1",(function(e){return d(e.items[0].value)})).attr("data-position-y2",(function(e){return d(e.items[1].value)})).attr("data-position-x",(function(e){return l(e.xLabel)})).attr("data-position-x",(function(e){return l(e.xLabel)})),m=u.selectAll("rect").data((function(e){return e.items})).enter().append("rect").attr("width",16).attr("x",(function(e){return c(e.name)})).attr("height",0).attr("y",v-60).style("fill",(function(e){return e.color}));setTimeout((function(){m.transition().duration(600).ease("ease-out").attr("height",(function(e){return r-d(e.value)})).attr("y",(function(e){return d(e.value)}));setTimeout((function(){u.append("rect").attr("class","mouse-target").attr("y",(function(){return Math.min($(this).parent(".g").attr("data-position-y1"),$(this).parent(".g").attr("data-position-y2"))})).attr("x",10).attr("height",(function(){const e=[];return $(this).siblings("rect").each((function(t){null==$(this).attr("height")&&""==$(this).attr("height")&&null==$(this).attr("height")&&"NaN"==$(this).attr("height")||e.push($(this).attr("height"))})),e.reduce((function(e,t){return Math.max(e,t)}))})).attr("width",40).attr("fill","transparent")}),800)}),300*n)}}));$(".chart-area").each((function(){$(this).append('<div class="tooltip"><div class="tool-col tooltip-col-1"><div><span></span><p></p></div></div><div class="tool-col tooltip-col-2"><div><span></span><p></p></div></div></div>')})),$(".chart-area .g").on("mouseenter",".mouse-target",(function(){$(this).parents(".chart-area").find(".tooltip").addClass("tooltip-active"),function(e){const n=e.parent("g.g"),o=n.parents(".chart-area").find(".tooltip"),a=n.attr("data-col1-color"),s=n.attr("data-col2-color"),i=n.attr("data-col1"),r=n.attr("data-col2"),l=n.attr("data-col1-text");_thisTextUpperR=n.attr("data-col2-text"),o.children(".tooltip-col-1").find("span").css("background",a).next("p").text(`${l} ${i}`),o.children(".tooltip-col-2").find("span").css("background",s).next("p").text(`${_thisTextUpperR} ${r}`);const c=o.outerWidth(),d=o.height(),u=t(n.find(".mouse-target")).top,m=t(n.find(".mouse-target")).left+16-c/2,p=u-d-45;n.parents(".chart-area").find(".tooltip").css({top:p+"px",left:m+"px"})}($(this))})).on("mouseleave",".mouse-target",(function(){$(this).parents(".chart-area").find(".tooltip").removeClass("tooltip-active")}))},e.lineAreaChart=function(){const e=[{data:[{day_of_month:18,month:1,year:2014,usage:49e3},{day_of_month:19,month:1,year:2015,usage:4e4},{day_of_month:20,month:1,year:2016,usage:45e3},{day_of_month:21,month:1,year:2017,usage:51e3},{day_of_month:22,month:1,year:2018,usage:7e4}],lineColor:"#293E40",name:"White"},{data:[{day_of_month:18,month:1,year:2014,usage:3e4},{day_of_month:19,month:1,year:2015,usage:2e4},{day_of_month:20,month:1,year:2016,usage:15e3},{day_of_month:21,month:1,year:2017,usage:35e3},{day_of_month:22,month:1,year:2018,usage:4e4}],lineColor:"#9AC2B7",name:"Asian"},{data:[{day_of_month:18,month:1,year:2014,usage:25e3},{day_of_month:19,month:1,year:2015,usage:3e4},{day_of_month:20,month:1,year:2016,usage:25e3},{day_of_month:21,month:1,year:2017,usage:45e3},{day_of_month:22,month:1,year:2018,usage:5e4}],lineColor:"#BFDCE3",name:"Hispanic"}],n=[],o=[],a=[];e.forEach((function(e){e.data.forEach((function(e){n.push(e.year),o.push(e.usage)})),a.push({legendName:e.name,legendColor:e.lineColor})}));const s=20,i=20,r=40,l=50,c=800-l-i,d=350-s-r;realGraphWidth=c-50;const u=d3.time.scale().domain([d3.min(n),d3.max(n)]).range([0,realGraphWidth]),m=d3.scale.linear().range([0,realGraphWidth]).domain([d3.min(n),d3.max(n)]),p=d3.scale.linear().range([d,0]).domain([0,d3.max(o)]),f=d3.svg.area().x((function(e){return m(e.date)})).y0(d).y1((function(e){return p(e.usage)})),g=d3.svg.line().x((function(e){return m(e.date)})).y((function(e){return p(e.usage)})),h=d3.format(".0f"),v=d3.svg.axis().scale(u).orient("bottom").tickFormat(h).innerTickSize(-d),w=d3.svg.axis().scale(p).orient("left").tickFormat(d3.format("s")),y=d3.select(".component-charting.line-area-chart .chart-container"),b=y.append("svg").attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("viewBox",`0 0 ${c+l+i} ${d+s+r}`).append("g").attr("class","g-container").attr("transform",`translate(${l+20},${s})`);b.append("g").attr("class","x axis").attr("transform",`translate(0,${d})`).call(v).select("path.domain").attr("d","M0,3V0H730V3"),b.append("g").attr("class","y axis").call(w);const C=$(".line-area-chart .g-container .x.axis .tick").eq(1).attr("transform").split("(")[1].split(",")[0]/2,S=d3.time.scale().domain([d3.min(n),d3.max(n)]).range([C,realGraphWidth+C]),x=d3.svg.axis().scale(S).orient("bottom").tickFormat(h).innerTickSize(-d);b.append("g").attr("class","more-ticks").attr("transform",`translate(0,${d})`).append("g").call(x),$(".line-area-chart .x.axis .tick").each((function(){$(this).find("text").attr("y",20)}));y.append("div").attr("id","legend-container");a.forEach((function(e){const t=`<div class="legend"><span class="legend-color-box" style="background:${e.legendColor}"></span><p>${e.legendName}</p></div>`;$(".line-area-chart #legend-container").append(t)}));const k=function(e){const t=[];return e.forEach((function(e){let n;n={date:e.year,usage:e.usage},t.push(n)})),t};e.forEach((function(e){const t=e.data,n=e.lineColor,o=k(t);b.append("path").datum(o).attr("class","area").attr("d",f).attr("fill",n)}));const E=b.append("g").attr("class","focus").style("display","none");E.append("line").attr("class","x").style("stroke","#C8C8C8").style("stroke-width","3px").attr("y1",0).attr("y2",d);let I=0;function F(){const e=y.append("div").attr("class","tooltip-container");e.append("div").attr("class","tool-tip-title"),e.append("div").attr("class","tool-tip-content");function n(e){const t=[],n=$(e).attr("cx");return $(e).parents(".g-container").find(".point").each((function(e){$(this).attr("cx")==n&&t.push({color:$(this).attr("data-color"),name:$(this).attr("data-name"),number:$(this).attr("data-number"),date:$(this).attr("data-date")})})),t}function o(e){$(".tool-tip-title").text(""),$(".tool-tip-content").html("");let t="";e.forEach((function(e){t+=`<div class="tool-col"><div><span style="background:${e.color}"></span><p>${e.name} ${e.number}</p></div></div>`})),$(".tool-tip-content").append(t),$(".tool-tip-title").text(e[0].date)}b.append("rect").attr("class","overlay").attr("width",realGraphWidth).attr("height",d).attr("fill","transparent").on("mouseover",(function(){})).on("mouseout",(function(){$(".tooltip-container").removeClass("tooltip-active"),E.style("display","none")})).on("mousemove",(function(){const e=m.invert(d3.mouse(this)[0]);let a=0;const s=$(".g-container").find(".point");for(;a<s.length;){if(Number(s.eq(a).attr("data-date"))>=e-.03&&Number(s.eq(a).attr("data-date"))<=e+.03){o(n(s.eq(a))),E.attr("transform",`translate(${s.eq(a).attr("cx")},0)`).style("display","block");const e=t($(".focus line")).top,i=t($(".focus line")).left,r=$(".focus").attr("transform").split("(")[1].split(",")[0],l=$(this).attr("width");return void(r==l?$(".tooltip-container").addClass("tooltip-active").css({left:i-$(".tooltip-container").outerWidth(!0)-10,top:e}):$(".tooltip-container").addClass("tooltip-active").css({left:i+10,top:e}))}$(".tooltip-container").removeClass("tooltip-active"),E.style("display","none"),a++}}))}e.forEach((function(e,t,n){setTimeout((function(){const n=e.data,o=e.lineColor,a=e.name,s=k(n);b.append("path").datum(s).attr("class","line").attr("id","line-"+t).attr("d",g).attr("stroke",o).attr("stroke-width","2").attr("fill","none");const i=b.select("#line-"+t),r=i.node().getTotalLength();i.attr("stroke-dasharray",`${r} ${r}`).attr("stroke-dashoffset",r).transition().duration(400).ease("linear").attr("stroke-dashoffset",0),b.append("g").attr("class","points").selectAll(".point").data(s).enter().append("circle").attr("class","point animated").attr("cx",(function(e){return m(e.date)})).attr("cy",(function(e){return p(e.usage)})).attr("r",5).attr("data-color",o).attr("data-name",a).attr("data-number",(function(e){return e.usage})).attr("data-date",(function(e){return e.date})).attr("fill",o)}),250*t),I++,n.length===I&&setTimeout(F,1e3)}))},$(".component-charting.donut-chart").length&&$(".component-charting.donut-chart").each((function(){$(this).donutChart(),setTimeout(function(){const e=$(this).find(".chart-container").height();$(this).find(".chart-container").height(e)}.bind(this),500)}));$(".component-charting.horizontal-bar-chart").length&&$(".component-charting.horizontal-bar-chart").each((function(){$(this).horizontalBarChartLoadText(),setTimeout(function(){const e=$(this).find(".chart-container").height();$(this).find(".chart-container").height(e)}.bind(this),500)}));let n=!0,o=0,a=0;$(window).scroll((function(){const e=$(this).scrollTop();n&&(a=$(this).outerHeight(),a==o?n=!1:(o=a,n=!0));const t=e+a;$(".component-charting").each((function(){const e=$(this),n=e.offset().top;let o;t>n+e.height()/2&&(e.hasClass("donut-chart")&&!e.hasClass("chart-animated")&&(e.addClass("chart-animated"),e.find(".chart-container").html("").parents(".donut-chart").donutChart(),e.hasClass("chart-animated")&&setTimeout((function(){e.find(".chart-container").height("100%"),o=e.height(),e.parents(".component-charting-container").hasClass("hide-link-list-tab")||e.find(".chart-container").height(o)}),800)),e.hasClass("horizontal-bar-chart")&&!e.hasClass("chart-animated")&&(e.addClass("chart-animated"),e.horizontalBarChartLoadNum(),e.hasClass("chart-animated")&&setTimeout((function(){e.find(".chart-container").height("100%")}),500))),$(this).parents(".component-charting-container-charting").hasClass("tab-slide-active")&&!$(this).parents(".component-charting-container").hasClass("hide-link-list-tab")&&$(this).addClass("chart-animated-click")}))})),$(window).resize((function(){n=!0,$(".chart-container").length&&$(".chart-container").each((function(e){$(this).height("100%")}))}))}()})))},function(e,t){},function(e,t){$(".component-columns").length&&$((function(){}))},function(e,t){$(".component-column-container").length&&$((function(){}))},function(e,t){$(".component-long-form-quote").length&&$((function(){$(window).scroll((function(){$(".component-long-form-quote.animate-longform").each((function(){const e=this,t=($(e).find(".component-long-form-quote-inner-container"),$(e).find(".component-long-form-quote-inner-container").offset().top+200);$(window).scrollTop()+window.innerHeight>t&&$(e).addClass("show-longform-container")}))})),$(window).trigger("scroll")}))},function(e,t){$(".component-longform-marquee").length&&$((function(){$(window).scroll((function(){$(".component-longform-marquee.animate-longform").each((function(){const e=this,t=$(e).find(".component-longform-marquee-inner-container").offset().top;$(window).scrollTop()+window.innerHeight>t&&$(e).addClass("show-longform-container")}))})),$(window).trigger("scroll")}))},function(e,t){$(".component-right-rail-container").length&&$((function(){}))},function(e,t){$(".component-right-rail").length&&$(document).ready((function(){const e=document.querySelector(".component-right-rail-container");let t=$(e).offset().top;const o=e.querySelector(".component-right-rail-expend"),a=e.querySelectorAll(".component-right-rail-expend-new"),s=document.querySelectorAll(".collapsed-new .component-right-rail-text-multifield"),i=document.querySelectorAll(".component-right-rail.sticky-logo-sec .component-right-rail-text-area"),r=document.querySelector(".component-right-rail.sticky-logo-sec"),l=document.querySelector(".component-right-rail.sticky-container-only");let c=getComputedStyle(e).marginTop;c=c.substr(0,c.length-2)-0;let d=0,u=e.offsetWidth;const m=document.getElementById("sn-footer")||document.getElementById("sNowGlobalNav-footer"),p=document.getElementById("right-rail-anchor");let f=p?$(p).offset().top-20:$(m).offset().top-80,g=!1;if(r){var h=document.querySelector(".component-right-rail.sticky-logo-sec .component-right-rail-asset-wrap");const t=$(r).find(".comp-full-bleed-bg-color").attr("class").split(" ");t.shift(),h.classList.add(t[0]);var v,w=h.nextElementSibling,y=[w.offsetHeight],b=$(h).offset();if($(h).parents(".component-columns").length){var C=$(h).parents(".component-columns").offset().top;v=[C+c],u=$(h).parents(".component-columns").width()}else v=[b.top];k(e,{width:u+"px"});var S=[];S.push($(r).offset().top+r.offsetHeight)}if(l){var x;if($(e).parents(".component-columns").length){C=$(e).parents(".component-columns").offset().top;x=[Math.max(t,C)]}else x=[b.top];const n=$(e).parents(".component-columns").width();k(e,{width:n+"px"})}function k(e,t){for(const n in t)e.style[n]=t[n]}function E(e,t,n,o,a,s){e+$(t).height()+n+o>a?(t.classList.add("stop-before-footer"),t.style.top=a-s-$(t).height()+"px"):(t.classList.remove("stop-before-footer"),k(t,{top:n+o-c+"px",width:u+"px"}))}function I(){k(h,{top:"auto",width:"auto",position:"relative"}),k(w,{marginTop:"0px",height:y[0]+"px",transition:"initial"}),k(e,{top:"auto"}),e.classList.remove("sticky-rail"),h.classList.remove("turned-sticky","arrow-upwards","fully-collapsed"),w.classList.remove("list-fully-expanded")}setTimeout((function(){for(let e=0;e<i.length;e++)i[e].style.height=i[e].getElementsByClassName("component-right-rail-text-multifield")[0].offsetHeight+"px",i[e]==i[i.length-1]&&k(w.querySelector(".component-right-rail-text-multifield"),{position:"absolute",bottom:"0px"})}),200),window.addEventListener("scroll",(function(){if(window.innerWidth>767){if(r){const o=$(h).outerHeight();d=window.pageYOffset;var n=document.getElementById("meganav18").offsetHeight||80;const a=v[v.length-1]-n-25,s=y/100*(d-a);let i=0;d>a?(w.classList.contains("list-fully-expanded")?E(d,e,n,25,f,t):(h.classList.add("turned-sticky"),k(h,{top:n+25+"px",width:u+"px"}),k(w,{marginTop:o+"px",height:y[0]-s+"px"}),i=d+n+25+o+s,i>S[S.length-1]?(k(w,{marginTop:"0px",height:"0.1px"}),k(h,{top:"0px",position:"relative"}),e.classList.add("sticky-rail"),h.classList.add("fully-collapsed"),h.classList.remove("arrow-upwards"),w.classList.remove("list-fully-expanded"),k(e,{top:n+25-c+"px",width:u+"px"}),E(d,e,n,25,f,t)):(h.classList.remove("fully-collapsed"),h.style.position="fixed",h.style.top=n+25+"px",w.style.marginTop=o+"px")),g=!0):g&&I()}if(l){d=window.pageYOffset;n=document.getElementById("meganav18").offsetHeight;const o=$(e).parents(".component-columns").width();d>x-n-25?(e.classList.add("sticky-rail"),k(e,{top:n+25+"px",width:o+"px"}),d+e.offsetHeight+n+25>f?(e.classList.add("stop-before-footer"),e.style.top=f-t-e.offsetHeight+"px"):(e.classList.remove("stop-before-footer"),k(e,{top:n+25-c+"px",width:o+"px"}))):(e.classList.remove("sticky-rail"),k(e,{top:"0px",width:o+"px"}))}}})),null!=o&&o.addEventListener("click",(function(){this.parentNode.nextElementSibling.classList.toggle("list-fully-expanded"),this.parentNode.nextElementSibling.classList.contains("list-fully-expanded")?(this.parentNode.nextElementSibling.style.transition="height 0.25s ease",this.parentNode.nextElementSibling.style.height=y[0]+"px",this.parentNode.classList.add("arrow-upwards")):(this.parentNode.nextElementSibling.style.height="0.1px",this.parentNode.classList.remove("arrow-upwards"),setTimeout(function(){this.parentNode.nextElementSibling.style.transition="initial"}.bind(this),300))}));const F=(e,t,n)=>{for(let o=0;o<e.length;o++)e[o].classList[n](t)};a.forEach(e=>{$(e).on("click",(function(){const e=!this.classList.contains("arrow-upwards");F(a,"arrow-upwards","remove"),F(s,"show","remove"),e&&(this.parentNode.nextElementSibling.classList.toggle("show"),this.classList.toggle("arrow-upwards"))}))}),window.addEventListener("resize",(function(){if(f=p?$(p).offset().top-20:$(m).offset().top-80,n&&(r&&(w.style.height=w.querySelector(".component-right-rail-text-multifield").offsetHeight+"px",y[0]=w.offsetHeight,u=$(h).parents(".component-columns").length?$(h).parents(".component-columns").width():e.offsetWidth,k(e,{width:u+"px"}),t=e.classList.contains("sticky-rail")?v[0]:$(e).offset().top,C=$(h).parents(".component-columns").offset().top,v=[C+c],window.innerWidth<768&&I()),l))if(window.innerWidth<768)e.classList.remove("sticky-rail"),k(e,{top:"auto",width:"auto"});else if($(e).parents(".component-columns").length){const t=$(e).parents(".component-columns").width();k(e,{width:t+"px"})}n=!0}))}));let n=!0},function(e,t){$(".component-social-sharing").length&&$((function(){!function(){document.querySelectorAll(".component-ss-item.ss-social-medias .component-ss-icon-collection-wrap li");const e=document.querySelector(".component-ss-item.ss-social-medias .component-ss-img"),t=document.querySelector(".component-ss-item.ss-social-print .component-ss-img");if(e){let t;const n=document.querySelectorAll(".component-ss-item.ss-social-medias .component-ss-icon-collection-wrap li");if(n){t=n.length;for(let e=0;e<n.length;e++)n[e].onmouseenter=function(){this.style.opacity="1",o.call(this,"0.6")},n[e].onmouseleave=function(){o.call(this,"1")}}const a=46*t;document.querySelector(".component-ss-item.ss-social-medias .component-ss-icon-collection-wrap").style.width=a+"px",e.addEventListener("click",(function(){this.classList.toggle("expand-socials"),this.parentNode.classList.toggle("social-active"),this.classList.contains("expand-socials")?this.parentNode.style.width=this.offsetWidth+a+"px":this.parentNode.style.width=this.offsetWidth+"px"}))}t&&t.addEventListener("click",(function(){var e;chromeIsNotResized=!1,e=n,$(window).scrollTop(0),e()}));function n(){$("body").append('<div class="print-loading-layer" data-html2canvas-ignore="true"><div class="print-loading-film"></div><div class="lds-roller-print"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>');const e=document.createElement("script");e.type="text/javascript",e.src="/etc.clientlibs/servicenow-www/clientlibs/servicenow-www-static/resources/js/html2canvas.min.js",e.className="html-to-canvas-lib",document.body.appendChild(e),setTimeout((function(){html2canvas(document.body).then((function(e){return e.toDataURL()})).then((function(e){if(0==$("body").find(".page-print-version").length){const t=document.createElement("IMG");t.src=e,t.className="page-print-version",t.style.display="block",document.body.appendChild(t)}})).then((function(){window.print(),setTimeout((function(){$(".page-print-version, .print-loading-layer, .html-to-canvas-lib").remove()}),500)}))}),2e3)}function o(e){for(let t=0;t<this.parentNode.children.length;t++)this.parentNode.children[t]!==this&&(this.parentNode.children[t].style.opacity=e)}}()}))},function(e,t){$(".component-stats-blade").length&&$((function(){}))},function(e,t){$(".component-copy-block-intro").length&&$((function(){}))},function(e,t){$(".component-lf-promo").length&&$(document).ready((function(){const e=$(".component-lf-promo.asset-left-variation");let t;setTimeout((function(){e.each((function(){const e=$(this).find(".content-lf-promo-asset-column"),n=$(this).find(".content-lf-promo-asset-column .component-asset-block");0==$(this).find(".content-lf-promo-icon-block, .content-lf-promo-item-background").children().length&&$(this).find(".content-lf-promo-icon-block, .content-lf-promo-item-background").remove(),$(window).outerWidth(!0)>1023?(t=$(this).height(),e.height(t),n.height(t).width(1.777777*t)):(e.removeAttr("style"),n.removeAttr("style"))})),$(window).resize((function(){e.each((function(){const e=$(this).find(".content-lf-promo-asset-column"),n=$(this).find(".content-lf-promo-asset-column .component-asset-block");$(window).outerWidth(!0)>1023?(t=$(this).height(),e.height(t),n.height(t).width(1.777777*t)):(e.removeAttr("style"),n.removeAttr("style"))}))}))}),500)}))},function(e,t){$(".component-long-form-copy-block").length&&$((function(){!function(){$(".tooltip").each((function(t){$(this).children(".tooltiptext").attr("id","tooltiptext"+t),$(this).on("click",(function(){event.stopPropagation(),$(this).find(".tooltiptext").css("display","flex"),e()}))})),$(".tooltip-cross").each((function(e){$(this).on("click",(function(e){e.stopPropagation(),$(this).parent(".tooltiptext").css("display","none")}))})),$(document).click((function(){$(".tooltiptext").css("display","none")})),$(".component-long-form-copy-block").each((function(){$(this).find("p, li").addClass("medium-body-copy");const e=$(this).attr("data-font-color");$(this).find("p, li, h1, h2, h3, h4").addClass(e)}));var e=function(){$(".tooltip").each((function(e){const t=$(window).width(),n=$("#tooltiptext"+e);n.css("width","50vw");const o=t-(n.offset().left+n.outerWidth());n.hasClass("right")?n.children(".tooltip-arrow").css({right:30}):n.children(".tooltip-arrow").css({left:30}),o-10<0&&(n.hasClass("right")||(n.children(".tooltip-arrow").css({left:"unset",right:30}),n.removeClass("left").addClass("right"))),n.offset().left-10<0&&(n.hasClass("left")||(n.children(".tooltip-arrow").css({right:"unset",left:30}),n.removeClass("right").addClass("left"))),t<=375&&(n.css({left:"unset",right:"unset",width:$(this).width()}),n.children(".tooltip-arrow").css({left:"unset",right:"unset"}))}))};e(),$(window).resize(e)}()}))},function(e,t){$(".component-long-form-call-out").length&&$((function(){$(window).scroll((function(){$(".component-long-form-call-out").each((function(){const e=$(this).find(".flex-box-container");if($(e).hasClass("has-animation")){const t=$(e).offset().top+200;$(window).scrollTop()+window.innerHeight>t&&$(this).addClass("show-flex-container")}}))})),$(window).trigger("scroll")}))},function(e,t){let n;$(".component-visual-container").length&&$((function(){$(window).scroll((function(){$(".component-visual-container").each((function(){const e=$(this).find(".with-image");if($(e).length){const t=$(e).offset().top+200;$(window).scrollTop()+window.innerHeight>t&&$(this).addClass("show-image-container")}}))})),$(window).trigger("scroll"),$(".zoom-overlay").click((function(){const e=$(this).closest("section")[0].getAttribute("id");$("#overlay-id-"+e).css({display:"block"}),$("#overlay-id-"+e).toggleClass("overlay-displayed"),n=$(this);const t=$(this).offset().top-$(document).scrollTop(),{left:o}=$(this).offset(),a=$(this).width();$(`#overlay-id-${e} .asset-cont`).css({top:t,left:o,width:a,position:"absolute",height:"auto",opacity:1}),$(`#overlay-id-${e} .asset-cont`).animate({top:"80px",left:"10%",width:"80%",height:"auto",opacity:1},200)})),$(".img-zoom-overlay").click((function(){const e=$(this).closest("section")[0].getAttribute("id");$("#overlay-id-"+e).toggleClass("overlay-displayed");const t=n.offset().top-$(document).scrollTop(),{left:o}=n.offset(),a=n.width();$(`#overlay-id-${e} .asset-cont`).animate({top:t,left:o,width:a,height:"auto"},200,(function(){$("#overlay-id-"+e).css({display:"none"})}))}))}))},function(e,t){function n(){const e=$(".info-icon > img");if(e.length>0)for(let t=0;t<e.length;t++){const n=$(e[t]).offset().left,o=$(e[t]).parent(),a=$(window).width();a<=320?($(o).removeClass("right center left"),$(e[t]).siblings(".tooltip").css("left",-(n-26)),n<272?$(e[t]).siblings(".tooltip").children(".tooltip-arrow").css("left",n-26):$(e[t]).siblings(".tooltip").children(".tooltip-arrow").css("left",249)):($(e[t]).siblings(".tooltip").css("left",""),$(e[t]).siblings(".tooltip").children(".tooltip-arrow").css("left",""),$(o).removeClass("left right").addClass("center"),n<170?$(o).removeClass("right center").addClass("left"):(a<=767&&a-n<=115||a>=768&&a-n<=300)&&$(o).removeClass("left center").addClass("right"))}}$(".component-sra-scorecard").length&&$((function(){$(".info-icon").click((function(){$(this).toggleClass("active"),$(".info-icon").not($(this)).removeClass("active"),$(".info-icon").each((function(){$(this).find(".info-icon-img").attr("src",$(this).hasClass("active")?"/content/dam/servicenow-assets/public/en-us/images/success-navigator/icon-info-reverse.png":"/content/dam/servicenow-assets/public/en-us/images/success-navigator/icon-info.png")}))})),$(".tooltip-close").click((function(){const e=$(this).closest("info-icon");e.removeClass("active"),e.first("img").attr("src","/content/dam/servicenow-assets/public/en-us/images/success-navigator/icon-info.png"),$(this).closest("info-icon").removeClass("active")})),n(),$(window).resize(n)}))},function(e,t){$(".component-sra-scorecard-container").length&&$((function(){!function(){if($(".component-sra-scorecard-container .sra-scorecard-archives #pdfPagePath").length>0&&$(".component-sra-scorecard-container .sra-scorecard-archives #pdfPagePath").val().length>0){const e=window.location.origin+$(".component-sra-scorecard-container .sra-scorecard-archives #pdfPagePath").val(),t="False";let n=window.location.href;void 0!==window.siteURL&&(n=window.siteURL);const o=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("pillarId",n),a=`${e}?current=${t}%26pillarId=${o}`;$(".component-sra-scorecard-container .sra-scorecard-archives .downloadOldPdf").attr("href","/bin/servicenow/sra/pdfgenerator?pagePath="+a),$(".component-sra-scorecard-container .sra-scorecard-archives .downloadOldPdf").click((function(){let e,t;$(".sra-scorecard-archives .my-account-loading-layer").addClass("show-loading-layer");var n=setInterval((function(){e=setTimeout((function(){t=getCookie("snpdfGenerated")}),200),t&&($(".sra-scorecard-archives .my-account-loading-layer").removeClass("show-loading-layer"),deleteCookie("snpdfGenerated"),clearTimeout(e),clearInterval(n))}),2e3)}))}}()}))},function(e,t){$(".component-progress-bar").length&&$((function(){}))},function(e,t){function n(){const e=$(".overlay-tooltip");if(e.length>0)for(let t=0;t<e.length;t++){const n=$(e[t]),o=n.parent(".tooltip-reference"),a=n.offset().left,s=$(window).width()-(n.offset().left+n.outerWidth());if($(window).width()<=480){const e=o.offset().left,t=o.parents(".question-container").offset().left;n.css("left",t-e),n.css("width",o.parents(".question-container").width()),n.children(".overlay-tooltip-arrow").css("left",o.offset().left-10)}else a<26?(n.parent(".tooltip-reference").removeClass("right center").addClass("left"),n.css({left:0,right:"unset"}),n.children(".overlay-tooltip-arrow").css({left:"2rem",right:"unset"})):s<26&&(n.parent(".tooltip-reference").removeClass("left center").addClass("right"),n.css({right:0,left:"unset"}),n.children(".overlay-tooltip-arrow").css({left:"unset",right:"2rem"}))}}$(".component-assessment-overlay").length&&$((function(){!function(e,t){let o,a,s={pillar:"",questions:{}},i=[],r=[],l=[],c=!1;const d=function(e){e+="%";$(".component-assessment-overlay .progress-bar .progress-bar-percentage").animate({width:e},50),$(".component-assessment-overlay .progress-bar .progress-bar-percentage-tip").animate({left:e},50)},u=function(e,t){let n;return t.forEach((function(t,o){t.id===e&&(n=o)})),n},m=function(e,t,n){let o="";if(o="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):decodeURIComponent(function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}("userId")),null!==sessionStorage.getItem("pillar-questions")&&void 0!==sessionStorage.getItem("pillar-questions")){const t=JSON.parse(sessionStorage.getItem("pillar-questions"));"function"==typeof n&&(pillarIndex=u(e,t),e=t,n.call(this,t[pillarIndex]))}else $.ajax({url:t,type:"GET",cache:!1,data:{userName:o},contentType:"application/json",success(t){sessionStorage.setItem("pillar-questions",JSON.stringify(t)),"function"==typeof n&&(pillarIndex=u(e,t),e=t,n.call(this,t[pillarIndex]))}})};$(".init-assessment").click((function(){if(function(){const e=ContextHub.getStore("servicenow-sso").getItem("fName"),t=ContextHub.getStore("servicenow-sso").getItem("LName"),n=ContextHub.getStore("servicenow-sso").getItem("myEmail"),o=ContextHub.getStore("servicenow-sso").getItem("company"),a=ContextHub.getStore("servicenow-sso").getItem("jobLevel"),s=ContextHub.getStore("servicenow-sso").getItem("jobRole"),i=ContextHub.getStore("servicenow-sso").getItem("jobFunction"),r=ContextHub.getStore("servicenow-sso").getItem("country"),l=ContextHub.getStore("servicenow-sso").getItem("businessPhone");return e&&t&&n&&o&&a&&s&&i&&r&&l}()){const e=$(this).attr("data-params"),n=$(this).attr("data-pillar-id");let a={};void 0!==e&&(a=JSON.parse(e)),t=a,m(parseInt(n),"/bin/servicenow/sra/getpillarquestions",(function(e){let t;if(o=e,e){s.pillar=e.id;const n=$("h3.pillar-title").attr("pilar-title");$("h3.pillar-title").text(`${n} ${e.id}: ${e.title}`),void 0!==o.questions&&o.questions.length>0&&(t=o.questions[0].code,S(t))}}))}else!function(e){const t=e.attr("data-message"),n=e.attr("data-link");let o="";t&&(o+=t+" "),n&&(o+=`<p><a href='#'>${n}</a></p>`),e.removeClass("error-msg-hidden"),e.html(o),e.find("a").on("click",(function(){const e="//"+window.location.host;navigateTo(e+"/my-account/my-account-manage-profile.html #my-account-manage-profile",null),sessionStorage.setItem("updateIncompleteUserInfo",!0),$(".component-sra-pillar-card .error-msg").addClass("error-msg-hidden"),$("#tab-myaccount a").click()}))}($(this).parents(".component-sra-pillar-card").find(".error-msg"))}));var p=function(e){i.push(e)},f=function(){return i.pop()},g=function(e){r.push(e)},h=function(){return r.pop()};const v=function(){!function(e){const t=h();void 0!==t&&(p(e),S(t))}(a)},w=function(){!function(e){const t=f();void 0!==t&&(g(e),l.push(e),$(".submit").hasClass("hidden")||$(".submit").addClass("hidden"),S(t))}(a)};$(".prev-question").click((function(){w()})),$(".next-question").click((function(){v()})),$(".component-overlay-close-btn").click((function(){$(".alert-overlay.hidden").removeClass("hidden")})),$(".alert-overlay .continue-btn").click((function(){$(".alert-overlay").addClass("hidden")})),$(".alert-overlay .component-overlay-close-btn").click((function(){$(".alert-overlay").addClass("hidden")}));const y=function(e){o={},s={pillar:"",questions:{}},i=[],r=[],l=[],d(0),c=!1,$(".component-overlay-assessment").each((function(){$(this).removeClass("no-transition")})),e&&($(".submit").hasClass("hidden")||$(".submit").addClass("hidden"),setTimeout((function(){$("body").removeClass("no-scroll-new")}),400),setTimeout((function(){$(".component-overlay-assessment").removeClass("active-overlay"),$(".component-overlay-container-assessment").removeClass("overlay-modal-open")}),800))};$(".alert-overlay .close-btn").click((function(){$(".alert-overlay").addClass("hidden"),y(!0)}));const b=function(e,t){let n=-1;return t.forEach((function(t,o){t.SPID===e&&(n=o)})),n},C=function(e,t){let n=null;return e.forEach((function(e,o){t>=e.minimumValue&&t<=e.maximumValue&&(n=e)})),n};$(".submit").click((function(){const e=$(this).attr("res-url"),n={MPID:s.pillar,Score:0,Level:"",Outcome:"",actionplan:"",completionDate:"",SubPillars:[],questions:[]};Object.keys(s.questions).forEach((function(e){n.questions.push(s.questions[e])}));const a=[];o.questions.forEach((function(e,t){const s=function(e,t){let n=-1;return t.questions.forEach((function(t,o){t.code===e&&(n=o)})),n}(e.code,n);let i={},r={};if(-1!==s){if(-1!==(l=b(e.subpillarId,a)))a[l].Results[n.questions[s].code]=parseInt(n.questions[s].value),a[l].Score=a[l].Score+parseInt(n.questions[s].value),i=C(e.maturityLevels,a[l].Score),a[l].Level=i.name,a[l].Outcome=i.outcome,a[l].MaturityId=i.id,n.Score+=parseInt(n.questions[s].value),r=C(o.maturityLevels,n.Score),n.Level=r.name,n.Outcome=r.outcome;else(c={SPID:e.subpillarId,Score:0,Level:"",Outcome:"",MaturityId:"",Results:{}}).Results[n.questions[s].code]=parseInt(n.questions[s].value),c.Score+=parseInt(n.questions[s].value),a.push(c),i=C(e.maturityLevels,c.Score),c.Level=i.name,c.Outcome=i.outcome,c.MaturityId=i.id,n.Score+=parseInt(n.questions[s].value),r=C(o.maturityLevels,n.Score),n.Level=r.name,n.Outcome=r.outcome}else{var l=b(e.subpillarId,a);let t=0;var c;if(void 0!==e.skipValue&&(t=e.skipValue),-1!==l)a[l].Results[e.code]=parseInt(t),a[l].Score=a[l].Score+parseInt(t),i=C(e.maturityLevels,a[l].Score),a[l].Level=i.name,a[l].Outcome=i.outcome,a[l].MaturityId=i.id,n.Score+=parseInt(t),r=C(o.maturityLevels,n.Score),n.Level=r.name,n.Outcome=r.outcome;else(c={SPID:e.subpillarId,Score:0,Level:"",Outcome:"",MaturityId:"",Results:{}}).Results[e.code]=parseInt(t),c.Score+=parseInt(t),a.push(c),i=C(e.maturityLevels,c.Score),c.Level=i.name,c.Outcome=i.outcome,c.MaturityId=i.id,n.Score+=parseInt(t),r=C(o.maturityLevels,n.Score),n.Level=r.name,n.Outcome=r.outcome}}));const i=new Date,r=`${("0"+i.getDate()).substr(-2,2)}${("0"+i.getMonth()).substr(-2,2)}${i.getFullYear()}${("0"+i.getHours()).substr(-2,2)}:${("0"+i.getMinutes()).substr(-2,2)}:${("0"+i.getSeconds()).substr(-2,2)}`;n.SubPillars=a,n.completionDate=r,delete n.questions;let l;if(sessionStorage.getItem("s_dmdbase_target")){const e=sessionStorage.getItem("s_dmdbase_target");l=JSON.parse(e)["profile.ip"]}const c={Type:"successnav",Assessments:n,PageUrl:window.location.href,RedirectURL:"",IpAddress:l,ReferenceSource:function(e){const t=window.location.search.substring(1).split("&");let n,o;for(o=0;o<t.length;o++)if(n=t[o].split("="),n[0]===e)return void 0===n[1]||decodeURIComponent(n[1])}("referencesource")};Object.keys(t).forEach((function(e,n){c[e]=t[e]})),$(".component-assessment-overlay .my-account-loading-layer").addClass("show-loading-layer"),$.ajax({url:"/bin/servicenow/sra/assessmentResults",type:"POST",data:{resultsJson:JSON.stringify(c)},success(){!function(){const t=ContextHub.getStore("servicenow-sso").getItem("fName"),n=ContextHub.getStore("servicenow-sso").getItem("LName");let o="";t&&(o=t),n&&(o+=" "+n),$.ajax({url:"/bin/servicenow/assettrack",type:"POST",data:{activityValue:"Success Pillar "+c.Assessments.MPID,activityType:"Assessment",username:o},success(){void 0!==e&&(window.location.href=e+".html?"+`pillarId=${c.Assessments.MPID}&current=true`,y(!1),$(".component-assessment-overlay .my-account-loading-layer").removeClass("show-loading-layer"))},error(t){void 0!==t&&(y(!1),$(".component-assessment-overlay .my-account-loading-layer").removeClass("show-loading-layer")),void 0!==e&&(window.location.href=e+".html?"+`pillarId=${c.Assessments.MPID}&current=true`)}})}()},error(e){void 0!==e&&(y(!1),$(".component-assessment-overlay .my-account-loading-layer").removeClass("show-loading-layer"))}})}));var S=function(e){let t;if(questionIndex=function(e){let t;return o.questions.forEach((function(n,o){n.code===e&&(t=o)})),t}(e),c=!0,"END"!==e&&"None"!==e&""!==e){void 0!==s.questions[e]&&(t=s.questions[e].value),$(".assessment-overlay-body ul").empty(),i.length>0?$(".assessment-overlay-footer .prev-question").addClass("enabled"):$(".assessment-overlay-footer .prev-question").removeClass("enabled"),r.length>0?$(".assessment-overlay-footer .next-question").addClass("enabled"):$(".assessment-overlay-footer .next-question").removeClass("enabled"),a=e,c=!0;const n=Object.keys(o.questions).length,u=100*questionIndex/n;d(Math.round(u)),$(".percentage-text").text(Math.round(u)+"% completed");const m=o.questions[questionIndex],f=m.answers,g=$('<div class="overlay-tooltip">\n          <span class="overlay-tooltip-arrow">\n          </span>\n          <div class="overlay-tooltip-body">\n          </div>\n        </div>');if(void 0!==m.tooltip){const e=function(e,t){const n=function(e){if(e.indexOf("-")>0)return"-";if(e.indexOf("–"))return"–"}(t),o=t.split(n)[0].trim().toLowerCase(),a=e.toLowerCase().indexOf(o);if(a>0){let t=""+e.slice(a+o.length,e.length);1===t.length&&"."===t[0]||(t=" "+t);const n=`${e.slice(0,a)}<a class='tooltip-reference'>${o}</a>${t}`;$(".assessment-overlay-body .question-text").text(""),$(".tooltip-reference").length>0&&$(".tooltip-reference").remove(),$(".assessment-overlay-body .question-text").append(n)}}(m.questionDesc,m.tooltip);$(".assessment-overlay-body .question-text").text(e),g.appendTo(".tooltip-reference"),$(".component-assessment-overlay .overlay-tooltip-body").text(m.tooltip)}else $(".assessment-overlay-body .question-text").text(m.questionDesc);x(),f.forEach((function(e,n){const o=$("<li></li>"),a=$('<div class="answer-text"></div>');a.text(e.description).appendTo(o);const i=$('<div class="answer-number"></div>');i.text(n+1).appendTo(o),parseInt(t)===parseInt(e.value)&&(i.addClass("selected"),a.addClass("selected")),m.multiscale&&a.addClass("multiscale"),o.attr({prev:m.code,next:e.nextQuestion,value:e.value,"current-question":m.id,"sub-pillar":m.subpillarId}).click((function(){const e=$(this).attr("next"),t=$(this).attr("current-question"),n=$(this).attr("value"),o=$(this).attr("prev"),a=$(this).attr("sub-pilar");$("li .answer-number").removeClass("selected"),$("li .answer-text").removeClass("selected"),$(this).find(".answer-text").addClass("selected"),$(this).find(".answer-number").addClass("selected"),function(e,t,n,o){l.length>0&&l.forEach((function(e){delete s.questions[e]})),r=[],s.questions[n]={id:e,value:t,subpillarId:o,code:n}}(t,n,o,a),"None"!==e&&"END"!==e&&""!==e?(p(o),S(e),$(".submit").hasClass("hidden")||$(".submit").addClass("hidden")):(c=!1,d(Math.round(100)),c=!1,$(".percentage-text").text("100% completed"),$(".submit").removeClass("hidden"))})),o.appendTo(".assessment-overlay-body ul")}))}else c=!1,d(Math.round(100)),c=!1,$(".percentage-text").text("100% completed");n()};function x(){$(window).width()>768?($(".tooltip-reference").mouseenter((function(e){n(),$(".overlay-tooltip").addClass("active"),e.stopPropagation()})),$(".tooltip-reference").mouseleave((function(e){n(),$(".overlay-tooltip").removeClass("active"),e.stopPropagation()}))):$(".tooltip-reference").click((function(e){n(),$(".overlay-tooltip").toggleClass("active"),e.stopPropagation()}))}$(window).resize((function(){n(),x()}))}(0,{CampaignName:"CampaignName",CampaignId:"CampaignName",CampaignAsset:"CampaignAsset",FormName:"FormName"})}))},function(e,t){$(".component-filter-new").length&&$((function(){!function(){const e=document.getElementsByClassName("filter-container")[0].getElementsByClassName("filter-options")[0];$(".filter-container").click((function(){const e=$(this).closest(".filter-container");s(e),$(e).find(".filter-select-chevron").toggleClass("down"),n(e)})),$(".component-filter-new .filter-options .filter-option-value").click((function(){const e=$(this).closest(".filter-container"),t=$(this).html();$(e).find(".filter-select-box .filter-select-text").html(t);const n=$(this).attr("data-filter");$(e).find(".filter-select-text").attr("data-filter",n),a(e),$(e).find(`.mobile-version .filter-select-text option[data-filter ="${n}"]`).prop("selected",!0)})),$(document).bind("click",(function(t){const n=$(t.target);if(n.is(".filter-category-title")){const t=$(this).closest(".filter-container");e.classList.remove("show-hide"),$(n).find(".filter-select-chevron").addClass("down"),a(t)}else if(!n.parents().hasClass("filter-container")){const t=$(this).closest(".filter-container");e.classList.add("show-hide"),$(n).find(".filter-select-chevron").removeClass("down"),o(t)}})),$(".mobile-version .filter-select-text").change((function(){const e=$(this).closest(".filter-container"),t=$(e).find("option:selected");$(e).find(`.filter-options .filter-option-value[data-filter ="${t.attr("data-filter")}"]`).click();const n=t.html();$(e).find(".filter-select-box .filter-select-text").text(n),$(e).find(".filter-options").addClass("show-hide"),a(e),$(e).find(".filter-select-chevron").removeClass("down")}))}()}));var n=function(e){$(e).find(".filter-select-icon").toggleClass("remove-opacity"),$(e).find(".filter-chevron").toggleClass("remove-opacity")},o=function(e){$(e).find(".filter-select-icon").removeClass("remove-opacity"),$(e).find(".filter-chevron").removeClass("remove-opacity")},a=function(e){$(e).find(".filter-select-icon").addClass("remove-opacity"),$(e).find(".filter-chevron").addClass("remove-opacity")},s=function(e){$(e).find(".filter-options").toggleClass("show-hide")}},function(e,t){$(".component-agenda").length&&$((function(){$(window);!function(){const e=this||{};e.$doc=$(".component-agenda");const t=$(window),n=e.$doc.find(".text-nav-wrapper"),o=e.$doc.find(".tab-link.current"),a=(o.width(),o.position(),o.attr("title-tag")||""),s=e.$doc.find(".event-title-head");s.html(a),e.$doc.find(".tab-link").click((function(){const e=$(this),o=e.attr("data-tab"),a=e.attr("title-tag")||"";$(".event-title-head").html(a),$(".tabs .tab-link").removeClass("current"),$(".tab-content").removeClass("current"),e.addClass("current"),$("#"+o).addClass("current"),s.html(a);const i=$(e).offset(),r=$(e).width(),l=t.width()/2,c=$(e).parent().offset(),d={left:i.left+r/2-c.left-l};n.animate({scrollLeft:d.left},250)})),t.resize((function(){const o=e.$doc.find(".tab-link.current"),a=$(o).offset(),s=$(o).width(),i=t.width()/2,r=$(o).parent().offset(),l={left:a.left+s/2-r.left-i};n.animate({scrollLeft:l.left},250,(function(){$(o).offset(),$(o).position()}))}));const i=e.$doc.find(".clickable");let r;for(r=0;r<i.length;r++)i[r].nextElementSibling||(i[r].lastElementChild.style.visibility="hidden"),i[r].addEventListener("click",(function(){if(this.classList.toggle("active"),this.nextElementSibling){const e=this.getElementsByClassName("accordion-chevron")[0],t=this.nextElementSibling,n=t.firstElementChild.nextElementSibling;"flex"==this.nextElementSibling.style.display?(e.classList.remove("down"),$(this.nextElementSibling).fadeOut("slow"),t.style.maxHeight=null):($(this.nextElementSibling).fadeIn("slow"),t.style.maxHeight=n.scrollHeight+"px",this.nextElementSibling.style.display="flex",e.classList.add("down"))}}));$(".filter-options").click((function(){const e=$(".filter-select-text").attr("data-filter");("all"!=e||e)&&($(`.accordion.agenda[data-filter !="${e}"]`).hide(),$(`.accordion.agenda[data-filter*="${e}"]`).show(),$('.accordion.agenda[data-filter ="default"]').show()),"all"==e&&$(".accordion.agenda").show()})),$(".mobile-version .filter-select-text").change((function(){const e=$(".filter-select-text option:selected").attr("data-filter");("all"!=e||e)&&($(`.accordion.agenda[data-filter !="${e}"]`).hide(),$(`.accordion.agenda[data-filter*="${e}"]`).show(),$('.accordion.agenda[data-filter ="default"]').show()),"all"==e&&$(".accordion.agenda").show()}))}(),$(window).scroll((function(){const e=this||{};e.$doc=$(".component-agenda");const t=$(".component-agenda .navigations"),n=(e.$doc.children(".agenda-container"),e.$doc.height()),o=t.height(),a=e.$doc.offset().top,s=$(this).scrollTop(),i=$(".in-page-navigation-component").height()||0,r=a+n/3*2;s>a-i&&s<r?(t.addClass("sticky-agenda-tab"),t.css("top",i),e.$doc.css("padding-top",o)):s>a-i&&s>r?t.css("top",i+r-s):(t.removeClass("sticky-agenda-tab"),t.css("display, none"),t.css("top",0),e.$doc.css("padding-top","0"))}))}))},function(e,t){if($(".component-success-navigator-overlay").length){const e=[],t=JSON.parse($(".sraAnswer").val()),a={Type:"successnav",Assessments:{MPID:t.Assessments.MPID,actionplan:"",completionDate:t.Assessments.completionDate,SubPillars:[]}};$(".group-container").each((function(t){$(".grp-cnt"+t).find(".plan").each((function(){$(this).hasClass("selected-plan")&&e.push({group:".grp-cnt"+t,value:$(this).attr("class").split(" ")[1]})}))})),t.Assessments.SubPillars.forEach((function(e){a.Assessments.SubPillars.push({SPID:e.SPID,Outcome:e.Outcome})}));const s=$(".component-success-navigator-overlay");function n(){$(".modal-container").css("width","80%").css("max-width","unset"),$(".plan-ready").css("display","none"),$(".group-container").each((function(e){0==e?$(".grp-cnt"+e).css("display","block"):$(".grp-cnt"+e).css("display","none")})),$(".plan").removeClass("selected-plan"),$(".group-container").each((function(t){$(".grp-cnt"+t).find(".plan").each((function(){$(this).hasClass(e[t].value)&&$(this).addClass("selected-plan")}))}))}$(".group-container").each((function(e){const t=$(".grp-cnt"+e);t.find(".plan").each((function(){const e=$(this);e.click((function(){t.find(".plan").removeClass("selected-plan"),e.addClass("selected-plan");const n=t.find(".selected-plan").find(".title").text(),o=t.find(".selected-plan").attr("id");a.Assessments.SubPillars.forEach((function(e){e.SPID==o&&(e.Outcome=n)}))}))})),$(".grp-cnt"+e).find(".step-number").each((function(e){const t=e+1;$(this).text(`Step ${t}:`),$(".saveCta"+e).click((function(){$(".grp-cnt"+e).css("display","none");$(".grp-cnt"+(e+1)).css("display","block")}))})),e>0&&$(".grp-cnt"+e).css("display","none")})),$(".component-overlay-new-close-btn").click((function(){"none"!=$(".plan-ready").css("display")?(n(),s.css("display","none")):$(".alert-overlay.hidden").removeClass("hidden")})),$(".open-sra-modal").click((function(){s.css("display","block")})),$(".alert-overlay .continue-btn").click((function(){$(".alert-overlay").addClass("hidden")})),$(".alert-overlay .component-overlay-close-btn").click((function(){$(".alert-overlay").addClass("hidden")})),$(".alert-overlay .close-btn").click((function(){n(),$(".alert-overlay").addClass("hidden"),s.css("display","none")})),$(".ctaDone").click((function(){const e=function(e,t){t||(t=window.location.href);e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("pillarId",window.siteURL);let t;"undefined"!=typeof ContextHub&&(t=ContextHub.getStore("servicenow-sso").getItem("eloqua_pillar"+e));let i="";i="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):decodeURIComponent(o("userId"));let r="";if(sessionStorage.getItem("s_dmdbase_target")){const e=sessionStorage.getItem("s_dmdbase_target");r=JSON.parse(e)["profile.ip"]}$(".component-success-navigator-overlay .my-account-loading-layer").addClass("show-loading-layer"),$.ajax({url:"/bin/servicenow/sra/updateactionplan",method:"POST",data:{userName:i,updatedPlan:JSON.stringify(a),ipAddress:r,eloquaParams:t},success(){$(".modal-container").css("max-width","788px"),$(".group-container").css("display","none"),$(".plan-ready").css("display","block"),$(".component-success-navigator-overlay .my-account-loading-layer").removeClass("show-loading-layer"),$(".viewDownloadCta").click((function(){n(),s.css("display","none"),location.reload()})),$(".component-overlay-new-close-btn").click((function(){n(),s.css("display","none"),location.reload()}))},error(){n(),s.css("display","none"),location.reload()}})}));var o=function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}}},function(e,t){$(".component-sra-pillar-card").length&&$((function(){}))},function(e,t){$(".component-sra-pillar-card-container").length&&$((function(){!function(){$(".show-static .component-sra-pillar-card").each((function(e,t){$(t).attr("pillar-id");const n=$(t);n.removeClass("completed");const o=n.find(".completed-check");$(o).css({display:"none"});const a=n.find("input")[0];$(a).hide(),$(".card-wrapper .card-content").each((function(e,t){$(t).css("padding-bottom","4rem")}))}));var e=function(e,t){e=parseInt(e);let n=!1;return t.forEach((function(t,o){t.id===e&&!0===t.completed&&(!function(){if($(".marquee-medium-component").length>0){const e=$("#returnUserTitle").val(),t=$("#returnUserDescription").val();null!=e&&$(".marquee-medium-title h1").text(e),null!=t&&""!==t&&void 0!==t&&$(".marquee-medium-subtitle p").text(t)}}(),n=!0)})),n};$(".show-dynamic .component-sra-pillar-card").length&&$.ajax({url:"/bin/servicenow/sra/getpillarquestions",type:"GET",cache:!1,contentType:"application/json",success(t){const n=JSON.stringify(t);var o;sessionStorage.setItem("pillar-questions",n),o=t,$(".show-dynamic .component-sra-pillar-card").each((function(t,n){const a=$(n).attr("pillar-id");if(e(a,o)){const e=$(n);e.addClass("completed");const t=e.find(".completed-check");$(t).css({display:"block"});const o=e.find("input")[0];$(o).unbind(),$(o).removeClass("overlay-open"),$(o).removeClass("init-assessment"),$(o).addClass("update-assessment");const a=$(o).attr("completed-text");$(o).attr("value",a),$(o).attr("data-com-cta",a)}})),$(".update-assessment").click((function(){const e=$(this).attr("data-result-page"),t=$(this).attr("data-index"),n=$(this).attr("data-params");"undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")&&ContextHub.getStore("servicenow-sso").setItem("eloqua_pillar"+t,n),void 0!==e&&(window.location.href=`${e}?pillarId=${t}&current=true`)}))}});$(".btn-redirect-pillar").click((function(){const e=$(this).attr("data-result-page");void 0!==e&&(window.location.href=e)}))}()}))},function(e,t){$(".component-overlay-assessment").length&&$((function(){}))},function(e,t){$(document).ready((function(){if($(".component-overlay-container-assessment").length>0){const n=$(".component-overlay-assessment"),o=$(".overlay-open");$(".component-overlay-container-assessment").each((function(){$(this).attr("data-container-tag");$(this).find(".component-overlay-assessment").length<=1&&$(this).addClass("single-overlay")}));let a=$(window).scrollTop();function e(){const e=$(window).height();$(".component-overlay-container-assessment").each((function(){$(this).height(e)}))}function t(){$(".component-overlay-container-assessment").each((function(){$(this).find(".component-assessment-overlay").height()}))}o.on("click",(function(e){$(this).hasClass("subscribe-submit-button-assessment")&&function(){const e=ContextHub.getStore("servicenow-sso").getItem("fName"),t=ContextHub.getStore("servicenow-sso").getItem("LName"),n=ContextHub.getStore("servicenow-sso").getItem("myEmail"),o=ContextHub.getStore("servicenow-sso").getItem("company"),a=ContextHub.getStore("servicenow-sso").getItem("jobLevel"),s=ContextHub.getStore("servicenow-sso").getItem("jobRole"),i=ContextHub.getStore("servicenow-sso").getItem("jobFunction"),r=ContextHub.getStore("servicenow-sso").getItem("country"),l=ContextHub.getStore("servicenow-sso").getItem("businessPhone");return e&&t&&n&&o&&a&&s&&i&&r&&l}()&&(a=$(window).scrollTop(),e.preventDefault(),n.each((function(){$(this).hasClass("active-overlay")||($(this).addClass("active-overlay"),$(this).closest(".component-overlay-container-assessment").addClass("overlay-modal-open"),$(".overlay-modal-open").scrollTop(0),$("body").addClass("no-scroll-new")),$(this).addClass("no-transition")})))})),e(),t(),$(window).resize((function(){e(),t()}))}}))},function(e,t){$(".component-tile-new").length&&$((function(){$(".component-tile-new").each((function(){const e=$(this).closest(".tileV2"),t=window.location.search;if($(this).hasClass("featured")&&$(e).addClass("featured-tile-new"),!t)return;const n=e.find(".cta-component a"),o=$(n).attr("href");$(n).attr("href",()=>{const e=t.substr(1);return o.indexOf("?")>-1?`${o}&${e}`:`${o}?${e}`})}))})),window.tileTemplate=function(e){const t=e.topic?`data-topic="${e.topic}"`:"",n=e.variant?`data-com-name-variant="${e.variant}"`:'data-com-name-variant="default"',o=e.altText?`aria-label="${e.altText}"`:"",a=e.image?`<div class="component-tile-image-container">\n      <div class="component-tile-image" style="background-image: url(${e.image})" role="img" ${o}></div>\n    </div>`:"",s=e.description?`<p>${e.description}</p>`:"",i=e.urlText?e.urlText:"",r=i?`data-com-cta="${i}"`:"",l=e.url?`\n    <div class="component-tile-overlay">\n      <a ${r} href="${e.url}"></a>\n    </div>`:"",c=e.url?`\n    <div class="table-bottom-container cta-or-logo">\n      <div class="cta-or-logo-container">\n        <div class="cta-component cta-text-arrow gable-green-text">\n          <a ${r} href="${e.url}">\n            ${i}\n            <span class="cta-title-link-arrow">\n              <svg width="55px" height="14px" viewBox="0 0 24 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n              <g id="svg-group" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"> \n              <g id="Secondary-CTA-Dark" transform="translate(-102.000000, -8.000000)" stroke="currentColor" stroke-width="2"> <g transform="translate(0.000000, 5.000000)" id="Page-1"> <g transform="translate(103.000000, 4.000000)">\n              <g class="path-1"> <path d="M0,5 L31,5" id="Stroke-1"></path> <polyline id="polyline-3" points="17 10 22 5 17 0"></polyline> </g> </g> </g> </g> </g></svg>\n            </span>\n          </a>\n        </div>\n      </div>\n    </div>\n  `:"";return`\n    <div class="tileV2">\n      <div class="component-tile-new" data-com-name="tilev2" ${n} ${t} style="top: 0px;">\n        ${l}\n        ${a}\n        <div class="component-tile-text-container-container">\n          <div class="component-tile-text-container" style="min-height: 195px;">\n            <h6><span>${e.publishDateStr}</span></h6>\n            <header class="tile-new-title">\n              <h3 data-com-title="Tile Title Year 2019">${e.title}</h3>\n            </header>\n            ${s}\n            ${c}\n          </div>\n        </div>\n      </div>\n    </div>\n  `}},function(e,t){$(".accordion-container").length>0&&$((function(){$(".accordion-container").click((function(){const e=this;$(e).toggleClass("accordion-container-expanded"),$(e).hasClass("accordion-container-expanded")?($(e).find(".accordion-container-answer").hide(),$(e).find(".accordion-container-answer").slideDown()):($(e).find(".accordion-container-answer").show(),$(e).find(".accordion-container-answer").slideUp())}))}))},function(e,t){$(".component-faq-component").length&&$((function(){}))},function(e,t){$(".event-overlay-container").length&&$((function(){}))},function(e,t){$(".component-overlay-speakers").length&&$((function(){}))},function(e,t){$(".component-overlay-sponsors").length&&$((function(){}))},function(e,t){$(".component-event-overlay-navigation-container").length&&$((function(){}))},function(e,t){$(document).on("click","#showMoreLess",(function(){$(this).parent().find("#showMoreLess").hasClass("loadmore")?($(this).parent().find("#showMoreLess").html("Load More"),$(this).parent().find("#showMoreLess").removeClass("loadmore").addClass("loadless")):($(this).parent().find("#showMoreLess").html("Load Less"),$(this).parent().find("#showMoreLess").removeClass("loadless").addClass("loadmore")),$(this).parent().find(".link-grid-item-hidden").slideToggle(),$(this).parent().find("#showMoreLess").hide()})),$(".component-link-grid.speaker-variation").length&&$((function(){document.querySelectorAll(".component-link-grid.speaker-variation").forEach(e=>{const t=e.querySelector(".link-grid-item-wrapper"),n=e.querySelector(".link-grid-right-bg"),o=window.innerWidth,a=e.querySelector(".load-more-container"),s=e.querySelector(".link-grid-load-more"),i=o<768?1:4,r=o<768?4:2,l=o<768?4:1;let c=r;n.classList.add("comp-full-bleed-bg-color"),n.classList.remove("link-grid-right-bg"),s&&s.remove(),a.style.display="none";const d=t.querySelectorAll(".link-grid-item"),u=d.length;for(let e=0;e<i*r;e++)d[e].style.display="block";u>i*c&&(a.style.display="flex",a.addEventListener("click",(function(e){e.preventDefault();let t=i*c;const n=t+i*l;for(c+=l;t<n;){if(u<=t)return void(a.style.display="none");d[t++].style.display="block"}}),!1))})}))},function(e,t){function n(){let e="",t="";const n=$(".component-video-container .generic-dropdown-container #filter-selected").val();return e=""!=n?n:o("filterTag"),$(".option-container li").each((function(){e==$(this).attr("data-com-cta")&&(t=$(this).attr("data-campaignid"))})),t}function o(e){const t=window.location.search.substring(1).split("&");let n,o;for(o=0;o<t.length;o++)if(n=t[o].split("="),n[0]===e)return decodeURIComponent(n[1])}function a(){const e=document.querySelector("a.video-item");if(e){let t=new URL(e.href);t.searchParams.set("autoplay",!0),e.href=t,e.click()}}function s(){let e;const t=document.querySelectorAll(".video-description p"),o=[];[].forEach.call(t,(function(e){o.push(e.textContent)})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){x(),S(t,o)}),100)})),x(),S(t,o),function(e){let t=$(".video-item").slice(e,e+=10);t.addClass("show-item"),$(".playlist-wrapper").scroll((function(){$(".video-item").length-e>0&&$(this).scrollTop()+$(this).innerHeight()>=$(this)[0].scrollHeight-10&&(t=$(".video-item").slice(e,e+=10),t.addClass("show-item"))}))}(0);const s=$("section.video-player").attr("data-assetType"),i={accountId:$("section.video-player").attr("data-bcAccId"),playerId:$("section.video-player").attr("data-bcPlayId"),videoId:$("section.video-player").attr("data-source"),playerSRC:$("section.video-player").attr("data-source"),title:$("section.video-player").attr("data-video-title")},r=$("section.video-player").attr("data-id"),l=$("#filter-selected").val();let c;""!==l&&function(e,t){let n="",o=document.location.href.split("?");const a=o[0],s=o[1];let i="",r="",l="";if(s){l="?",o=s.split("&");let n=0,a=0;for(let s=0;s<o.length;s++){const l=o[s].split("="),c=l[0];let d=l[1];"filterTag"===c&&(a++,d=t),"x"===c&&(n++,d=e),i+=`${r+c}=${d}`,r="&"}!n&&e.length>0&&(i+=`${r}x=${e}`),!a&&t.length>0&&(i+=`${r}filterTag=${t}`)}n=`${a}${l}${i}`,window.history.pushState({path:n},"",n)}(r,l);let d,u,m,p,f,g,h,v="",w="",y=0;"dam_video"==s?c={type:"video/mp4",src:i.playerSRC}:"youtube_video"==s?c={type:"video/youtube",src:"https://www.youtube.com/embed/"+i.playerSRC}:"dam_audio"==s&&(c={type:"audio/ogg",src:i.playerSRC}),v=`<div class='overlay-container'><div class='overlay-main-title'><h2>${i.title}</h2></div></div>`,w=$(".overlay-container.end-overlay");const b=function(e){this.id=e,this.init=function(){const e=$(".component-video-container .video-player .bc-hidden-data"),t=$(e).attr("data-account"),n=$(e).attr("data-player"),o=$(e).attr("data-video-id"),i=$("#videosjs-placeholder");i.attr("data-account",t),i.attr("data-player",n),i.attr("data-video-id",o);bcPlayerDemo.player=bc("videosjs-placeholder",{controlBar:{volumePanel:{inline:!1,vertical:!0}}}),bcPlayerDemo.player.on("playing",(function(){E(this),y=this.duration(),C(s,bcPlayerDemo.player,v,w,y)})),bcPlayerDemo.player.on("ended",(function(){E(this),function(){const e=document.querySelector(".component-video-container").dataset.comWaitingTime;if(e&&parseInt(e)>0){const t=1e3*parseInt(e);setTimeout(a,t)}}(),$(".vjs-overlay.title").hasClass("vjs-hidden")||$(".vjs-overlay.title").addClass("vjs-hidden"),$(".vjs-overlay.links").hasClass("vjs-hidden")&&$(".vjs-overlay.links").removeClass("vjs-hidden")})),bcPlayerDemo.player.on("play",(function(){$(".vjs-overlay.links").hasClass("vjs-hidden")||$(".vjs-overlay.links").addClass("vjs-hidden")})),bcPlayerDemo.player.on("timeupdate",(function(){E(this),N(this)})),_(),R(),bcPlayerDemo.player.overlay({overlays:[{class:"title",content:v,start:"loadedmetadata",end:"play"}]})}};function C(e,t,n,o,a){t.overlay({overlays:[{class:"title",content:n,start:"pause",end:"play"},{class:"links",content:o[0],start:a}]})}function S(e,t){window.outerWidth>1699?[].forEach.call(e,(function(e){if(e.innerText.length>89){let t=e.textContent.substring(0,87);if(" "===t[86])t=t.substring(0,86);else{const e=t.lastIndexOf(" ");t=t.substring(0,e)}e.textContent=t+"..."}})):[].forEach.call(e,(function(e,n){e.innerText=t[n]}))}function x(){const e=$(".player-container .video-player").outerHeight(!0)+$(".player-container .below-video").outerHeight(!0)-$(".playlist-container .playlist-title").outerHeight(!0)+"px";$(".video-playlist .playlist-wrapper").css("height",e)}function k(e){0}function E(e){k();const t=e.duration(),n=e.currentTime();if(t>0){const o=.25*t,a=.5*t,s=.75*t,i=.9*t;n<o?I():n>=o&&n<a?(I(),F()):n>=a&&n<s?(I(),F(),U()):n>=s&&n<i?(I(),F(),U(),L()):n>=i&&n<e.duration()?(I(),F(),U(),L(),T()):n===e.duration()&&(I(),F(),U(),L(),T(),g||(k(),_satellite.track("video: complete",A()),k(),g=!0))}}function I(){d||(k(),_satellite.track("video: start",A()),k(),d=!0)}function F(){u||(k(),_satellite.track("video: 25",A()),k(),u=!0)}function U(){m||(k(),_satellite.track("video: 50",A()),k(),m=!0)}function L(){p||(k(),_satellite.track("video: 75",A()),k(),p=!0)}function T(){f||(k(),_satellite.track("video: 90",A()),k(),f=!0)}function _(){d=!1,u=!1,m=!1,p=!1,f=!1,g=!1}function A(){const e={},t=$("section.video-player");return e.video_id_analytics=t.attr("data-source"),e.video_title_analytics=t.attr("data-title"),e}function O(e,t){const n=e.find(e=>e.name===t.name);n?n.value=t.value:e.push(Object.assign({},t))}function N(e){let t=$("section.video-player").attr("data-okta-time");t=parseInt(t);const o=parseInt(e.currentTime());if(t>=0&&o>=t&&!h){h=!0;n();const e=n(),t=$("#eloquaIpAddress").val(),o=$("#eloquaRefererUrl").val(),a=$("section.video-player").attr("data-id"),s=(window.location.href,$("section.video-player").attr("data-formName")),i=window.location.href;$(location).attr("href");$(document).ready((function(){$(location).attr("href")}));let r=[];const l=ContextHub.getStore("servicenow-anonymous")&&ContextHub.getStore("servicenow-anonymous").getItem("UserData")&&function(e){return e.find(e=>"progressiveProfileFlag"===e.name)}(ContextHub.getStore("servicenow-anonymous").getItem("UserData"));if(decodeURIComponent(getCookie("userId"))&&!l||ContextHub.getStore("servicenow-anonymous")&&ContextHub.getStore("servicenow-anonymous").getItem("UserData")&&(r=ContextHub.getStore("servicenow-anonymous").getItem("UserData")),decodeURIComponent(getCookie("userId"))&&ContextHub.getStore("servicenow-anonymous")&&ContextHub.getStore("servicenow-anonymous").getItem("UserData")&&ContextHub.getStore("servicenow-anonymous").getItem("UserData").find(e=>"progressiveProfileFlag"==e.name)&&"yes"==ContextHub.getStore("servicenow-anonymous").getItem("UserData").find(e=>"progressiveProfileFlag"==e.name).value&&(r=ContextHub.getStore("servicenow-anonymous").getItem("UserData")),ContextHub.getStore("servicenow-anonymous")&&ContextHub.getStore("servicenow-anonymous").getItem("UserData"))r=ContextHub.getStore("servicenow-anonymous").getItem("UserData");else if(ContextHub.getStore("servicenow-sso"))for(const e of ContextHub.getStore("servicenow-sso").getKeys()){const t=e.replace("/","");"fName"==t?r.push({name:"firstname",value:ContextHub.getStore("servicenow-sso").getItem("fName")}):"LName"==t?r.push({name:"lastname",value:ContextHub.getStore("servicenow-sso").getItem("LName")}):"myEmail"==t?r.push({name:"email",value:ContextHub.getStore("servicenow-sso").getItem("myEmail")}):r.push({name:t,value:ContextHub.getStore("servicenow-sso").getItem(t)})}O(r,{name:"demovideoid",value:a}),O(r,{name:"CampaignId",value:e}),O(r,{name:"eloquaIpAddress",value:t}),O(r,{name:"eloquaRefererUrl",value:o}),O(r,{name:"pageurl",value:i}),O(r,{name:"currentPage",value:i}),O(r,{name:"currentPagePath",value:i}),O(r,{name:"demoNowFormName",value:s}),O(r,{name:"eloquaRefererUrl",value:document.referrer}),$.ajax({url:"/bin/servicenow/eloquaDemonowCenter",type:"POST",data:r})}}function R(){h=!1}"bc_video"==s?(bcPlayerDemo.player&&(bcPlayerDemo.player.dispose(),bcPlayerDemo.player={}),bcPlayerDemo=new b("videosjs-placeholder"),bcPlayerDemo.init()):videojs("videosjs-placeholder").ready((function(){const e=this;e.on("playing",(function(){E(this),y=e.duration(),C(s,e,v,w,y)})),e.on("ended",(function(){E(this),$(".vjs-overlay.title").hasClass("vjs-hidden")||$(".vjs-overlay.title").addClass("vjs-hidden"),$(".vjs-overlay.links").hasClass("vjs-hidden")&&$(".vjs-overlay.links").removeClass("vjs-hidden")})),e.on("play",(function(){$(".vjs-overlay.links").hasClass("vjs-hidden")||$(".vjs-overlay.links").addClass("vjs-hidden")})),e.on("timeupdate",(function(){E(this),N(this)})),_(),R(),videojs.getPlayer("videosjs-placeholder").overlay({overlays:[{class:"title",content:v,start:"loadedmetadata",end:"play"}]})})),$(".video-playlist .items-list .video-item .video-duration").each((function(){!function(e){const t=e.text().split(":"),n=t[0];let o=t[1];const a=t[2];let s="";if("00"!==o||"00"!==n&&"0"!==n||(o="0"),parseInt(o,10)<10&&("00"===n||"0"===n)){o=parseInt(o,10).toString()}s="00"===n||"0"===n?`${o}:${a}`:`${n}:${o}:${a}`,e.text(s)}($(this))})),$(window).on("load",(function(){!function(){const e=document.referrer;document.getElementById("eloquaRefererUrl").value=e}(),function(){let e="";if(sessionStorage.getItem("s_dmdbase_target")){const t=sessionStorage.getItem("s_dmdbase_target");e=JSON.parse(t)["profile.ip"]}document.getElementById("eloquaIpAddress").value=e}()}))}$(".component-video-container").length&&$((function(){bcPlayerDemo={},s(),new URL(window.location.href).searchParams.get("autoplay")&&document.getElementById("videosjs-placeholder").setAttribute("autoplay","true"),function(){const e=$(".component-video-container"),t=e.find(".generic-dropdown-container"),a=e.find(".filter-selected");function i(){t.click((function(e){if("LI"==e.target.tagName){let t={};const n=e.target.getAttribute("value"),o=$(e.target).attr("data-campaignId"),s=$(e.target).text();n&&s&&(t={value:n,txt:s}),$(this).find(".header-section .section-title").text(t.txt),$(a).attr("data-campaignId-value",o),$(a).attr("value",t.value).trigger("change")}t.toggleClass("open")})),a.change((function(){if($(this).hasClass("filter-selected")){const e=$(this).attr("value");let t="",n=document.location.href.split("?");const o=n[0],a=n[1];let l="",c="",d="";if(a){d="?";let t=0;n=a.split("&");for(let o=0;o<n.length;o++){const a=n[o].split("="),s=a[0];let i=a[1];"filterTag"===s&&(t++,i=e),l+=`${c+s}=${i}`,c="&"}!t&&e.length>0&&(l+=`${c}filterTag=${e}`)}t=`${o}${d}${l}`,window.history.pushState({path:t},"",t),function(e){const t=$(".component-video-container").find(".video-filter-container");let n=!1;const o=window.location.href;if(-1==o.indexOf("editor.html")&&-1==o.indexOf("wcmmode=disabled")||(n=!0),-1!==e.indexOf("/content/servicenow/www/locale-sites/")&&!n){const t=e.replace("/content/servicenow/www/locale-sites/","").split("/");t.shift(),e="/"+t.join("/")}$.ajax({url:e,type:"GET",contentType:"application/json",success(e){if(e){$(".component-video-container").find(".video-player");const n=$.parseHTML(e);for(let e=0;e<n.length;e++){const o=n[e],a=o.tagName;if("SECTION"==a&&$(o).hasClass("component-video-container")){const e=$(o).find(".video-filter-container");$(e).remove();const n=$(o).prop("outerHTML");$(".videoContainer").html(n),$(".videoContainer .component-video-container").prepend(t),i()}"DIV"==a&&$(o).hasClass("overlay-outter")&&$(".videoContainer").append(o)}s(),$(".filter-container").length>0&&(initFilterNew(),$(".videoContainer .filter-option-value").click((function(){r()})))}}})}(`${$(".component-video-container section.video-player").attr("data-resourcePath")}.html?filterTag=${e}`)}$(".filter-container").length>0&&initFilterNew()}))}function r(){const e=$(".videoContainer .right-filter-option"),t=$(".videoContainer .right-recommended-filters-a");let n="";e.each((function(){if($(this).prop("selected"))return n=$(this).attr("data-filter"),!1})),t.each((function(){$(this).attr("data-video-tags").split(",").includes(n)||"all"===n?($(this).hasClass("hideVideo")&&$(this).removeClass("hideVideo"),$(this).hasClass("show-item")||$(this).addClass("show-item")):$(this).addClass("hideVideo")}))}i(),function(){if(-1!==document.location.href.indexOf("filterTag")){let e=o("filterTag");""!==e&&null!=e&&(e=e.replaceAll("%20"," ")),t.find(".header-section .section-title").text(e);const s=n();$(a).attr("data-campaignId-value",s),$(a).attr("value",e)}}(),$(".videoContainer .filter-option-value").click((function(){r()}))}()}))},function(e,t){function n(e){let t=0;return e.map(n=>{const o=$(e[n]).innerHeight();t=o>t?t=o:t}),t}function o(e,t){e.map(n=>{$(e[n]).css({height:t})})}function a(){const e=this||{};e.$ctn=$(".component-promo-tile");const t=e.$ctn.find(".content-box"),a=e.$ctn.find(".title-container"),s=e.$ctn.find(".description"),i=e.$ctn.find(".description-container"),r=e.$ctn.find(".content-box-container"),l=e.$ctn.find(".content-box-container").eq(0),c=e.$ctn.find(".promo-tile-arrow").eq(0).outerHeight(!0),d=n(a),u=n(s),m=n(i);if(window.matchMedia("(min-width: 768px)").matches&&(o(a,d),o(r,l.height()+c),window.matchMedia("(min-width: 1024px)").matches)){const n=e.$ctn.find(".main-content-container").outerWidth(!0);if(f=(n-30)/3,(p=t).map(e=>{$(p[e]).css({"min-width":f})}),o(s,u),o(i,m),window.matchMedia("(min-width: 1700px)").matches){t.removeAttr("style"),i.removeAttr("style");const e=r.innerHeight()-r.height(),n=r.outerHeight(!0)-r.outerHeight();o(r,e+n+u+d+c)}}var p,f}$(".component-promo-tile").length&&($((function(){a()})),$(window).resize((function(){const e=this||{};e.$ctn=$(".component-promo-tile"),e.$ctn.find("div,p").removeAttr("style"),a()})))},function(e,t){let n=null;$(".eloquaForm").length&&$((function(){!function(){const e=Granite.I18n.get("emailisnotvaliderror"),t=Granite.I18n.get("servicenowemployeespleasesigninwithyourcredentials"),o=Granite.I18n.get("required"),a=($(".component-eloqua-form-base").attr("data-submitting"),$(".eloquaForm .info-pass"));function s(){$(".eloquaForm .form-1 .my-account-loading-layer").removeClass("show-loading-layer")}function i(){const e=$(".optin-section"),t=e.find("[name=optin]");e.length&&t.on("change",()=>{e.find(".LV_invalid").length&&e.find(".LV_invalid").remove()})}function r(e){const t=$(".eloquaForm .submit-form"),n=e?t.attr("data-button-on"):t.attr("data-button-off");n&&t.text(Granite.I18n.get(n))}function l(){let e=!0;return 0==$(".eloquaForm .sn-password input").val()?($(".eloquaForm .sn-password .LV_validation_message").hasClass("LV_invalid")?$(".eloquaForm .sn-password .LV_validation_message").text(o):($(".eloquaForm .sn-password").append(`<span class='LV_validation_message LV_invalid'>${o}</span>`),$(".eloquaForm .sn-password").find(".sn-password-input").css("outline","1px solid #c00")),e=!1):!function(){const e=$(".eloquaForm form").find(".sn-password input");let t=!0;return $(e).each((function(){const e=$(this).val();let n=!0,o=!0,a=!0,s=!0,i=!0;if(""!==e){e.length<8&&(n=!1);let r=0,l=0;const c=e.length;for(let t=0;t<c;t++)/[a-z]/.test(e.charAt(t))&&r++,/[A-Z]/.test(e.charAt(t))&&l++;0===r&&(o=!1),0===l&&(a=!1);null==e.match(/\d+/g)&&(s=!1);if(null==e.match(/([!,@,#,$,%,*,^,&,*,(,)])+/g)&&(i=!1),!(i&&s&&a&&o&&n)){let e;n||(e=Granite.I18n.get("atleast8characters")),o||(e=Granite.I18n.get("atleastonelowercase")),a||(e=Granite.I18n.get("atleastoneuppercase")),s||(e=Granite.I18n.get("atleastonenumber")),i||(e=Granite.I18n.get("atleastonesymbol")),t=!1,$(".eloquaForm .sn-password .LV_validation_message").hasClass("LV_invalid")?$(".eloquaForm .sn-password .LV_validation_message").text(e):($(".eloquaForm .sn-password").append(`<span class='LV_validation_message LV_invalid'>${e}</span>`),$(".eloquaForm .sn-password").find(".sn-password-input").css("outline","1px solid #c00"))}}else t=!1})),t}()?e=!1:($(".eloquaForm .sn-password .LV_validation_message").remove(),$(".eloquaForm .sn-password").find(".LV_validation_message").remove(),$(".eloquaForm .sn-password").find(".sn-password-input").css("outline","none"),e=!0),e}function c(e){const t=$(e).val();let n=!0,o=!0,a=!0,s=!0,i=!0;t.length<8&&(n=!1);let r=0,l=0;const c=t.length;for(let e=0;e<c;e++)/[a-z]/.test(t.charAt(e))&&r++,/[A-Z]/.test(t.charAt(e))&&l++;0===r&&(o=!1),0===l&&(a=!1);null==t.match(/\d+/g)&&(s=!1);null==t.match(/([!,@,#,$,%,*,^,&,*,(,)])+/g)&&(i=!1),n?$(".eloquaForm .sn-password .least-char").removeClass("fail"):$(".eloquaForm .sn-password .least-char").addClass("fail"),o?$(".eloquaForm .sn-password .least-lower").removeClass("fail"):$(".eloquaForm .sn-password .least-lower").addClass("fail"),a?$(".eloquaForm .sn-password .least-upper").removeClass("fail"):$(".eloquaForm .sn-password .least-upper").addClass("fail"),s?$(".eloquaForm .sn-password .least-number").removeClass("fail"):$(".eloquaForm .sn-password .least-number").addClass("fail"),i?$(".eloquaForm .sn-password .least-symbol").removeClass("fail"):$(".eloquaForm .sn-password .least-symbol").addClass("fail")}function d(e,t){return $(e).val()?($(e).addClass("change-text-color-to-black"),$(e).parent().find(".LV_validation_message").remove(),$(e).parent().find(".select2, .custom-dropdown__select, .validateMessageCapture").css("outline","none")):($(e).removeClass("change-text-color-to-black"),$(e).parent().find(".LV_validation_message").remove(),$(e).parent().find(".select2, .custom-dropdown__select, .validateMessageCapture").css("outline","none"),$(e).parent().append(`<span class='LV_validation_message LV_invalid'>${o}</span>`),$(e).parent().find(".select2, .custom-dropdown__select, .validateMessageCapture").removeClass("remove-red-outline").css("outline","1px solid #c00"),t++),t}function u(e){const t=$(e).val().trim(),n=$(e).attr("name");let o="";if("firstname"==n||"lastname"==n){const e=40;t.length>e&&(o=Granite.I18n.get("upto40chars")),window.checkHTMLTagInput(t)&&(o=Granite.I18n.get("noHTMLTagsAllowed"))}else if("company"==n){const e=40;new RegExp(/^[ A-Za-z0-9_@.&-]*$/).test(t)?t.length>e&&(o=Granite.I18n.get("upto40chars")):o=Granite.I18n.get("companymustonlyletters")}else if("businessPhone"==n){const e=5,n=22;new RegExp(/^[0-9-\s]*$/).test(t)?(t.length>0&&t.length<e||t.length>n)&&(o=Granite.I18n.get("mustbeween5and22")):o=Granite.I18n.get("Numbers only")}return""==o||($(e).parent().find(".select2, .validateMessageCapture, .custom-dropdown__select").removeClass("remove-red-outline").css("outline","none"),$(e).siblings("span.LV_invalid").remove(),$(e).after(`<span class='LV_validation_message LV_invalid'>${o}</span>`),$(e).removeClass("change-text-color-to-black"),$(e).parent().find(".select2, .validateMessageCapture, .custom-dropdown__select").removeClass("remove-red-outline").css("outline","1px solid #c00"),!1)}ContextHub.getStore("servicenow-sso").setItem("optin",null),$(".eloquaForm .sn-id-section").click((function(){$(".eloquaForm .sn-password").toggle(),setTimeout((function(){$(window).trigger("resize")}),50);const e=$(".form-name-eloqua").attr("action"),t="/bin/servicenow/eloquaSubmit",n="/bin/servicenow/user/registration";if(e==t){$(".eloquaForm .dropdowns-jobs").css("display","block"),$(".form-name-eloqua").attr("action",n),$("#registration").attr("value",!0);const e=window.location.href;e&&setCookie("redirectionPage",e,1),r(!0)}else if(e==n){$(".eloquaForm .dropdowns-jobs").css("display","none"),$(".form-name-eloqua").attr("action",t),$("#registration").attr("value","");const e=$(".eloquaForm .under-sn-id-section").find(".select2, .validateMessageCapture, .custom-dropdown__select");$(".eloquaForm .sn-password .sn-password-input").length>0&&e.push($(".eloquaForm .sn-password .sn-password-input")),$(e).each((function(){const e=this;"none"!=$(e).css("outline")&&($(e).css("outline","none"),$(e).parent().find(".LV_validation_message").remove())})),r(!1)}})),$(".eloquaForm .container-box-back-btn a").click((function(){$(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").hasClass("show")&&$(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").removeClass("show"),$(".eloquaForm .component-eloqua-form-base .form-1").hasClass("hide")&&$(".eloquaForm .component-eloqua-form-base .form-1").removeClass("hide")})),$(".eloquaForm .sing-in-account").click((function(){!function(){const e=window.location.href;e&&setCookie("redirectionPage",e,1),$(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").hasClass("show")||$(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").addClass("show"),$(".eloquaForm .component-eloqua-form-base .form-1").hasClass("hide")||$(".eloquaForm .component-eloqua-form-base .form-1").addClass("hide")}()}));const m=function(e){$(e).val().trim()?u($(e))&&($(e).addClass("change-text-color-to-black"),$(e).parent().find(".LV_validation_message").remove(),$(e).parent().find(".select2, .validateMessageCapture, .custom-dropdown__select").removeClass("remove-red-outline").css("outline","none")):($(e).removeClass("change-text-color-to-black"),$(e).parent().find(".LV_validation_message").remove(),$(e).parent().find(".select2, .validateMessageCapture, .custom-dropdown__select").css("outline","none"),$(e).parent().append(`<span class='LV_validation_message LV_invalid'>${o}</span>`),$(e).hasClass("custom-dropdown__select")||$(e).hasClass("select2")?$(e).parent().find(".select2, .validateMessageCapture, .custom-dropdown__select").addClass("remove-red-outline"):$(e).parent().find(".select2, .validateMessageCapture, .custom-dropdown__select").removeClass("remove-red-outline").css("outline","1px solid #c00"))};if($("select, .validateMessageCapture").not('[name="email"]').on("blur change",(function(){m(this),"field10"===$(this).attr("id")&&setTimeout((function(){$("#formElement11 select").on("blur change",(function(){m(this),setTimeout((function(){$("#formElement12 select").on("blur change",(function(){m(this)}))}),500)}))}),500)})),$(".eloquaForm .sn-password input").on("blur change",(function(){l()})),$("#field35").on("change",(function(e){$("#field35").is(":checked")?$("#field35").parent().find(".LV_validation_message").remove():$("#field35").parent().append(`<span class='LV_validation_message LV_invalid'>${o}</span>`)})),$(".eloquaForm .show-pass").click((function(){const e=$(this).closest(".sn-password"),t=$(e).find("input");"password"===$(t).attr("type")?($(t).attr("type","text"),$(this).text(Granite.I18n.get("hidepass"))):($(t).attr("type","password"),$(this).text(Granite.I18n.get("showpass")))})),a.mouseover((function(){$(this).find(".tooltip-text-password").css("visibility","visible")})),a.mouseout((function(){$(this).find(".tooltip-text-password").css("visibility","hidden")})),$(".eloquaForm .sn-password input").on("input",(function(){c(this)})),$(".eloquaForm .submit-form-download").on("click",(function(){if(function(){const e=ContextHub.getStore("servicenow-sso").getItem("fName"),t=ContextHub.getStore("servicenow-sso").getItem("LName"),n=ContextHub.getStore("servicenow-sso").getItem("myEmail"),o=ContextHub.getStore("servicenow-sso").getItem("company"),a=ContextHub.getStore("servicenow-sso").getItem("jobLevel"),s=ContextHub.getStore("servicenow-sso").getItem("jobRole"),i=ContextHub.getStore("servicenow-sso").getItem("jobFunction"),r=ContextHub.getStore("servicenow-sso").getItem("country"),l=ContextHub.getStore("servicenow-sso").getItem("businessPhone");return e&&t&&n&&o&&a&&s&&i&&r&&l}()){const e=$(this).closest("form"),t=ContextHub.getStore("servicenow-sso").getItem("company"),n=e.find("[name=company]").val();t&&!n&&e.find("[name=company]").val(t);const a=e.find("#optInFlag").val();"true"!==a&&!0!==a||ContextHub.getStore("servicenow-sso").setItem("optinChecked","true"),function(e){let t=!0;const n=$(e).find("li").not(".not-download-page");$(n).find("select").each((function(){"demonowIamInterestedIn"!==$(this).attr("name")&&"iAmInterestedIn"!==$(this).attr("name")||($(this).css("outline","none"),$(this).parents("li").children("span").remove(),$(this).val()||($(this).css("outline","1px solid #c00"),$(this).parents("li").append(`<span class=" LV_validation_message LV_invalid">${o}</span>`),t=!1))}));const a=$(".optin-section");if(a.length&&a.hasClass("active-optin-sec")){0==$(".eloquaForm [name='optin']:checked").length?(a.find(".LV_validation_message").remove(),a.append(`<span class='LV_validation_message LV_invalid'>${o}</span>`),t=!1):a.find(".LV_validation_message").remove()}return t}(e)&&e.get(0).submit()}else!function(){const e=$(".downloadErrorMessage").val(),t=$(".downloadErrorLink").val(),n=$(".error-msg-eloqua");let o="";e&&(o+=e+" ");t&&(o+=`<p><a href='#'>${t}</a></p>`);n.removeClass("error-msg-hidden"),n.html(o),n.find("a").on("click",(function(){const e="//"+window.location.host;navigateTo(e+"/my-account/my-account-manage-profile.html #my-account-manage-profile",null),sessionStorage.setItem("updateIncompleteUserInfo",!0),n.addClass("error-msg-hidden"),$("#tab-myaccount a").click()}))}($(this).parents(".component-sra-pillar-card").find(".error-msg"))})),$(".eloquaForm .submit-form").on("click",(function(){let n=!0;const a=$(this).closest("form"),i=a[0].optin;if(n=function(n){let a=!0,s=!0,i=0,r=!0,c=!0,m=!0,p=!0;const f=$("#newsletter-checkbox"),g=$(".optin-section"),h=$(".eloquaForm [name='optin']"),v=$(".eloquaForm [name='optin']:checked");$(".select2, .validateMessageCapture, .custom-dropdown__select").each((function(){const e=$(".eloquaForm .sn-id-section input").prop("checked");$(this).parents(".under-sn-id-section").length>0||$(this).hasClass("sn-password-input")?e&&(i=d(this,i)):i=d(this,i)})),($("input#sms").is(":checked")||$("input#sms").is(":checked"))&&(s=validateMobile());!$("#field35").prop("checked")&&$("#field35").length>0&&(r=!1,$("#field35").closest(".checkboxli").find(".LV_validation_message").remove(),$("#field35").closest(".checkboxli").append(`<span class='LV_validation_message LV_invalid'>${o}</span>`));m=!($("input#field35").length>0&&!$('input[name="t_c"]').is(":checked"));const w=function(){const n=$(".eloquaForm [name='email']").val();return $("#field37").prop("checked")&&-1!=n.indexOf("servicenow.com")?($(".eloquaForm [name='email']").parents("li").children("span").hasClass("LV_invalid")||($(".eloquaForm [name='email']").css("outline","1px solid #c00"),$(".eloquaForm [name='email']").parents("li").append(`<span class=" LV_validation_message LV_invalid">${t}</span>`)),!1):/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(n)?($(".eloquaForm [name='email']").parents("li").children("span").hasClass("LV_invalid")||$(".eloquaForm [name='email']").css("outline","none"),!0):($(".eloquaForm [name='email']").parents("li").children("span").hasClass("LV_invalid")||($(".eloquaForm [name='email']").css("outline","1px solid #c00"),$(".eloquaForm [name='email']").parents("li").append(`<span class=" LV_validation_message LV_invalid">${e}</span>`)),!1)}();p=!$(".eloquaForm .sn-id-section input").prop("checked")||l();let y=!0,b=!0,C=!0,S=!0,x=!0;$(".eloquaForm [name='firstname']").length&&(y=u($(".eloquaForm [name='firstname']")));$(".eloquaForm [name='lastname']").length&&(b=u($(".eloquaForm [name='lastname']")));$(".eloquaForm [name='company']").length&&(C=u($(".eloquaForm [name='company']")));$(".eloquaForm [name='businessPhone']").length&&(S=u($(".eloquaForm [name='businessPhone']")));h.length&&g.hasClass("active-optin-sec")&&(null!==x&&(x=function(e){if(e)return!0;return!1}(v.length)),0==v.length?(g.find(".LV_validation_message").remove(),g.append(`<span class='LV_validation_message LV_invalid'>${o}</span>`)):g.find(".LV_validation_message").remove());f.length&&(f.prop("checked")?f.closest(".checkboxli").find(".LV_validation_message").remove():(c=!1,f.closest(".checkboxli").find(".LV_validation_message").remove(),f.closest(".checkboxli").append(`<span class='LV_validation_message LV_invalid'>${o}</span>`)));a=!!(w&&!(i>0)&&s&&r&&c&&m&&p&&y&&b&&C&&S&&x);return a}(),n){const e=a.attr("action"),t=$(".eloquaForm [name='field37']").prop("checked");if($(".eloquaForm .form-1 .my-account-loading-layer").addClass("show-loading-layer"),t){const t=a[0].password.value;$.ajax({url:"/bin/servicenow/user/encryptdecrypt",type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,data:{subject:t,operationType:"encrypt"},success(t){let n="";t.output.length>0&&(n=t.output),a[0].password.value=n,$.ajax({url:e,type:"POST",data:a.serializeArray(),success(e){if("USER_ALREADY_EXIST_OR_UNABLE_TO_CREATE"==e.errorCode||"DB_ERROR"==e.errorCode||"USER_ALREADY_EXIST"==e.errorCode||400===e.statusCode||500===e.statusCode){const t=e.responseString;$(".error-msg-eloqua").text(t).css("display","block")}else deminateCookieAndContextHub(!0),ContextHub.getStore("servicenow-sso").setItem("userName",a[0].email.value),ContextHub.getStore("servicenow-sso").setItem("registration_complete",!0),i&&ContextHub.getStore("servicenow-sso").setItem("optin",a[0].optin.value),function(e){const t=$(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").find("form"),n=t.attr("data-uuid");$(t).find("input#email"+n).val(e[0].email.value),$(t).find("input#password"+n).val(e[0].password.value),t.get(0).submit()}(a);s()},error(e){if("USER_ALREADY_EXIST_OR_UNABLE_TO_CREATE"==e.errorCode||"DB_ERROR"==e.errorCode||"USER_ALREADY_EXIST"==e.errorCode||400===e.statusCode||500===e.statusCode){const t=e.responseString;$(".error-msg-eloqua").text(Granite.I18n.get(t)).css("display","block")}s()}})},error(e){}})}else i&&ContextHub.getStore("servicenow-sso").setItem("optin",a[0].optin.value),function(e){ContextHub.getStore("servicenow-anonymous").setItem("UserData",e.serializeArray()),setCookie("isAnonUser",!0,1),sessionStorage.setItem("anonFlag",!0)}(a),a.get(0).submit(),$(a).find("input[name='roiCalculatorForm']").length>0&&setTimeout((function(){s()}),3e3)}})),function(){const e=decodeURIComponent(getCookie("userId")),t=(decodeURIComponent(getCookie("formUserID")),$(".component.component-eloqua-form-base").attr("data-com-disable-formless-experience"));if(e&&"on"!==t){if("undefined"!=typeof ContextHub){const e=ContextHub.getStore("servicenow-sso").getItem("userName"),t=ContextHub.getStore("servicenow-sso").getItem("country"),o=$(".eloquaForm .component-eloqua-form-base .form-1").find("form");if(e&&o.length){$(o).append(`<input type="hidden" name="userNameCH" value="${e}"/>`);const a=setInterval(()=>{n&&(clearInterval(a),function(e,t){ContextHub.getStore("servicenow-sso").setItem("scopedCountryDownload",null),t&&void 0!==p.countries[t]&&ContextHub.getStore("servicenow-sso").setItem("scopedCountryDownload",!0);!function(e){const t={elqEmail:e,elqDomain:"go.servicenow.com",elqKey:"9e7ef876e5544ff8b56a38850c0cd0c1",elqSiteID:1133,elqPPS:50};lookupRequestUrl(`https://${t.elqDomain}/visitor/v200/svrGP.aspx?pps=${t.elqPPS}&siteid=${t.elqSiteID}&DLKey=${t.elqKey}&DLLookup=%3CC_EmailAddress%3E${t.elqEmail}%3C/C_EmailAddress%3E&ms=97`,!1)}(e)}(e,t))},200)}}$(".eloquaForm .download-page").css("display","block"),setTimeout((function(){let e="";"undefined"!=typeof ContextHub&&(e=ContextHub.getStore("servicenow-sso").getItem("optinChecked"),"false"!==e&&!1!==e||($(".form-1 form").find(".optin-section").addClass("active-optin-sec").css("display","block"),i()))}),800)}else $(".eloquaForm .not-download-page").not(".eloquaForm .sn-password").not(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").not(".hide-optin").css("display","block"),$(".eloquaForm .form-1").hasClass("hide")&&$(".eloquaForm .form-1").removeClass("hide")}(),function(){const e=$(".eloquaForm .component-eloqua-form-base .eloqua-sign-in").find("form");e&&$(e).append('<input type="hidden"  class="eloquaLogin" name="eloquaLogin" value="true"/>')}(),c($(".eloquaForm .sn-password input")),function(){const e=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(getCookie("userId")),t=$(".eloqua-form-core-wrapper.is-demonow-page .eloqua-form-right-column .title-component");if(e){const e=$("input[name=loginTitle]"),n=$("input[name=loginText]");if(e.length>0||n.length>0){const o=$(t).find(".titleText"),a=$(t).find(".subtext");$(o).text($(e).val()),$(o).attr("data-com-title",$(e).val()),$(a).text($(n).val())}else $(t).remove()}}(),i(),$(".component.component-eloqua-form-base").length>0){var p;let e;const t=$(".component.component-eloqua-form-base").attr("data-optin-json"),o=(document.getElementById("field36"),document.getElementById("newsletter-checkbox"));function f(e){const t=e.checked?"Yes":"",n=e.checked?"true":"na";"field36"===e.id&&(document.getElementById("optin").value=t,document.getElementById("optInFlag").value=n),"newsletter-checkbox"===e.id&&(document.getElementById("newsletteroptin").value=t)}null!==t&&""!==t&&void 0!==t?(p=$(".component.component-eloqua-form-base").attr("data-optin-json"),e=$(".component.component-eloqua-form-base").attr("data-optin-json")):(p="/etc/designs/json/countries.json",e="/etc/designs/json/countries.json"),$.getJSON(e,(function(e){p=e,n=e})),$("select[name=country]").on("change",(function(e){const t=$(`form[name=${formNameEloqua}] [name=email]`).val();if(function(e){ContextHub.getStore("servicenow-sso").setItem("scopedCountry",null),e&&void 0!==p.countries[e]&&ContextHub.getStore("servicenow-sso").setItem("scopedCountry",!0)}(e.target.value),doNotEmail)showOptinSec();else{if(doNotEmail||hideOptinSec(),ContextHub.getStore("servicenow-sso").getItem("scopedCountry")){if("undefined"!=typeof GetElqContentPersonalizationValue){if(t==GetElqContentPersonalizationValue("C_EmailAddress")){const e=GetElqContentPersonalizationValue("C_ExplicitConsentDate1");return void consentLookUp(e)}return void retrieveContact(t)}if(t)return void showOptinSec()}hideOptinSec()}})),$("[name=optin]").on("change",e=>{const t=e.target.value;document.getElementById("optInFlag").value="Yes"===t?"true":"false"}),o&&(o.onchange=function(){f(o)},f(o),$("#tab-myaccount").remove(),$("#tab-myaccount-mobile").remove(),$(".myAccount").remove(),"en-US"==$("html").attr("hrefLang")&&$(".sn-footer-social-icon.sn-tweeter").find("a").attr("href","https://twitter.com/servicenow_emea?lang=en"))}$(window).resize((function(){if($(window).width()>767){const e=$(".eloqua-form-right-column .eloquaForm").height()||0;$(".eloqua-form-left-column").css({height:"unset","min-height":e+"px"}),$(".eloqua-form-right-column .eloquaForm").parent().css({"min-height":e+"px",height:"unset"})}else $(".eloqua-form-left-column").css("min-height","0")})),$("#field60").change((function(){const e=$(this),t=$("#thankyouId"),n=$("#CampaignId"),o=e.children("option:selected"),a=encodeURI($(o).attr("data-filter-value")),s=$(o).attr("data-campaign-id");let i=t.val();i=function(e,t,n){let o="",a=e.split("?");const s=a[0],i=a[1];let r="";if(i){a=i.split("&");for(let e=0;e<a.length;e++)a[e].split("=")[0]!==t&&(o+=r+a[e],r="&")}return`${s}?${o}${`${r}${t}=${n}`}`}(i,"filterTag",a),t.val(i),n.val(s)})),$(window).trigger("resize"),s()}(),setTimeout(()=>{$(".form-name-eloqua .chromeAutofill").remove()},100)}))},function(e,t){},function(e,t){if($(".component-live-stream-overlay").length){const e=$(".component-live-stream-overlay");function n(){e.css("display","block")}$(".overlay-open").click((function(){const e=$(this).attr("data-index");$(".component-live-stream-overlay#"+e).css("display","block")})),$(".component-overlay-close-btn").click((function(){e.css("display","none")})),function(){$(".sidebar-content .countdown").each((function(e,t){!function(e,t){let n,o,a,s;e=new Date(e).getTime(),isNaN(e)||setInterval((function(){let i=new Date;i=i.getTime();const r=$(t).find(".countdown-day h5"),l=$(t).find(".countdown-hour h5"),c=$(t).find(".countdown-min h5"),d=$(t).find(".countdown-sec h5");let u=parseInt((e-i)/1e3);u>=0?(n=parseInt(u/86400),u%=86400,o=parseInt(u/3600),u%=3600,a=parseInt(u/60),u%=60,s=parseInt(u),$(r).html(parseInt(n,10)),$(l).html(("0"+o).slice(-2)),$(c).html(("0"+a).slice(-2)),$(d).html(("0"+s).slice(-2))):$(".sidebar-content .countdown").addClass("hide")}),1e3)}($(t).attr("data-countdown"),t)}));const e=$("body").attr("data-currentpage");if(-1!=["content/servicenow/www/locale-sites/en-us","/content/servicenow/www/locale-sites/de-de","/content/servicenow/www/locale-sites/nl-nl","/content/servicenow/www/locale-sites/fr-fr","/content/servicenow/www/locale-sites/pt-br","/content/servicenow/www/locale-sites/ko-kr","/content/servicenow/www/locale-sites/es-es","/content/servicenow/www/locale-sites/it-it","/content/servicenow/www/locale-sites/en-us/live-streaming","/content/servicenow/www/locale-sites/en-us/hp-modal-test","/content/servicenow/www/locale-sites/en-us/solr-search-testing","/content/servicenow/www/locale-sites/en-us/solr-search-testing/solr-test","/content/servicenow/www/locale-sites/en-us/common-components/en-us"].indexOf(e)){"watched"!==function(e){const t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}("livestream")&&(!function(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const a="expires="+o.toGMTString();document.cookie=`${e}=${t};${a};path=/`}("livestream","watched",1),setTimeout(n,3e3)),function(){const e=$('.cta-component a[href$="https://go.servicenow.com/LP=12544.html"]'),t=e.attr("href").slice(0,-5);e.attr("href",t);const n=$('.cta-component a[href$="https://servicenow.g2planet.com/knowledge2019/register.html"]'),o=n.attr("href").slice(0,-5);n.attr("href",o)}()}}()}},function(e,t){$(".component-tabbed-component").length&&$((function(){!function(){const e=document.querySelectorAll(".component-tabbed-component"),t=document.querySelectorAll(".horizontal-tabs-list .tab-link"),n=(sessionStorage.getItem("exploreClick"),{"now-learning":"tab-2",community:"tab-3"});e[0].classList.contains("variation-csc")?(t.forEach(e=>e.addEventListener("click",()=>{const t=$(e).find("a").attr("href");window.location=t+"#csc-hub",sessionStorage.setItem("exploreClick",!0)})),$(t).each((function(){const t=this;t.classList.contains("current")&&$(e).find("ul").animate({scrollLeft:$(t).position().left-30},0)}))):t.forEach(e=>e.addEventListener("click",()=>{const t=e.getAttribute("data-tab");e.parentElement.querySelector(".current").classList.remove("current")||e.classList.remove("current");const n=e.closest(".component-tabbed-component"),o=n.querySelector(".content .current")||n.querySelector(".tabbed-content .current");o&&o.classList.remove("current"),e.classList.add("current");const a=n.querySelector(".content")||n.querySelector(".tabbed-content");if(a){a.querySelector("#"+t).classList.add("current")}}));document.querySelectorAll(".horizontal-tabs-list").forEach(e=>e.addEventListener("scroll",()=>{const t=e.children[0].getBoundingClientRect().x-e.getBoundingClientRect().x;t<0?e.classList.add("fade-left"):0===t&&e.classList.remove("fade-left");const n=e.children.length,o=e.children[n-1],a=e.getBoundingClientRect().right-o.getBoundingClientRect().right;0===Math.round(a)?e.classList.remove("fade-right"):(a<0||a>0)&&e.classList.add("fade-right")})),setTimeout((function(){const e=getValueByParamKey("championSource",window.location.href);if(e){const t=new Date;let n=t.getTime();n+=36e5,t.setTime(n),document.cookie=`championSource=${e}; expires=${t.toUTCString()}; path=/`}const t=$(".horizontal-tabs-list .tab-link label"),o=n[getCookie("championSource")];let a=!1;if(void 0!==o&&($(".edit-resume-tab.active").removeClass("active"),$(".edit-resume-tab.tab-two").addClass("active"),$(".yourProgress").css("display","none"),$(".manageAchievements").css("display","block"),t.each((function(){$(this).parent().removeClass("current");const e=$(this).parent().attr("data-tab"),t=$("#"+e);t.removeClass("current"),o===e&&($(this).parent().addClass("current"),t.addClass("current"),a=!0)}))),!a&&$(".in-page-navigation-component").hasClass("variation-csc-hub").length<1){t.first().parent().addClass("current");const e=t.first().parent().attr("data-tab");$("#"+e).addClass("current")}}),100)}()}))},function(e,t){if($(".horizontal-tabbed-component").length){$((function(){initHorizontalTabbedComponent().init({tabGroup:"[data-tabs]",paneGroup:"[data-panes]",tabActive:"current",paneActive:"current"})}));const e=$(".horizontal-tabbed-component:first"),t=sessionStorage.getItem("setTabLink");$(".horizontal-tabbed-component").on("click touchstart",".tab-link",(function(){const e=$(this).closest(".horizontal-tabbed-component");if(!e.hasClass("component-now-creators-milestones")&&!e.hasClass("champions-achievements")){const e=$(this).attr("data-tab");sessionStorage.setItem("setTabLink",e)}})),null!=t&&""!=t&&($(e).find(".horizontal-tabs-list:first .tab-link").removeClass("current"),$(e).find(".tabbed-content-outer-wrapper:first > .tabbed-content-wrapper").removeClass("current"),$(e).find(".horizontal-tabs-list:first").find(`[data-tab='${t}']`).addClass("current"),$(e).find(".tabbed-content-outer-wrapper:first > #"+t).addClass("current"));document.querySelectorAll(".horizontal-tabs-list").forEach(e=>e.addEventListener("scroll",()=>{const t=e.children[0].getBoundingClientRect().x-e.getBoundingClientRect().x;t<0?e.classList.add("fade-left"):0===t&&e.classList.remove("fade-left");const n=e.children.length,o=e.children[n-1],a=e.getBoundingClientRect().right-o.getBoundingClientRect().right;0===Math.round(a)?e.classList.remove("fade-right"):(a<0||a>0)&&e.classList.add("fade-right")}))}window.initHorizontalTabbedComponent=function(){localStorage.removeItem("tabbis");return function(){const e={};let t;const n=["tab","pane"];let o;const a=[],s=[],i=[],r=[];let l,c,d=[];return e.init=function(n){t=n,e.setDefaults(),e.setMemory(),a.tab=document.querySelectorAll(t.tabGroup),a.pane=document.querySelectorAll(t.paneGroup);for(let t=0;t<a.tab.length;t++){const n=a.tab[t].children;for(let o=0;o<n.length;o++)n[o].addEventListener("click",e.onClick.bind(this,t,o),!1),l=t,c=o,e.hasMemory()&&e.setNodes(t,o)}},e.onClick=function(t,n){e.setNodes(t,n),e.setCallback(l,c)},e.setNodes=function(t,a){l=t,c=a;for(let t=0;t<n.length;t++)o=n[t],e.setActiveGroup(),e.setActiveChildren(),e.setActiveItems(),e.putActiveClass();d[t]=[],d[t][a]=!0,localStorage.setItem("tabbis",JSON.stringify(d))},e.hasMemory=function(){if(d&&d[l]&&d[l][c]&&!0===d[l][c])return!0},e.setMemory=function(){null!==localStorage.getItem("tabbis")&&0!=localStorage.getItem("tabbis").length&&(d=Object.values(JSON.parse(localStorage.getItem("tabbis"))))},e.putActiveClass=function(){for(let e=0;e<i[o].length;e++)i[o][e].classList.remove(t[o+"Active"]);r[o].classList.add(t[o+"Active"])},e.setDefaults=function(){for(let t=0;t<n.length;t++)o=n[t],e.setOption(o+"Group",`[data-${o}s]`),e.setOption(o+"Active","active")},e.setOption=function(e,n){t=t||[],t[e]=t[e]||n},e.setActiveGroup=function(){s[o]=a[o][l]},e.setActiveChildren=function(){i[o]=s[o].children},e.setActiveItems=function(){r[o]=i[o][c]},e.setCallback=function(){"function"==typeof t.callback&&t.callback(r.tab,r.pane)},e.reset=function(){for(let e=0;e<a.tab.length;e++){tabItems=a.tab[e].children,paneItems=a.pane[e].children;for(let e=0;e<tabItems.length;e++)tabItems[e].classList.remove(t.tabActive),paneItems[e].classList.remove(t.paneActive)}localStorage.removeItem("tabbis")},e}()}},function(e,t){function n(e,t,n,o,a,s){t.removeClass("selected"),n.val(""),o.val(""),a.removeClass("error"),e.removeClass("error"),s.removeClass("error"),$(".modal-content").removeClass("success")}function o(e){e.css("display","none")}$(".component-feedback-and-rating").length&&$((function(){const e=this||{};e.$ctn=$(".component-feedback-and-rating");const t=$(".feedback-and-rating-overlay-open"),a=e.$ctn.find(".close").eq(0),s=e.$ctn.find(".modal-background").eq(0),i=e.$ctn.find("textarea").eq(0),r=e.$ctn.find(".email-container").eq(0),l=r.find("#feedback-and-rating-email").eq(0),c=e.$ctn.find(".rating-container").eq(0),d=c.find("ul li"),u=e.$ctn.find(".submit-container").eq(0),m=u.find(".submit-feedback-and-rating").eq(0);let p,f;!function(e,t){const n=e.find(".feedback-textarea-counter-container").eq(0);t.keyup((function(){const e=t.val().length;n.html(e+"/255")}))}(e.$ctn,i),m.click((function(t){t.preventDefault(),u.removeClass("error"),p?0===e.$ctn.find(".error").length&&function(e,t,n,o,a){const s={},i=e.find("#feedback-rating-url").eq(0).val(),r=e.find(".modal-content").eq(0);o&&(s.userEmail=o),s.rating=a,s.documentURL=window.location.origin+window.location.pathname,n.val()&&(s.comments=n.val()),$.ajax({url:i,type:"GET",data:s,contentType:"application/json",success(e){201===e.StatusCode||200===e.StatusCode?r.addClass("success"):t.addClass("error")},error(e){t.addClass("error")}})}(e.$ctn,u,i,f,p):c.addClass("error")})),d.click((function(){const e=$(this);c.removeClass("error"),p=e.attr("data-rating"),m.removeClass("disabled"),e.addClass("selected").siblings().removeClass("selected")})),t.click((function(){e.$ctn.css("display","block")})),a.click((function(){o(e.$ctn),p=0,n(c,d,i,l,r,u)})),s.click((function(){o(e.$ctn),p=0,n(c,d,i,l,r,u)})),l.blur((function(){f=l.val(),!f||validateEmailAddress(f)?r.removeClass("error"):r.addClass("error")}))}))},function(e,t){$(".component-gallery").length&&$((function(){const e=this;function t(){e.galleryAnim.clear(),e.galleryIndex<e.galleryLength?(e.galleryAnim.fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}a"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing}).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex+1}a"]`),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}b"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex+1}b"]`),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}c"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex+1}c"]`),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}d"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex+1}d"]`),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0),e.galleryIndex+=1):e.galleryIndex===e.galleryLength&&(e.galleryAnim.fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}a"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing}).fromTo(e.$galleryImages.filter('[data-index="1a"]'),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}b"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter('[data-index="1b"]'),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}c"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter('[data-index="1c"]'),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}d"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"-200%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter('[data-index="1d"]'),e.galleryAnimSpeed,{x:"0%"},{x:"-100%",ease:e.galleryAnimEasing},0),e.galleryIndex=1)}function n(){if(e.viewportWidth<768&&"mobile"!==e.galleryButtonsPosition){e.galleryButtonsPosition="mobile";const t=e.$galleryButtonPrev.detach(),n=e.$galleryButtonNext.detach();t.appendTo(".gallery-prev-wrapper"),n.appendTo(".gallery-next-wrapper")}else if(e.viewportWidth>=768&&"desktop"!==e.galleryButtonsPosition){e.galleryButtonsPosition="desktop";const t=e.$galleryButtonPrev.detach(),n=e.$galleryButtonNext.detach();t.appendTo(".gallery-buttons-wrapper"),n.appendTo(".gallery-buttons-wrapper")}}e.$gallery,e.$galleryImages,e.$galleryButtonNext,e.$galleryButtonPrev,e.galleryButtonsPosition,e.galleryAnim,e.galleryAnimSpeed,e.galleryAnimEasing,e.galleryIndex,e.galleryLength,e.galleryInterval,e.viewportWidth,e.viewportWidth=$(window).width(),e.$gallery=$(".component-gallery"),e.$galleryImages=e.$gallery.find(".gallery-wrapper img"),e.$galleryButtonNext=e.$gallery.find(".gallery-next"),e.$galleryButtonPrev=e.$gallery.find(".gallery-prev"),e.galleryAnim=new TimelineMax,e.galleryAnimSpeed=.7,e.galleryAnimEasing=Cubic.easeInOut,e.galleryIndex=1,e.galleryLength=e.$galleryImages.length/4,n(),e.galleryInterval=setInterval(t,4e3),e.$galleryButtonNext.on("click",(function(){clearInterval(e.galleryInterval),t()})),e.$galleryButtonPrev.on("click",(function(){clearInterval(e.galleryInterval),e.galleryAnim.clear(),e.galleryIndex>1?(e.galleryAnim.fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}a"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing}).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex-1}a"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}b"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex-1}b"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}c"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex-1}c"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex}d"]`),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryIndex-1}d"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0),e.galleryIndex-=1):1===e.galleryIndex&&(e.galleryAnim.fromTo(e.$galleryImages.filter('[data-index="1a"]'),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing}).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryLength}a"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter('[data-index="1b"]'),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryLength}b"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter('[data-index="1c"]'),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryLength}c"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter('[data-index="1d"]'),e.galleryAnimSpeed,{x:"-100%"},{x:"0%",ease:e.galleryAnimEasing},0).fromTo(e.$galleryImages.filter(`[data-index="${e.galleryLength}d"]`),e.galleryAnimSpeed,{x:"-200%"},{x:"-100%",ease:e.galleryAnimEasing},0),e.galleryIndex=e.galleryLength)})),$(window).on("resize",(function(){e.viewportWidth=$(window).width(),e.$gallery&&n()}))}))},function(e,t){const n={};function o(e=[],t,n){if("location"===t)return function(e,t){return e.filter(e=>{const{jobLocations:n}=e;return n.find(e=>e.name===t)})}(e,n);return e.filter(e=>-1!==e[t].toLowerCase().indexOf(n.toLowerCase()))}function a(e=[],t){n.$jobContainer.html("");const o=e.slice(0,t);!function(e){e&&e.length?n.$mainJobContainer.children().removeClass("empty"):n.$mainJobContainer.children().addClass("empty")}(e),o&&o.forEach((function(e){if(e){const{detailLink:t,title:o,category:a,jobLocations:s}=e,i=s.length,r=i>1?i+" Locations":s[0].name;n.$jobContainer.append(`<a href="${t}" target="_blank" class="row feature-job">\n              <div class="col flex-box-col-sm-5 flex-box-col-md-10">\n                <h3>${o}, ${a}</h3>\n                <p>${r}</p>\n              </div>\n              <div class="col flex-box-col-sm-1 flex-box-col-md-2 carret-container">\n                <img\n                  src="/content/dam/servicenow-assets/images/unauthorable/icon-carret-right.svg"\n                />\n              </div>\n            </a>`)}}))}function s(e,t,s){let i,r,l=n.featuredJobs;e&&(r="category",i=e,l=o(l,r,i)),t&&(r="location",i=t,l=o(l,r,i)),s&&(r="title",i=s,l=o(l,r,i)),a(l,n.count)}n.$container="",n.$locationContainer="",n.$mobileInput="",n.$desktopInput="",n.featuredJobs=[],n.count=5,$(".component-careers-search").length&&$((function(){n.$container=$(".component-careers-search"),n.$locationContainer=n.$container.find("#location-select"),n.$mobileInput=n.$container.find("#search-input-mobile"),n.$desktopInput=n.$container.find("#search-input-all"),n.$jobContainer=n.$container.find(".feature-job-container"),n.$searchContainer=n.$container.find(".search-container"),n.$mainJobContainer=n.$container.find(".main-feature-job-container");const e=n.$container.find(".job-search"),t=n.$container.find(".cta-container .cta-component");function o(e,t){const n=e.name,o=t.name;let a=0;return n>o?a=1:n<o&&(a=-1),a}var a;function i(e){return e.val()}function r(e){return e.find(":selected").text()}function l(){const e=i(n.$container.find("#search-input-all"));let t=r(n.$locationContainer);t="Location"===t?"":t,s(null,t,e)}n.getJobsUrl=n.$searchContainer.attr("data-url"),a=n.$locationContainer,$.ajax({url:"/bin/servicenow/jobvite.careerlocation.json",type:"GET",contentType:"application/json",dataType:"JSON",success(e){200===e.status.code&&e.locations.sort(o).forEach((function(e){"active"===e.locationStatus&&a.append($("<option>",{value:e.name,text:e.name}))}))},error(e){}}),$.ajax({url:n.getJobsUrl,type:"GET",contentType:"application/json",dataType:"JSON",success(e){200===e.status.code&&(n.featuredJobs=e.jobs)},error(e){}}),t.on("click",()=>{const e=function(e,t){const o=i(n.$container.find("#search-input-all")),a=r(n.$locationContainer);let s="";return o&&(s+=`${e}=${o}&`),a&&"Location"!==a&&(s+=`${t}=${a}&`),s}("q","l"),t=e.length>0?"https://jobs.jobvite.com/servicenow/search?"+e:"https://jobs.jobvite.com/servicenow";window.open(t,"_blank")}),e.on("click",e=>{l()}),n.$mobileInput.on("keyup paste",(function(){n.$desktopInput.val($(this).val()),13!==event.which&&13!==event.keyCode||l()})),n.$desktopInput.on("keyup paste",(function(){n.$mobileInput.val($(this).val()),13!==event.which&&13!==event.keyCode||l()}))}))},function(e,t){$(".component-ticker").length&&$((function(){const e=this;let t=$(window).width();e.$tickerContainer=$(".component-ticker"),e.$ticker=e.$tickerContainer.find(".ticker"),e.tickerAnim1=new TimelineMax({paused:!0}),e.tickerAnim2=new TimelineMax({paused:!0}),e.tickerAnimSpeed=30,e.tickerAnimNext=!1,e.tickerImageFadeIn,e.tickerImageFadeOut,e.$tickerContainer,$(window).on("load",()=>{e.$ticker.append(e.$ticker.html()),e.$tickerList=e.$tickerContainer.find(".ticker-list"),e.$tickerItems=e.$tickerContainer.find(".ticker-item"),e.$tickerImages=e.$tickerContainer.find(".ticker-images img"),e.setTimeline=(n,o,a,s,i)=>{n.to(e.$tickerList[a],e.tickerAnimSpeed,{x:-(e.$tickerList.eq(a).outerWidth(!0)+t),ease:Linear.easeNone,onComplete(){e.tickerAnimNext=s},onUpdate(){e.$tickerList.eq(a).offset().left<=t-e.$tickerList.eq(a).outerWidth(!0)&&!e.tickerAnimNext&&(e.tickerAnimNext=i,o.restart())}})},e.setTimeline(e.tickerAnim1,e.tickerAnim2,0,!1,!0),e.setTimeline(e.tickerAnim2,e.tickerAnim1,1,!1,!0),e.tickerAnim1.play(),e.$tickerItems.hover((function(){"hovered"!==$(this).attr("data-state")&&(e.tickerItem=$(this).attr("data-ticker-item"),e.$tickerImages.css("opacity",0),e.tickerImageFadeIn=TweenMax.to(e.$tickerImages.filter(`[data-ticker-image="${e.tickerItem}"]`),.3,{delay:.1,opacity:1,ease:Linear.easeNone}),e.$tickerItems.removeAttr("data-state"),$(this).attr("data-state","hovered")),TweenMax.to(e.tickerAnim1,.5,{timeScale:0}),TweenMax.to(e.tickerAnim2,.5,{timeScale:0})}),(function(){TweenMax.to(e.tickerAnim1,.5,{timeScale:1}),TweenMax.to(e.tickerAnim2,.5,{timeScale:1})})),e.$tickerItems.on("click touchstart",(function(t){const n=$(this);if("#"===n.attr("href")||"##"===n.attr("href")||"#!"===n.attr("href"))if(n.attr("data-ticker-careers")){let o;o=$(".component-search-jobs-sr").length?$(".component-search-jobs-sr"):$(".component-careers-search"),$("html, body").animate({scrollTop:o.offset().top},{duration:"slow"},{easing:"easein"},{complete:(TweenMax.to(e.tickerAnim1,.5,{timeScale:1}),void TweenMax.to(e.tickerAnim2,.5,{timeScale:1}))});const a=n.attr("data-ticker-item");$(".component-search-jobs-sr").length?getFeatureJobsSR("",a):getFeatureJobs("",a),t.preventDefault()}else{const t="#"+n.attr("data-ticker-scroll-to"),o=$(t);$("html, body").animate({scrollTop:o.offset().top},{duration:"slow"},{easing:"easein"},{complete:(TweenMax.to(e.tickerAnim1,.5,{timeScale:1}),void TweenMax.to(e.tickerAnim2,.5,{timeScale:1}))})}})),e.$tickerList.on("mouseleave",(function(){e.tickerImageFadeIn.kill(),e.$tickerItems.removeAttr("data-state"),e.tickerImageFadeOut=TweenMax.to(e.$tickerImages,.3,{opacity:0,ease:Linear.easeNone})}))}),$(window).on("resize",(function(){const n=$(window);n.width()!==t&&(t=n.width(),e.$ticker&&(e.$tickerContainer,e.tickerAnim1.progress(0).clear(),e.tickerAnim2.progress(0).clear(),e.setTimeline(e.tickerAnim1,e.tickerAnim2,0,!1,!0),e.setTimeline(e.tickerAnim2,e.tickerAnim1,1,!1,!0),e.tickerAnim1.play()))}))}))},function(e,t){$(".component-marquee-animated").length&&$((function(){const e=this;e.$marqueeVideo,e.$marqueeCaptions,e.marqueeIndex,e.$marqueeVideo=$(".component-marquee-animated .content-video video"),e.$marqueeCaptions=$(".component-marquee-animated .captions"),e.$ctaSearchJobs=$(".component-marquee-animated .careers-search-jobs"),e.$window=$(window),e.marqueeIndex=0,e.$ctaSearchJobs.on("click",(function(e){e.preventDefault(),$(this),$("html, body").animate({scrollTop:$(".component-careers-search").offset().top},{duration:"slow"},{easing:"easein"})})),e.$marqueeVideo.on("timeupdate",(function(){e.$marqueeVideo.get(0).currentTime>=3&&0===e.marqueeIndex&&(e.marqueeIndex=1,TweenMax.to(e.$marqueeCaptions[0],1,{autoAlpha:0}),TweenMax.to(e.$marqueeCaptions[1],1,{delay:1,autoAlpha:1})),e.$marqueeVideo.get(0).currentTime>=8&&1===e.marqueeIndex&&(e.marqueeIndex=2,TweenMax.to(e.$marqueeCaptions[1],1,{autoAlpha:0}),TweenMax.to(e.$marqueeCaptions[2],1,{delay:1,autoAlpha:1})),e.$marqueeVideo.get(0).currentTime>=13&&2===e.marqueeIndex&&(e.marqueeIndex=null,TweenMax.to(e.$marqueeCaptions[2],1,{autoAlpha:0}),TweenMax.to(e.$marqueeCaptions[0],1,{delay:1,autoAlpha:1}))})),e.$window.on("blur",(function(){TweenLite.lagSmoothing(0)})),e.$window.on("focus",(function(){TweenLite.lagSmoothing(1e3,16)})),e.$marqueeVideo.on("ended",(function(){e.marqueeIndex=0,e.$marqueeVideo.get(0).play()}))}))},function(e,t){function n(e,t){const n=$(e),o=n.find(".component-intro-image-layer .component-asset-block").outerHeight(),a=n.find(".component-intro-inner-container");t.width()>767?a.height(o):a.height("")}if($(".component-intro").length){const e=$(window),t=document.getElementsByClassName("component-intro");let o;$((function(){$(t).each((function(){!function(e,t){const n=$(e),o=n.offset().top,a=.6*window.innerHeight;o<t.scrollTop()+a&&n.addClass("slide-in-image-start")}(this,e),n(this,e)}))})),e.resize((function(){clearTimeout(o),o=setTimeout((function(){$(t).each((function(){n(this,e)}))}),500)})),e.scroll((function(){$(t).each((function(){!function(e,t){const n=$(e),o=n.offset().top,a=.6*window.innerHeight;o<t.scrollTop()+a&&n.addClass("slide-in-image")}(this,e)}))}))}},function(e,t){$(".component-profile").length&&$((function(){const e=this;function t(t,n,o,a,s,i,r,l){e.profilesAnim.clear(),e.profilesAnimSpeed=l||.4,e.profilesAnim.fromTo(e.$profiles.eq(e.profilesIndex),e.profilesAnimSpeed,{x:n},{x:o,autoAlpha:i,ease:Power2.easeIn}).fromTo(e.$profiles.eq(t),e.profilesAnimSpeed,{x:a},{x:s,autoAlpha:r,ease:Power2.easeOut})}function n(){e.$profilesPageControlButtons.removeAttr("disabled"),$(this).attr("disabled","disabled"),$(this).index()>e.profilesIndex?(t($(this).index(),0,-50,50,0,0,1),e.profilesIndex=$(this).index(),a(e.profilesIndex)):$(this).index()<e.profilesIndex&&(t($(this).index(),0,50,-50,0,0,1),e.profilesIndex=$(this).index(),a(e.profilesIndex))}function o(n){const o=-n;e.profilesIndex<e.profilesLength-1?(e.$profilesPageControlButtons.removeAttr("disabled"),e.$profilesPageControlButtons.eq(e.profilesIndex+1).attr("disabled","disabled"),t(e.profilesIndex+1,0,n,o,0,0,1,.2),e.profilesIndex+=1,a(e.profilesIndex)):(e.$profilesPageControlButtons.removeAttr("disabled"),e.$profilesPageControlButtons.eq(0).attr("disabled","disabled"),t(0,0,n,o,0,0,1,.2),e.profilesIndex=0,a(e.profilesIndex))}function a(t){e.$expando=$(".expando"),e.$expandoActive=$(".expando.active"),$(e.$expandoActive).length>0&&($(e.$expandoActive).removeClass("active").hide(),$(e.$expando).eq(t).addClass("active").show())}function s(){e.profilesIndex<e.profilesLength-1?(e.$profilesPageControlButtons.removeAttr("disabled"),e.$profilesPageControlButtons.eq(e.profilesIndex+1).attr("disabled","disabled"),t(e.profilesIndex+1,0,-50,50,0,0,1),e.profilesIndex+=1):(e.$profilesPageControlButtons.removeAttr("disabled"),e.$profilesPageControlButtons.eq(0).attr("disabled","disabled"),t(0,0,-50,50,0,0,1),e.profilesIndex=0)}e.$profiles,e.$profilesButtons,e.$profilesStoryButtons,e.$profilesJobsButtons,e.$profilesPageControlButtons,e.profilesIndex,e.profilesLength,e.profilesAnim,e.profilesAnimSpeed,e.profilesInterval,e.wpProfilesContent,e.initiateWaypoint,function(){const t=$(".component-profile");e.$profiles=t.find(".profiles"),e.$profilesContent=t.find(".profiles-content"),e.$profilesStoryButtons=t.find(".profile-main-cta"),e.$profilesJobsButtons=t.find(".jobs-cta"),e.$profilesPageControlButtons=t.find(".profiles-page-control button"),e.$expando=$(".expando"),e.$expandoActive=$(".expando.active"),e.$expandoCloseButton=$(".expando-close-button"),e.expandoOpen=!1,e.profilesIndex=0,e.profilesLength=e.$profiles.length,e.profilesAnim=new TimelineMax,e.profilesAnimSpeed=.4,e.profilesInterval=setInterval(s,4e3),e.$profilesPageControlButtons.on("click",(function(){clearInterval(e.profilesInterval),n.call(this)})),e.$profilesStoryButtons.on("click",(function(t){if(t.preventDefault(),clearInterval(e.profilesInterval),!1===e.expandoOpen){e.$expando.removeClass("active").hide();const t=$(this).closest($(".profiles")).data("profile-name");$(`.expando[data-profiles-content-name=${t}]`).addClass("active"),e.$expandoCloseButton=$(".expando-close-button"),e.$expandoCloseButton.addClass("sticky"),e.wpProfilesContent=new Waypoint.Inview({element:$(".expando.active .component-profile-content"),enter(t){"up"===t&&e.$expandoCloseButton.addClass("sticky")},entered(t){"up"===t&&e.$expandoCloseButton.removeClass("sticky")},exit(t){"down"===t&&e.$expandoCloseButton.addClass("sticky")},exited(t){e.$expandoCloseButton.removeClass("sticky")}}),e.wpProfilesContent.disable()}function n(){$("html, body").animate({scrollTop:$(".expando.active .component-profile-content").offset().top},{duration:"slow"},{easing:"easein"})}!1===e.expandoOpen?(e.expandoOpen=!0,$(".expando.active").slideDown(750),n(),e.wpProfilesContent.enable()):(e.wpProfilesContent.disable(),$(".expando.active").show(),n(),e.wpProfilesContent.enable())})),Draggable.create(e.$profiles,{type:"x",onDragStart(){clearInterval(e.profilesInterval),"left"===this.getDirection()?o(-50):o(50)}}),e.$profilesJobsButtons.on("click",(function(e){e.preventDefault();const t=$(this);let n;n=$(".component-search-jobs-sr").length?$(".component-search-jobs-sr"):$(".component-careers-search"),$("html, body").animate({scrollTop:n.offset().top},{duration:"slow"},{easing:"easein"});const o=t.attr("data-category-item");$(".component-search-jobs-sr").length?getFeatureJobsSR(o,""):getFeatureJobs(o,"")})),e.$expandoCloseButton.on("click",(function(t){t.preventDefault(),e.expandoOpen=!1}))}()}))},function(e,t){function n(e){$(e).each((function(){const e=$(this),t=e.find(".link-grid-item-text-container"),n=e.find(".component-asset-block").height(),o=e.find(".link-grid-item-text-container p").height();n>=o?t.height(n):t.height(o)}))}if($(".component-link-grid-new").length){const e=$(window),t=document.getElementsByClassName("component-link-grid-new");let o,a;$((function(){$(t).each((function(){!function(e){const t=$(e),n=$(e).find(".link-grid-item");t.find(".careers-search-jobs").on("click",(function(e){e.preventDefault();$(this);$("html, body").animate({scrollTop:$(".component-careers-search").offset().top},{duration:"slow"},{easing:"easein"})})),n.each((function(){const e=$(this),t=$(this).find(".link-grid-item-text-container p:last-of-type");$.trim(t.html()).length||e.addClass("link-grid-new-center-title")}))}(this),o=document.getElementsByClassName("link-grid-new-center-title"),n(o)}))})),e.resize((function(){clearTimeout(a),a=setTimeout((function(){n(o)}),500)}))}},function(e,t){$(".component-profile-content").length&&$((function(){const e=this;e.$expandoCloseButton=$(".expando-close-button"),e.$expandoCloseButton.on("click",(function(){e.wpProfilesContent.disable(),e.$expandoCloseButton.removeClass("sticky"),e.$expando.slideUp(750).removeClass("active"),$("html, body").animate({scrollTop:$(".component-profile").offset().top},{duration:"slow"},{easing:"easein"})}))}))},function(e,t){$(".component-slider").length&&$((function(){!function(){const e=document.querySelectorAll(".component-slider");Object.keys(e).map(t=>e[t]).forEach(e=>{const t=e.querySelectorAll(".circle"),n=Object.keys(t).map(e=>t[e]),o=e.querySelector(".slider-wrapper"),a=e.querySelectorAll(".slider"),s=Object.keys(a).map(e=>a[e]),i=e.getElementsByClassName("slider-controls")[0],r=e.getElementsByClassName("close-button")[0],l=e.getElementsByClassName("left-arrow")[0],c=e.getElementsByClassName("right-arrow")[0];n.forEach(e=>{e.addEventListener("click",()=>{$(".component-slider .circle").removeClass("active");const t=e.getAttribute("data-order-index")-1;e.classList.add("active"),$(o).animate({scrollLeft:o.getBoundingClientRect().width*t})})}),$.fn.swipeDetector=function(e){let t=0,n=0,o=0,a=0,s=0;const i=this,r={swipeThreshold:70,useOnlyTouch:!1};function l(a){e.useOnlyTouch&&!a.originalEvent.touches||(a.originalEvent.touches&&(a=a.originalEvent.touches[0]),0===t&&(t=1,n=a.clientX,o=a.clientY))}function c(n){2===t&&(t=0,Math.abs(a)>Math.abs(s)&&Math.abs(a)>e.swipeThreshold?a<0?i.trigger($.Event("swipeLeft.sd")):i.trigger($.Event("swipeRight.sd")):Math.abs(s)>e.swipeThreshold&&(s<0?i.trigger($.Event("swipeUp.sd")):i.trigger($.Event("swipeDown.sd"))))}function d(i){if(1!==t)return;i.originalEvent.touches&&(i=i.originalEvent.touches[0]);const r=i.clientX-n,l=i.clientY-o;(Math.abs(r)>e.swipeThreshold||Math.abs(l)>e.swipeThreshold)&&(t=2,a=r,s=l)}return e=$.extend(r,e),i.on("mousedown touchstart",l),$("html").on("mouseup touchend",c),$("html").on("mousemove touchmove",d),i};window.screen.width;window.matchMedia("(max-width: 1023px)").matches&&$(o).swipeDetector().on("swipeLeft.sd swipeRight.sd",(function(e){let t=$(".circle.active").attr("data-order-index");"swipeLeft"===e.type?t=parseInt(t)+1:"swipeRight"===e.type&&(t=parseInt(t)-1);const n="circle-"+t;$(".pagination-wrapper").find("."+n).click()})),s.forEach(e=>{window.matchMedia("(min-width: 1024px)").matches&&(e.onclick=t=>{if(!o.classList.contains("slider-full-wide")){const n=t.currentTarget,a=window.getComputedStyle(n.querySelector(".comp-full-bleed-bg-color"));t.preventDefault(),o.parentElement.style.background=a.backgroundColor,$(o).css("visibility","hidden"),$(".card-image img").css("display","none"),$(".slider-wrapper .slider").removeClass("hoverable"),o.classList.add("slider-full-wide"),setTimeout(()=>{$(o).css("visibility","inherit"),$(".card-image img").css("display","inherit")},100);const s=e.getAttribute("data-order-index")-1;$(o).animate({scrollLeft:document.documentElement.clientWidth*s},30,(function(){$(".slider-wrapper .card-description").css("display","block")})),setTimeout((function(){$(i).removeClass("hide-it"),d(o.children[0])?(l.classList.add("disabled"),c.classList.remove("disabled")):d(o.children[o.children.length-1])?(l.classList.remove("disabled"),c.classList.add("disabled")):(l.classList.remove("disabled"),c.classList.remove("disabled"))}),250)}},e.addEventListener("mouseover",(function(){$(".slider-wrapper .slider").addClass("fade-state")})),e.addEventListener("mouseleave",(function(){$(".slider-wrapper .slider").removeClass("fade-state")})))}),r.onclick=()=>{o.classList.remove("slider-full-wide"),$(i).addClass("hide-it"),$(".slider-wrapper .slider").addClass("hoverable"),$(".slider-wrapper .card-description").css("display","none"),o.parentElement.removeAttribute("style")},l.onclick=()=>{$(o).animate({scrollLeft:"-="+o.getBoundingClientRect().right},(function(){d(o.children[0])?l.classList.add("disabled"):c.classList.remove("disabled")}))},c.onclick=()=>{$(o).animate({scrollLeft:"+="+o.getBoundingClientRect().right},(function(){d(o.children[o.children.length-1])?c.classList.add("disabled"):l.classList.remove("disabled")}))};let d=e=>{const t=e.getBoundingClientRect().left,n=e.getBoundingClientRect().right;return t>=0&&n<=document.documentElement.clientWidth}})}()}))},function(e,t){$(".champions-rule-config").length&&$((function(){!function(){$((function(){let e=window.location.href;$(".role-dropdown").on("change",(function(){const t=$(this).val();if(-1==e.indexOf("roleSelector"))e=`${e}?roleSelector=${t}`;else{const n=e.split("roleSelector=")[1];e=e.replace(n,t)}$(".level-dropdown").on("change",(function(){const t=$(this).val();if(-1==e.indexOf(".levelSelector"))e=`${e}&levelSelector=${t}`;else{const n=e.split("levelSelector=")[1];e=e.replace(n,t)}document.location=e}))}))}));const e=(n=window.location.href).split("roleSelector=")[1];if(null!=e){const t=e.split("&levelSelector=")[0],n=e.split("&levelSelector=")[1];$(".role-dropdown").val(t),$(".level-dropdown").val(n)}const t=document.querySelectorAll(".milestone-item p a");var n=window.location.href;t.forEach((function(e){e.addEventListener("click",(function(){let t=n.split("view-admin.html")[0];t=`${t}activity-info.html?activityId=${e.getAttribute("data-link")}`,window.open(t,"myWindow","width=400, height=600")}))}))}()}))},function(e,t){$(".component-your-progress").length&&$((function(){!function(){const e=document.querySelector(".component-your-progress"),t=e.querySelector(".your-progress-overlay");let n,o;const a=[],s=[],i={achievementsJSON:"/public/champuser/yourprogress/"+(ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(getCookie("userId"))),commonJSON:"/common/your-progress/your-progress-common.json"},r={dev:"https://webapi.webdev.servicenow.com",qa:"https://webapi.webqa.servicenow.com",stage:"https://stage.webapi.servicenow.com",prod:"https://webapi.servicenow.com"},l={dev:"https://account.webdev.servicenow.com",qa:"https://account.webqa.servicenow.com",stage:"https://account.webstg.servicenow.com",prod:"https://account.servicenow.com"},c=e.getAttribute("data-com-attribute"),d=JSON.parse(c);let u;t.querySelector(".incomplete-text").innerHTML=d.IncompleteText,t.querySelector(".completed-text").innerHTML=d.CompletedText;let m=0;const p=(t,n)=>{let o=0;t.Milestones.map(t=>{const s=document.createElement("div");s.className="progress-level-body-progress-item",null!=a&&a.indexOf(t.MilestoneId)>-1&&(o+=1,s.className="progress-level-body-progress-item progress-item-completed"),s.innerHTML=`<div class="progress-level-body-progress-item-wrapper">\n                                  <span class="progress-level-body-progress-item-title">${t.MilestoneDescription}</span>\n                                </div>`,e.getElementsByClassName("your-progress-content-wrapper")[u].getElementsByClassName("progress-level-body-wrapper")[n].appendChild(s)});const s=e.getElementsByClassName("your-progress-content-wrapper")[u].getElementsByClassName("progress-level-body-wrapper")[n].parentElement.previousElementSibling;s.querySelector(".progress-level-head-subtitle-text").innerHTML=o;const i=document.createElement("div");i.className="progress-level-head-flag",i.innerHTML=d.AllDoneLabel,s.querySelector(".progress-level-head-subtitle-text").innerHTML==s.querySelector(".progress-level-head-subtitle-value").innerHTML&&s.getElementsByClassName("progress-level-head-subtitle")[0].appendChild(i)};$(e).on("click",".progress-level-body-progress-item",(function(t){this.closest(".your-progress").children[0].classList.remove("disable"),$("body").css("overflow","hidden");const o=this.getElementsByClassName("progress-level-body-progress-item-title")[0].innerHTML,a=[...this.parentElement.children].indexOf(this),s=this.parentElement.parentElement.parentElement,i=[...s.parentElement.children].indexOf(s),r=s.parentElement.parentElement,l=[...r.parentElement.children].indexOf(r),c=n[l-1].Levels[i].Milestones[a].MilestoneActivities,d=e.querySelector(".tab-link.current .tab-name").innerHTML,u=s.querySelector(".progress-level-head-title-text").innerHTML;f(o,c,d,u)}));const f=(e,n,o,a)=>{t.getElementsByTagName("h2")[0].innerHTML=`${o}, ${a}`,t.getElementsByTagName("h2")[0].setAttribute("data-com-title",`${a.replace(/\s+/g,"-").toLowerCase()}-${e.replace(/\s+/g,"-").toLowerCase()}`),t.getElementsByClassName("overlay-milestone-title")[0].innerHTML=e;let i=0;const r=n.length;t.getElementsByClassName("completed-count")[0].innerHTML=`${i}/${r}`;const l=t.getElementsByClassName("pending-items-group")[0],c=t.getElementsByClassName("completed-items-group")[0];n.map(e=>{null!=s&&s.indexOf(e.id)>-1?(h(c,e),i+=1):g(l,e)}),t.getElementsByClassName("completed-count")[0].innerHTML=`${i}/${r}`},g=(e,t)=>{let n=t.conditionText;null===n&&(n="Or");const o=document.createElement("div");o.className="condition-div",o.innerHTML=`<hr>\n                              <span class="small-body-copy">${n}</span>\n                              <hr>`;const a=document.createElement("div");a.className="todo-items",null!=t.url?a.innerHTML=`<span class="small-body-copy">${t.description}</span>                                <div class="todo-cta">                                  <div class="cta-component cta-text-arrow gable-green-text">\n                                    <a data-com-cta="complete-this-now" href="${t.url}" target="_blank">Complete this now\n                                      <span class="cta-title-link-arrow">\n                                          <svg width="55px" height="14px" viewBox="0 0 24 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="svg-group" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"> <g id="Secondary-CTA-Dark" transform="translate(-102.000000, -8.000000)" stroke="#81B5A1" stroke-width="2"> <g transform="translate(0.000000, 5.000000)" id="Page-1"> <g transform="translate(103.000000, 4.000000)"><g class="path-1"> <path d="M0,5 L31,5" id="Stroke-1"></path> <polyline id="polyline-3" points="17 10 22 5 17 0"></polyline> </g> </g> </g> </g> </g>\n                                          </svg>\n                                      </span>\n                                    </a>\n                                    <span class="cta-background-full"></span>\n                                  </div>\n                                </div>`:a.innerHTML=`<span class="small-body-copy">${t.description}</span>`,e.appendChild(a),e.appendChild(o)},h=(e,t)=>{const n=document.createElement("div");n.classList="items-done small-body-copy",n.innerHTML=`<span class="items-done-text small-body-copy">${t.description}</span>`,e.appendChild(n)},v=t=>{t.map((t,n)=>{((t,n)=>{u=t,t=parseInt(t)+1;const o=document.createElement("li");o.className="tab-link",o.setAttribute("data-tab","tab-"+t),o.innerHTML=`<label data-com-title="your-progress-${n.RoleName.replace(/\s+/g,"-").toLowerCase()}" class="tab-name small-body-copy">${n.RoleName}</label>`,e.getElementsByClassName("horizontal-tabs-list")[0].appendChild(o);const a=document.createElement("div");a.className="your-progress-content-wrapper",a.setAttribute("id","tab-"+t),a.innerHTML='<div class="progress-level-wrapper"></div>',e.getElementsByClassName("your-progress")[0].appendChild(a)})(n,t),((t,n)=>{n.Levels.map((o,a)=>{const s=d.Author[m].Levels[a].ToolTipDescription,i=document.createElement("ul");Array.isArray(s)&&s.map(e=>{const t=document.createElement("li");t.innerHTML=e,i.appendChild(t)});const r=document.createElement("div");r.className="progress-level-item",r.innerHTML=`<div class="progress-level-head">                            <div class="progress-level-head-left">                              <div class="progress-level-head-icon-text">                                <div class="progress-level-head-icon">                                  <img src="${d.Author[m].Levels[a].LevelIcon}">                                </div>                                <div class="progress-level-head-title-content">                                  <div class="progress-level-head-title">                                    <h5 data-com-title="your-progress-${n.RoleName.replace(/\s+/g,"-").toLowerCase()}-${o.LevelName.replace(/\s+/g,"-").toLowerCase()}" class="progress-level-head-title-text">${o.LevelName}</h5>                                    <div class="infodot-wrapper">\n                                      <span class="infodot-icon">i</span>\n                                      <div class="infodot-content hide-infodot-content">\n                                        <div class="infodot-content-wrapper">\n                                          <span class="infodot-close-icon"></span>\n                                          <span class="infodot-title">${d.Author[m].Levels[a].ToolTipTitle}</span>\n                                          <span class="infodot-desc"></span>\n                                        </div>\n                                        <div class="infodot-arrow-triangle"></div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                  <div class="progress-level-head-subtitle">\n                                      <h5 class="progress-level-head-subtitle-text"></h5>/\n                                      <h5 class="progress-level-head-subtitle-value">${o.TotalNumberOfMilestoneInLevel}</h5>\n                                  </div>\n                                </div>\n                              </div>                            </div>                          </div>\n                          <div class="progress-level-body">\n                            <div class="progress-level-body-wrapper">\n                            </div>\n                          </div>`,r.querySelector(".infodot-desc").appendChild(i),e.getElementsByClassName("progress-level-wrapper")[t].appendChild(r),p(o,a)}),m+=1})(n,t)})};$(e).on("click",".horizontal-tabs-list .tab-link",(function(e){const t=this.getAttribute("data-tab");this.parentElement.querySelector(".current").classList.remove("current");const n=this.closest(".component-your-progress");n.querySelector(".content .current").classList.remove("current"),this.classList.add("current");n.querySelector(".content").querySelector("#"+t).classList.add("current")}));e.querySelectorAll(".horizontal-tabs-list").forEach(e=>e.addEventListener("scroll",()=>{const t=e.children[0].getBoundingClientRect().x-e.getBoundingClientRect().x;t<0?e.classList.add("fade-left"):0===t&&e.classList.remove("fade-left");const n=e.children.length,o=e.children[n-1],a=e.getBoundingClientRect().right-o.getBoundingClientRect().right;0===Math.round(a)?e.classList.remove("fade-right"):(a<0||a>0)&&e.classList.add("fade-right")}));t.querySelectorAll(".overlay-close-icon").forEach((function(e){return e.addEventListener("click",(function(){e.closest(".your-progress-overlay").classList.add("disable"),t.getElementsByClassName("pending-items-group")[0].innerHTML="",t.getElementsByClassName("completed-items-group")[0].innerHTML="",$("body").css("overflow","inherit")}))})),$(document).on("click",(function(e){!$(e.target).hasClass("overlay-content-inner-wrapper")&&null===e.target.closest(".progress-level-body-progress-item")&&$(e.target).hasClass("overlay-outer-background")&&(t.getElementsByClassName("pending-items-group")[0].innerHTML="",t.getElementsByClassName("completed-items-group")[0].innerHTML="",$(".your-progress-overlay").addClass("disable"),$("body").css("overflow","inherit"))}));(t=>{const i=window.location.href,c=e=>{$.ajax({url:e,type:"GET",headers:{appId:"martech","Content-Type":"application/json",Accept:"application/json"},crossDomain:!0,success(e){o=e,o.milestoneIds.length>0&&o.milestoneIds.map(e=>{a.push(e.id)}),o.activityIds.length>0&&o.activityIds.map(e=>{s.push(e.id)}),d()}}).fail((function(){o={milestoneIds:[],activityIds:[],levelIds:[]},d()}))},d=()=>{const o=t=>{$.getJSON(t,(function(t){v(t),n=t,e.getElementsByClassName("tab-link")[0].classList.add("current"),e.getElementsByClassName("your-progress-content-wrapper")[0].classList.add("current")}))};i.indexOf("dev-www.servicenow.com")>-1?o(l.dev+t.commonJSON):i.indexOf("qa-www.servicenow.com")>-1?o(l.qa+t.commonJSON):i.indexOf("stage-www.servicenow.com")>-1?o(l.stage+t.commonJSON):o(l.prod+t.commonJSON)};i.indexOf("dev-www.servicenow.com")>-1?c(r.dev+t.achievementsJSON):i.indexOf("qa-www.servicenow.com")>-1?c(r.qa+t.achievementsJSON):i.indexOf("stage-www.servicenow.com")>-1?c(r.stage+t.achievementsJSON):c(r.prod+t.achievementsJSON)})(i)}()}))},function(e,t){$(".component-champions-common").length&&$((function(){!function(){document.cookie.indexOf("userId"),document.cookie.indexOf("idToken");window.location.href.indexOf("aem-author-");$(document).on("click",(function(e){$(e.target).closest(".infodot-content-wrapper").length||e.target.classList.contains("infodot-icon")||$(".infodot-content").addClass("hide-infodot-content")})),$(document).on("click",".infodot-icon",(function(e){const t=this.nextElementSibling;t.classList.contains("hide-infodot-content")?($(".infodot-content").addClass("hide-infodot-content"),t.classList.remove("hide-infodot-content")):t.classList.add("hide-infodot-content")})),$(document).on("click",".infodot-close-icon",(function(e){this.parentElement.parentElement.classList.add("hide-infodot-content")}))}()}))},function(e,t){},function(e,t){$(".component-share-resume").length&&$((function(){!function(){const e=document.querySelector(".component-share-resume"),t=(e.querySelector(".infodot-wrapper"),e.getElementsByClassName("copy-url-cta")[0]);t.getElementsByTagName("a")[0].addEventListener("click",(function(t){t.preventDefault();const n=e.getElementsByClassName("account-url")[0].innerText,o=document.createElement("textarea");o.value=n,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)})),$(".copy-clipboard a").click((function(e){e.preventDefault();const t=$(".component-share-resume p.account-url").text();$('<input type="hidden">').text(t).select(),document.execCommand("copy")}))}()}))},function(e,t){$(".component-achievements-view").length&&$((function(){const e=window.location.pathname.split("/").pop(),t={year:"numeric",month:"long",day:"numeric"};let n="",o={};const a=e=>{0===e.nowCreators.length&&0===e.nowLearning.length&&0===e.community.length?s():function(e){null!=e&&(o=e);const n={nowCreators:{title:"Super Badges",tilesRendered:0,$tileContainer:null,$loadMoreCta:null},nowLearning:{title:"Now Learning achievements",tilesRendered:0,$tileContainer:null,$loadMoreCta:null},community:{title:"Now Community achievements",tilesRendered:0,$tileContainer:null,$loadMoreCta:null}},a=Object.keys(o);a.sort(),a.push(a.shift()),a.map(e=>{const a="section-"+e,{title:s}=n[e]||{};let i="";const r=o[e],l=$(".hidden-button-text").html();r.map(o=>{if("1"===o.isPublic){n[e].tilesRendered++;const{icon:a,title:s,subTitle:r,date:l,tooltipTitle:c,tooltipDescription:d,level_points:u}=o;i+=`\n              <div class='achievements-tile flex-box-col-sm-3 flex-box-col-md-4 flex-box-col-xlg-2'>\n                <div class='achievements-icon' data-com-cta='${c}'>\n                  <img src='${a}' alt='' />\n                </div>\n                <div class="tooltip">\n                  <span class="tooltip-arrow"></span>\n                  <img class="tooltip-cross" src="/content/dam/servicenow-assets/images/unauthorable/close-icon-white.svg">\n                  <div class="tooltip-body">\n                    <div class='tooltip-title'>${c}</div>\n                    <div class='tooltip-description'>${d}</div>\n                  </div>\n                </div>\n                <div class='achievements-title' data-com-title='${s}'>${s}</div>\n                <div class='achievements-subtitle'>${r||""}</div>\n                <div class='achievements-subtitle2'>${u||""}</div>\n                <div class='achievements-date'>${l?""+new Date(l).toLocaleDateString("en-US",t):" "}</div>\n              </div>\n            `}});const c=n[e].tilesRendered>6?`\n            <div class='view-all-cta'>\n              <hr>\n              <div class='cta-component cta-rectangle-box gable-green-cta gable-green-text'>\n                <a data-com-cta='view-all ${s||""}' href='javascript:void(0);'>${l}\n                  <span class='cta-title-link-arrow'>\n                    <svg width="55px" height="14px" viewBox="0 0 24 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="svg-group" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"> <g id="Secondary-CTA-Dark" transform="translate(-102.000000, -8.000000)" stroke="#81B5A1" stroke-width="2"> <g transform="translate(0.000000, 5.000000)" id="Page-1"> <g transform="translate(103.000000, 4.000000)"><g class="path-1"> <path d="M0,5 L31,5" id="Stroke-1"></path> <polyline id="polyline-3" points="17 10 22 5 17 0"></polyline> </g> </g> </g> </g> </g></svg>\n                  </span>\n                </a>\n              </div>\n              <hr>\n            </div>\n          `:"",d=`\n          <div id='${a}' class='achievements-section flex-box-col-sm-6 flex-box-col-md-12'>\n            <h3 class='achievements-section-title' data-com-title='${s||""}'>${s||""}</h3>\n            <div class='achievements-tile-container'>${i.length?""+i:"<h5>No achievements available</h5>"}</div>\n            ${c}\n          </div>\n        `;$(".content-wrapper").append(d),0===i.length&&$("#"+a).addClass("hide");$(`#${a} .cta-component`).on("click",(function(){$("#"+a).toggleClass("show-all"),$("#"+a).hasClass("show-all")?$(this).find("a").text("close"):$(this).find("a").text(l)})),$(".achievements-icon").on("click",(function(e){e.stopPropagation(),$(".tooltip").css({display:"none",opacity:0}),$(this).next(".tooltip").css({display:"flex",opacity:1})})),$(".tooltip-cross").on("click",(function(e){e.stopPropagation(),$(this).parent(".tooltip").css({display:"none",opacity:0})})),$(document).click((function(){$(".tooltip").css({display:"none",opacity:0})}))}),$("#section-nowCreators").hasClass("hide")&&$("#section-nowLearning").hasClass("hide")&&$("#section-community").hasClass("hide")&&s()}(e)},s=()=>{$(".content-wrapper").append('<div class="achievements-section flex-box-col-sm-6 flex-box-col-md-12"><h3>This Now Creator isn\'t displaying any achievements yet.</h3></div>')};if("preview.html"===e){const e={dev:"https://webapi.webdev.servicenow.com",qa:"https://webapi.webqa.servicenow.com",stage:"https://webapi.webstg.servicenow.com",prod:"https://webapi.servicenow.com"};let t=null;const n="/public/champuser/achievements/resume_settings/",o=(e,n)=>{$.ajax({url:`${t}${e}${n}`,type:"GET",crossDomain:!0,headers:{appId:"martech","Content-Type":"application/json",Accept:"application/json"}}).done(e=>{a(e)}).fail(e=>{})},s=()=>{const e=ContextHub.getStore("servicenow-sso").getItem("userName");o(n,e)};(()=>{switch(window.location.origin){case"https://www.servicenow.com":t=e.prod;break;case"https://stage-www.servicenow.com":t=e.stage;break;case"https://qa-www.servicenow.com":t=e.qa;break;case"https://dev-www.servicenow.com":t=e.dev;break;default:t=e.stage}})(),s()}else"resume.html"===e?(n="./profile-widget/resume/resume_settings.json",$.getJSON(n,(function(e){a(e.resume_settings)})).fail((function(){s()}))):s()}))},function(e,t){if($(".edit-achievements-component").length){const e=document.querySelector(".edit-achievements-component"),t={year:"numeric",month:"long",day:"numeric"},n={dev:"https://webapi.webdev.servicenow.com",qa:"https://webapi.webqa.servicenow.com",stage:"https://webapi.webstg.servicenow.com",prod:"https://webapi.servicenow.com"};let o,a,s=[];const i=e.querySelector(".no-achievements-msg").getAttribute("data-message");let r=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(getCookie("userId"));const l="/public/champuser/achievements/resume_settings/update",c=window.location.href;o=c.indexOf("dev-www.servicenow.com")>-1?n.dev+l:c.indexOf("qa-www.servicenow.com")>-1?n.qa+l:c.indexOf("stage-www.servicenow.com")>-1?n.stage+l:n.prod+l;const d=e=>{$.ajax({url:`${e}/public/champuser/achievements/resume_settings/${r}`,type:"GET",headers:{appId:"martech","Content-Type":"application/json",Accept:"application/json"},crossDomain:!0,success(e){a=e,f(a),g()}}).fail((function(){}))},u=()=>{c.indexOf("dev-www.servicenow.com")>-1?d(n.dev):c.indexOf("qa-www.servicenow.com")>-1?d(n.qa):c.indexOf("stage-www.servicenow.com")>-1?d(n.stage):d(n.prod)};null===r?setTimeout((function(){r=ContextHub.getStore("servicenow-sso").getItem("userName")||decodeURIComponent(getCookie("userId")),u()}),1e3):u();const m=(e,t,n,a)=>{$.ajax({url:`${o}/${e}/${t}`,type:"PUT",contentType:"application/json",headers:{appId:"martech","Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},data:{flag:n,achievementId:a},success(e,t){},error(e){}})},p=(e,n,o)=>{const a=document.createElement("div");a.className="championAchievements",a.innerHTML='<section class="component-edit-achievements component-champions-common"> \n                                        <div class="edit-achievements-wrapper">\n                                        </div>\n                                      </section>';const r=e=>{const t=document.createElement("div");t.className="persona-table",t.setAttribute("data-subtype",(e||"Achievements").replace(/\s+/g,"-").toLowerCase()),t.innerHTML=`<div class="persona-heading-row">\n                                  <div class="persona-title">${e||"Achievements"}</div>\n                                  <div class="achieved-by">Earned on</div>\n                                  <div class="privacy-toggles">\n                                    <input class="switch private" value="private" type="radio" name="switch" disabled="">\n                                    <label class="set-private set-all" for="private" data-source="${o}" data-flag="0">All Private</label>\n                                    <input class="switch public" type="radio" value="public" name="switch" disabled="">\n                                    <label class="set-public set-all" for="public" data-source="${o}" data-flag="1">All Public</label>\n                                  </div>\n                                </div>`,a.querySelector(".edit-achievements-wrapper").appendChild(t)};n.map(e=>{-1==s.indexOf(e.achievement_sub_type)&&(s.push(e.achievement_sub_type),r(e.achievement_sub_type));const n=document.createElement("div");if(n.className="persona-tile left-padding-sm-1 left-padding-md-0",n.innerHTML=`<div class="achievement-icon">\n                              <img class="achievement-icon-img" src="${e.icon}" alt="${e.tooltipTitle}">\n                            </div>\n                            <div class="achievement-data left-padding-sm-1 left-padding-md-0">\n                              <div class="achievement-label">${e.title} <br> <span class="achievement-subtitle">${e.level_points||""}</span></div>\n                              <div class="badge-date" data> ${new Date(e.date).toLocaleDateString("en-US",t)} </div>\n                            </div>\n                            <div class="privacy-toggle left-padding-sm-2 left-padding-md-0">\n                              <div class="privacy-switch">\n                                <input data-achievement-id="${e.achievement_id}" class="public-private-switch" type="checkbox" data-source="${o}">\n                              </div>\n                            </div>`,"1"===e.isPublic){const e=n.querySelector(".public-private-switch");$(e).prop("checked",!0)}null==e.date&&(n.querySelector(".badge-date").style.display="none"),s.indexOf(e.achievement_sub_type)>-1||r(e.achievement_sub_type),a.querySelector(`[data-subtype=${(e.achievement_sub_type||"Achievements").replace(/\s+/g,"-").toLowerCase()}]`).appendChild(n),"/"===e.icon.charAt(0)&&n.querySelector(".achievement-icon-img").setAttribute("src","https://servicenow.com"+e.icon)}),e.appendChild(a),null===e.querySelector(".persona-table")&&(e.querySelector(".edit-achievements-wrapper").innerHTML=`<h3> ${i} </h3>`),s=[]},f=t=>{let n=1;for(const o in t){let a=o.charAt(0).toUpperCase()+o.slice(1);a=a.replace(/([A-Z])/g," $1").trim();const s=document.createElement("li");s.className="tab-link",s.setAttribute("data-tab","tab-"+n),s.setAttribute("tab-name",""+o),s.innerHTML=`<label class="tab-name small-body-copy">${a}</label>`,e.querySelector(".horizontal-tabs-list").appendChild(s);const i=document.createElement("div");i.className="tabbed-card-content-wrapper",i.setAttribute("id","tab-"+n),i.setAttribute("tab-name",""+o),e.querySelector(".tabbed-cards").appendChild(i),p(i,t[o],o),n+=1}},g=()=>{e.getElementsByClassName("tab-link")[0].classList.add("current"),e.getElementsByClassName("tabbed-card-content-wrapper")[0].classList.add("current")};$(e).on("click",".public-private-switch",(function(e){const t=e.target.getAttribute("data-achievement-id"),n=e.target.getAttribute("data-source");let o;o=$(e.target).prop("checked")?"1":"0",m(n,r,o,t)})),$(e).on("click",".set-all",(function(e){const t=e.target.getAttribute("data-flag"),n=e.target.getAttribute("data-source");m(n,r,t,"-1");const o=e.target.closest(".tabbed-card-content-wrapper").querySelectorAll(".public-private-switch");1==t?o.forEach(e=>{$(e).prop("checked",!0)}):o.forEach(e=>{$(e).prop("checked",!1)})})),$(e).on("click",".horizontal-tabs-list .tab-link",(function(e){const t=this.getAttribute("data-tab");this.parentElement.querySelector(".current").classList.remove("current");const n=this.closest(".edit-achievements-component");n.querySelector(".tabbed-content .current").classList.remove("current"),this.classList.add("current");n.querySelector(".tabbed-content").querySelector("#"+t).classList.add("current")}));e.querySelectorAll(".horizontal-tabs-list").forEach(e=>e.addEventListener("scroll",()=>{const t=e.children[0].getBoundingClientRect().x-e.getBoundingClientRect().x;t<0?e.classList.add("fade-left"):0===t&&e.classList.remove("fade-left");const n=e.children.length,o=e.children[n-1],a=e.getBoundingClientRect().right-o.getBoundingClientRect().right;0===Math.round(a)?e.classList.remove("fade-right"):(a<0||a>0)&&e.classList.add("fade-right")}))}},function(e,t){$(".component-champions-breadcrumb").length&&$((function(){const e=window.location.search,t=new URLSearchParams(e),n=t.get("championReferer"),o=t.get("championSource");let a=decodeURIComponent(n);if("now-learning"===o||"now-hub"===o?a=a.split("?")[0]:"community"===o&&a.endsWith("%2F")&&(a=a.replace("%2F","")),a.length&&"null"!==a&&void 0!==a){!function(){let e="";"community"===o?e="Back to Now Community":"now-learning"===o?e="Back to Now Learning":"now-hub"===o&&(e="Back to Now Hub"),$(".breadcrumb-wrapper").append(`<a class='breadcrumb-link' href='${a}'>\n            <img src='/content/dam/servicenow-assets/images/unauthorable/arrow-icon.svg' class='back-arrow-icon' alt='back arrow' />\n            <div class='breadcrumb-link-text small-body-copy'>${e}</div>\n          </a>`)}()}}))},function(e,t){$(".component-secondary-nav").length&&$((function(){!function(){const e=location.pathname,t=$(".component-secondary-nav").find(".nav-tab-list-item");t.each((function(){const t=$(this)[0],n=t.getAttribute("href");e.includes(n)&&t.classList.add("active-link")}));let o=document.querySelectorAll(".nav-tab-list-item");o=[].slice.call(o),o.forEach((function(e){e.addEventListener("mouseover",(function(){t.addClass("fade-state"),$(e).removeClass("fade-state")})),e.addEventListener("mouseleave",(function(){t.removeClass("fade-state")}))})),$(".component-secondary-nav li a").click((function(){const e=this.nextElementSibling;if(t.removeClass("active-link"),t.addClass("fade-state"),this.nextElementSibling){if("block"===e.style.display)$(this).removeClass("active-link"),$(".nav-tab-link .sub-accordion-chevron").removeClass("rotate"),e.style.display="none",t.removeClass("fade-state");else if($(".nav-tab-sub-list-container").hide(),$(this).addClass("active-link"),$(".nav-tab-link .sub-accordion-chevron").addClass("rotate"),e.style.display="block",window.matchMedia("(min-width: 768px)").matches&&(e.style.marginLeft=`-${$(e).width()/2}px`),$(".scroll-after").hasClass("hide-visibility")){const t=$(".title-chevron").outerWidth(),n=$(".scroll-before").outerWidth(),o=$(this).parent().parent().index();let a=0;for(let e=0;e<o;e++){a+=document.getElementsByClassName("nav-tab-link")[e].getBoundingClientRect().width}const s=t+n+a,i=$(this).offset().left-s-$(e).width()/2,r=$(this).parent().parent().outerWidth()/2;e.style.marginLeft=i-r+"px"}}else $(".nav-tab-link .sub-accordion-chevron").removeClass("rotate"),$(".nav-tab-sub-list-container").hide(),$(this).removeClass("fade-state")})),window.matchMedia("(max-width: 767px)").matches&&$(".site-wrapper").css("padding-bottom","48px");if($(".nav-links .scroll-before").click((function(){$(".nav-links .wrapper").animate({scrollLeft:"-=1000"},500),$(".nav-links .scroll-before").addClass("hide-visibility"),$(".nav-links .scroll-after").removeClass("hide-visibility")})),$(".nav-links .scroll-after").click((function(){$(".nav-links .wrapper").animate({scrollLeft:"+=1000"},500),$(".nav-links .scroll-after").addClass("hide-visibility"),$(".nav-links .scroll-before").removeClass("hide-visibility")})),n(),$(window).resize((function(){n(),$(".nav-tab-sub-list-container").css({"margin-left":0}),window.matchMedia("(min-width: 767px)").matches&&$(".component-secondary-nav .date-cta").removeClass("custom-cta"),window.matchMedia("(max-width: 767px)").matches&&$(".component-secondary-nav .date-cta").addClass("custom-cta")})),window.matchMedia("(min-width: 767px)").matches&&window.matchMedia("(max-width: 767px)").matches){let e=document.querySelectorAll(".nav-links li");e=[].slice.call(e),e.forEach((function(e){if(e.childElementCount>1){const t=document.createElement("div");t.classList.add("chevron-bg"),$(e).append(t)}}))}$(document).bind("click",(function(e){const t=$(e.target);t.is(".nav-tab-list-item")||t.parents().hasClass("nav-tab-list-item")||t.parents().hasClass("nav-tab-sub-list-container")||($(".nav-tab-sub-list-container").parent().find(".nav-tab-list-item").removeClass("active-link"),$(".nav-links .wrapper .nav-tab-list-item").removeClass("fade-state"),$(".nav-tab-sub-list-container").hide(),$(".nav-tab-link .sub-accordion-chevron").removeClass("rotate"))})),$(".component-secondary-nav .nav-btn").click((function(){$(".nav-btn").toggleClass("rotate")})),window.matchMedia("(max-width: 767px)").matches&&$(".title-chevron .accordion-chevron").click((function(){$("body").hasClass("secondaryNavBackgroundScrollLock")?($("body").removeClass("secondaryNavBackgroundScrollLock"),$(".transparent-secondary-nav").css("background-color","transparent")):($("body").addClass("secondaryNavBackgroundScrollLock"),$(".transparent-secondary-nav").css("background-color","white"))}));$(".in-page-navigation-component").length||($(window).scroll((function(){const e=$(".sn-global-meganav #meganav18");window.matchMedia("(max-width: 767px)").matches?$(window).scrollTop()>48?(e.css({opacity:"0","z-index":"-1"}),$(".component-secondary-nav").addClass("sticky-secondary-nav"),$(".component-secondary-nav").hasClass("transparent-secondary-nav")||$("body").css("padding-top","48px")):(e.css({opacity:"","z-index":""}),$(".component-secondary-nav").removeClass("sticky-secondary-nav"),$(".component-secondary-nav").hasClass("transparent-secondary-nav")||$("body").css("padding-top","0")):$(window).scrollTop()>80?(e.css({opacity:"0","z-index":"-1"}),$(".component-secondary-nav").addClass("sticky-secondary-nav"),$(".component-secondary-nav").hasClass("transparent-secondary-nav")||$("body").css("padding-top","80px")):(e.css({opacity:"","z-index":""}),$(".component-secondary-nav").removeClass("sticky-secondary-nav"),$(".component-secondary-nav").hasClass("transparent-secondary-nav")||$("body").css("padding-top","0"))})),window.matchMedia("(max-width: 767px)").matches&&$(".component-secondary-nav .date-cta").addClass("custom-cta"))}()}));var n=function(){const e=$(".nav-links .wrapper").outerWidth(!0),t=$(".nav-links");let n=document.querySelectorAll(".wrapper .nav-tab-link");n=[].slice.call(n);let o=0;n.forEach((function(e){o+=e.getBoundingClientRect().width}));e+.5<o.toFixed(3)?(t.find(".scroll-before").css("display","block"),t.find(".scroll-before").click(),t.find(".scroll-after").css("display","block")):(t.find(".scroll-before").css("display","none"),t.find(".scroll-after").css("display","none"))}},function(e,t){$(document).ready((function(){$(".component-achievements").length&&$((function(){!function(){const e=initUtils(),t=e.customEvent,n=(e,t,n)=>n?$.ajax({url:t,type:e,headers:{appId:"martech","Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify(n),crossDomain:!0,success:e=>e}).fail((function(){})):$.ajax({url:t,type:e,headers:{appId:"martech","Content-Type":"application/json",Accept:"application/json"},crossDomain:!0,success:e=>e}).fail((function(){})),o=e=>{const t=new Date(Date.parse(e.replace(/ /g,"T"))),n=t.getFullYear();return`${t.toLocaleString("en-us",{month:"long"})}  ${t.getDate()},  ${n}`},a=(e,t,n)=>`\n      <div class="horizontal-tabbed-component champions-achievements" data-com-name="horizontal-tabs" data-com-component-name="horizontal-tabs" data-com-name-variant="default">\n          <div class="horizontal-tabbed-component-inner-wrapper">\n            <div class="horizontal-tabs-wrapper tabs-background-transparent">\n              <ul class="horizontal-tabs-list fade-right" data-tabs="tabs">\n                ${e.map((e,t)=>s(e,t)).join("")}\n              </ul>\n            </div>\n            <div class="horizontal-rule"></div>\n            <div class="tabbed-content achievements-tabbed-content content" data-panes="tab-content">\n              ${t.map((e,t)=>i(n?l:r,e,t)).join("")}\n            </div>\n          </div>\n        </div>\n      </div>\n    `,s=(e,t)=>`\n      <li class="tab-link ${0===t?"current":""}" data-tab="${e.id}">\n        <label class="tab-name small-body-copy">${e.label} (${e.count})</label>\n      </li>\n    `,i=(e,t,n)=>`\n      <div class="tabbed-content-wrapper ${0===n?"current":""} component-reveal-more" id="${t.id}">\n        <div class="reveal-more" data-show="${t.numRows}" data-target=".badge-row-container" data-show-count="true" data-items-to-count=".badge-container">\n        ${e(t.badges)}\n        </div>\n      </div>\n    `,r=e=>({chunk(e,t){const n=[];let o=0;for(;o<e.length;)n.push(e.slice(o,o+t)),o+=t;return n},template:e=>`\n        <div class="badge-container">\n          <div class="badge-content">\n            <div class="badge-icon"><img class="badge-icon-img" src="${e.icon}"/></div>\n            <h5 class="badge-title">${e.title}</h5>\n            <div class="badge-info">\n              ${e.date?`<p class="earned-on">Earned on ${o(e.date)}</p>`:""}\n              <div class="profile-type ${"1"===e.isPublic?"public":"private"}" data-id="${e.id}">${"1"===e.isPublic?"Public":"Private"}</div>\n            </div>\n          </div>\n        </div>\n        `,buildBadge(){return this.chunk(e.map(e=>this.template(e)),4)},buildRow(){return this.buildBadge().map(e=>`<div class="badge-row-container">${e.join("")}</div>`).join("")}}.buildRow()),l=e=>({template:e=>`\n          <div class="badge-row-container row-content">\n            <div class="left-column">\n              <div class="badge-icon"><img class="badge-icon-img" src="${e.icon}"/></div>\n            </div>\n            <div class="mid-column privacy-info">\n              <h5 class="badge-title">${e.title}</h5>\n              ${e.date?`<p class="earned-on">Earned on ${o(e.date)}</p>`:""}\n            </div>\n            <div class="right-column">\n              <div class="toggle-button">\n                <input data-achievement-id="${e.achievement_id}" class="toggle-switch edit-badge-toggle" type="checkbox" data-id="${e.id}" ${"1"===e.isPublic?"checked":""}>\n              </div>\n            </div>\n          </div>\n        `,buildBadgRows(){return e.map(e=>this.template(e)).join("")}}.buildBadgRows()),c=(t,n)=>{const o="Make all badges public",a="Make all badges private",s=e=>{let t="";return e?(t=a,privacyToggleCheck=!0):(t=o,privacyToggleCheck=!1),t},i={init(){this.elem=t,this.events=e.customEvent,this.label=t.parentElement.querySelector(".toggle-label"),this.elem.addEventListener("click",this.toggleChanged.bind(this),!1)},toggleChanged(e){const t=e.target;t.label;t.id===this.elem.id&&(this.label.textContent=s(t.checked),n&&n(t.checked))},get isChecked(){return t.checked},set checked(e){this.label.textContent=s(e),t.checked=e}};return Object.create(i)},d=document.getElementById("component_now_creators_common_profile"),u=document.getElementById("achievements"),m=d.dataset.mode,p=localStorage.getItem("apiRoot")||d.dataset.apiRoot||window.location.origin+"/bin/servicenow/secureApi",f=u.dataset.apiPath,g=u.dataset.apiUpdate,h=u.dataset.test||u.dataset.user||localStorage.getItem("userId")||"",v=`${p}?${f}&username=${h}`,w=`${p}?${g}&username=${h}`,y=u.querySelector("#achievements_name"),b="preview"===m?d.dataset.firstName:"",C=e=>{const t={set value(e){e&&(this.firstName.textContent=e+"'s")},get value(){return this.firstName.textContent}};return Object.create(t,{firstName:{value:e}})};let S={};n("POST",v).then((function(e){if(404!==e.status){const t=e.resume_settings?e.resume_settings:e;S=t}else S={community:[],nowLearning:[],nowCreators:[]};x.init()}));const x={init(){this.data=S,this.nowCreators=this.checkData(S.nowCreators),this.community=this.checkData(S.community),this.nowLearning=this.checkData(S.nowLearning),this.pubSub=e.pubSub(),this.mode=m,this.container=u,this.body=document.getElementById("acheivement_body"),this.managePrivacy=document.getElementById("manage_privacy"),this.privacyToggle=document.getElementById("public_toggle"),this.allBadges=[...this.nowCreators,...this.community,...this.nowLearning],this.pubSub.on("showAchievements",this.buildAchievements.bind(this)),this.pubSub.on("showAchievements",this.creatDOMObj.bind(this)),this.pubSub.on("showAchievements",this.showContainer.bind(this)),this.pubSub.on("updateData",this.updateData.bind(this)),this.pubSub.on("updateData",this.saveData.bind(this)),this.name=C(y),this.setName(),this.container.addEventListener("click",this.editAchievements.bind(this),!1),document.addEventListener("champions:overlayIsClosed",this.overlayClosed.bind(this),!1),document.addEventListener("champions:overlayIsClosed:button",this.saveFromOverlay.bind(this),!1),"public"!==m&&(this.pubSub.on("showAchievements",this.setToggleState.bind(this)),this.privacyToggleBtn=c(this.privacyToggle,e=>this.pubSub.fire("updateData",e)),this.privacyToggleBtn.init());const t=this.nowCreators.length||this.community.length||this.nowLearning.length;t?this.setState("showAchievements"):t||"public"!==m?this.setState("gettingStarted"):this.setState()},setName(){"preview"!==m&&"public"!==m||(this.name.value=b)},checkData(e){if("preview"===m||"public"===m){return e.filter((function(e){return"0"!==e.isPublic}))}return e},showContainer(){this.container.classList.remove("hide")},setState(e){const t=e=>{const t="string"==typeof e,n=t?e:e.join("-");t?this.container.classList.add(e):this.container.classList.add(...e),this.container.dataset.state?this.container.dataset.state=n:this.container.setAttribute("data-state",n)};switch(e){case"showAchievements":t(["manage-profile"]),this.pubSub.fire("showAchievements");break;case"gettingStarted":t("getting-started"),this.showContainer()}},buildAchievements(){const e=this.buildTabs(2);this.body.insertAdjacentHTML("afterbegin",a(e.tabs,e.tabContent)),initHorizontalTabbedComponent().init({tabGroup:"[data-tabs]",paneGroup:"[data-panes]",tabActive:"current",paneActive:"current"}),initRevealMore()},creatDOMObj(){const e=this.container.querySelectorAll(".profile-type"),t={};e.forEach(e=>{const n=e.dataset.id;t[n]?t[n].b=e:(t[n]={},t[n].a=e)}),this.allDom=t},setToggleState(){this.isAllPublic=!this.allBadges.filter(e=>"0"===e.isPublic).length;let e="";this.isAllPublic?(e=!0,privacyToggleCheck=!0):(e=!1,privacyToggleCheck=!1),this.privacyToggleBtn.checked=privacyToggleCheck},updateData(e){const t=e,n=t?"1":"0";this.allBadges.forEach(e=>{e.isPublic=n,this.updateDom(e.id,t)})},updateDom(e,t){const n=t?"Public":"Private",o=t?"profile-type public":"profile-type private",a=this.allDom[e];a.a.textContent=n,a.a.className=o,a.b&&(a.b.textContent=n,a.b.className=o)},createTabObj:(e,t,n)=>({label:e,count:t,id:"tab_"+n}),createTabContentObj(e,t,n){const o=[],a={};return e.forEach(e=>{e.id=`${e.source_system_name.toLowerCase().split(" ").join("_")}_${e.achievement_id}`,o.push({title:e.title,icon:e.icon,isPublic:e.isPublic,achievement_id:e.achievement_id,date:e.date,id:e.id})}),a.id="tab_"+t,a.numRows=n,a.badges=o,a},buildTabs(e=2){const t=[],n=[];return this.nowCreators.length&&(t.push(this.createTabObj("Super Badges",this.nowCreators.length,"nowCreators")),n.push(this.createTabContentObj(this.nowCreators,"nowCreators",e))),this.community.length&&(t.push(this.createTabObj("Community Achievements",this.community.length,"community")),n.push(this.createTabContentObj(this.community,"community",e))),this.nowLearning.length&&(t.push(this.createTabObj("Now Learning Achievements",this.nowLearning.length,"nowLearning")),n.push(this.createTabContentObj(this.nowLearning,"nowLearning",e))),t.length>1&&(t.unshift(this.createTabObj("All Badges",this.nowCreators.length+this.community.length+this.nowLearning.length,"all")),n.unshift(this.createTabContentObj(this.allBadges,"all",e))),{tabs:t,tabContent:n}},editAchievements(e){const n={title:"Edit Achievements Privacy Settings",content:"<p>This is some text</p>",buttonText:"Save & Close",linkBtnText:"Cancel",hideLinkBtnText:!1,hideHorizonatalLine:!0,addClass:"achievements-edit-overlay"};if("manage_privacy"===e.target.id){const e=this.buildTabs(4);n.content='\n      <section class="header-content">\n        <div class="header-controls">\n          <h6 class="privacy-title">Privacy Settings</h6>\n          <div class="toggle-button" data-toggle-init="true">\n            <label class="toggle-label public-toggle">Make all badges public</label>\n            <input data-achievement-id="public_toggle_overlay" id="public_toggle_overlay" class="toggle-switch" type="checkbox" data-source="Source">\n          </div>\n        </div>\n      </section>\n    '+a(e.tabs,e.tabContent,"edit"),t.create("champions:openOverlay",this.overlay).dispatch(n),this.editOverlay()}},editOverlay(){this.AchievementsEditObj=function(e){const t=initUtils(),n={init(){this.pubSub=t.pubSub(),this.container=document.querySelector(".achievements-edit-overlay"),this.privacyToggle=document.getElementById("public_toggle_overlay"),this.badges=this.badgeData,this.toggleList=this.container.querySelectorAll(".edit-badge-toggle"),this.toggleElem=this.getDomData(),this.privacyToggleBtn=this.privacyToggleBtn(this.privacyToggle,e=>this.pubSub.fire("updateEditData",e)),this.privacyToggleBtn.init(),this.setToggle(this.toggleState),this.buildDomObj,this.container.addEventListener("click",this,!1),this.pubSub.on("updateEditData",this.updateToggle.bind(this)),this.pubSub.on("updateEditData",this.updateAllData.bind(this)),initToggleButton(),initHorizontalTabbedComponent().init({tabGroup:"[data-tabs]",paneGroup:"[data-panes]",tabActive:"current",paneActive:"current"}),initRevealMore(),this.overlay=document.getElementById("component_champions_overlay")},setToggle(e){this.privacyToggle.checked=e,this.privacyToggleBtn.checked=e,privacyToggleCheck=e},getDomData(){const e={},t=[];return this.toggleList.forEach(n=>{const o=n.dataset.id;e[o]||t.push(n),e[o]=n}),t},handleEvent(e){this.toggleEvent(e,this),this.closeOverlay(e,this)},closeOverlay(e,t){const n=e.target;(n.classList.contains("overlay-outer-background")||n.classList.contains("overlay-close-icon")||n.classList.contains("close-overlay-btn")||n.classList.contains("cancel-btn"))&&t.container.removeEventListener("click",t,!1)},toggleEvent(e,t){if(e.target.classList.contains("edit-badge-toggle")){const n=e.target,o=n.dataset.id,a=t.container.querySelectorAll(`[data-id=${o}]`);t.updateToggle(n.checked,a),t.updateData(o,n.checked?"1":"0"),t.setAllToggle()}},updateToggle(e,t=this.toggleList){t.forEach(t=>t.checked=e)},updateAllData(e){this.badges.forEach(t=>{t.isPublicTemp=e?"1":"0"})},updateData(e,t){const n=e;this.badges.forEach((function(e){e.id===n&&(e.isPublicTemp=t)}))},setAllToggle(){if(Array.from(this.toggleElem).filter(e=>e.checked).length===this.toggleElem.length)return this.privacyToggle.checked=!0,this.privacyToggleBtn.checked=!0,void(privacyToggleCheck=!0);this.privacyToggle.checked=!1,this.privacyToggleBtn.checked=!1,privacyToggleCheck=!1}},o=Object.create(n,{toggleState:{value:e.toggleState},badgeData:{value:e.badgeData,writeable:!0},privacyToggleBtn:{value:e.privacyToggleBtn,writable:!0}});return o.init(),o.container}({toggleState:this.privacyToggleBtn.isChecked,badgeData:this.allBadges,utils:e,privacyToggleBtn:c})},saveData(){n("POST",w,this.data)},saveFromOverlay(){if(!document.querySelector(".achievements-edit-overlay"))return;let e=0,t=!1;this.allBadges.forEach(t=>{t.isPublicTemp?(this.updateDom(t.id,"1"===t.isPublicTemp),e="1"===t.isPublicTemp?++e:0,t.isPublic=t.isPublicTemp,delete t.isPublicTemp):e=0}),t=this.allBadges.length===e,this.privacyToggleBtn.checked=privacyToggleCheck,this.deleteEditObj(),this.saveData()},overlayClosed(){this.deleteEditObj()},deleteEditObj(){delete this.AchievementsEditObj}}}()}))}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){$(".component-champions-overlay").length&&$((function(){({state:{modalOpen:!1,get show(){return this.modalOpen},set show(e){this.modalOpen=e}},init(){this.events=initUtils().customEvent,this.container=document.getElementById("component_champions_overlay"),this.background=this.container.querySelector("#overlay_outer_background"),this.closeIcon=this.container.querySelector("#overlay_close_icon"),this.closeBtn=this.container.querySelector("#close_overlay_btn"),this.linkBtn=this.container.querySelector(".cancel-btn"),this.title=this.container.querySelector("#overlay_title"),this.horizontalLine=this.container.querySelector(".horizontal-line"),this.contentContainer=this.container.querySelector("#overlay_body"),this.addEvents(),document.addEventListener("champions:openOverlay",this.open.bind(this),!1),this.events.create("champions:overlayInit",document).dispatch(this.container)},preventScroll(e){const t=document.body;e?t.classList.add("preventScroll"):t.classList.remove("preventScroll")},open(e){this.state.show||(this.setContent(e.param),this.container.classList.remove("disable"),this.state.show=!0,this.events.create("champions:overlayIsOpen",document).dispatch(this.container),this.preventScroll(!0))},setContent(e){e&&(e.title&&this.replaceContent(e.title,this.title),e.content&&this.replaceContent(e.content,this.contentContainer),e.buttonText&&this.setButtonText(e.buttonText,"closeBtn"),e.linkBtnText&&this.setButtonText(e.linkBtnText,"linkBtn"),e.hideLinkBtnText&&this.linkBtn.parentElement.classList.add("hide"),e.addClass&&(this.customClass=e.addClass.split(" ")[0],this.container.classList.add(this.customClass)),e.hideHorizonatalLine&&this.horizontalLine.classList.add("hide"),e.addTracking&&this.container.setAttribute("data-com-name",e.addTracking))},resetOverlayContent(){this.replaceContent("Ovarlay Title",this.title),this.linkBtn.parentElement.classList.remove("hide"),this.setButtonText("Save & Close","closeBtn"),this.setButtonText("Cancel","linkBtn"),this.clearContent(this.contentContainer),this.container.classList.remove(this.customClass),this.horizontalLine.classList.remove("hide"),this.container.removeAttribute("data-com-name")},replaceContent(e,t){this.clearContent(t),t.insertAdjacentHTML("afterbegin",e)},setButtonText(e,t){switch(t){case"closeBtn":this.closeBtn.firstChild.textContent=e;break;case"linkBtn":this.linkBtn.firstChild.textContent=e}},clearContent(e){if(!e)return;const t=e;for(;t.firstChild;)t.removeChild(t.firstChild)},close(e){if(this.state.show){if(this.container.classList.add("disable"),this.state.show=!1,this.preventScroll(!1),e.closest(".cscCeaOverlay")&&sessionStorage.setItem("ceaUpgradeMessageClose",!0),e.id===this.closeBtn.id)return this.events.create("champions:overlayIsClosed:button",document).dispatch(),void this.resetOverlayContent();this.resetOverlayContent(),this.events.create("champions:overlayIsClosed",document).dispatch()}},addEvents(){this.container.addEventListener("click",e=>{const t=e.target;(t.id===this.background.id&&!this.background.classList.contains("cea-overlay-outer-background")||t.id===this.closeIcon.id||t.id===this.closeBtn.id||t.classList.contains("cancel-btn"))&&this.close(t)},!1)}}).init()}))},function(e,t){$(".component-reveal-more").length&&$((function(){initRevealMore()})),window.initRevealMore=function(e){const t=e?e.target:".reveal-more",n=document.querySelectorAll(t);let o=0,a=0;const s={init(){this.itemList.dataset.state||(this.listItems=this.itemList.dataset.target?this.itemList.querySelectorAll(this.itemList.dataset.target):this.itemList.children,this.itemList.setAttribute("data-state","close"),this.listItems.length<=this.itemsToShow||(this.itemList.parentElement.addEventListener("click",this.handleButtonClick.bind(this),!1),this.toggleClasses(),this.itemList.classList.remove("hide"),"true"===this.showCount&&this.setShowCount(),this.itemsToCount&&(o=0,a=0),this.addButtonToParent()))},setItemsToCount(){this.itemsToCount||this.itemList.forEach(e=>{})},setShowCount(){const e=o||this.itemsToShow,t=a||this.listItems.length;this.revealMoreLabel=`<span class="show-count">Showing ${e} of ${t}</span> ${this.revealMoreLabel}`},toggleClasses(){this.listItems.forEach((e,t)=>{const n=e.querySelectorAll(this.itemsToCount).length;t>=this.itemsToShow?e.classList.toggle("hide"):this.itemsToCount&&(o+=n),a+=n})},handleButtonClick(e){const t=e.target;"BUTTON"===t.tagName&&(this.toggleClasses(),t.classList.add("hide"),this.itemList.dataset.state="open")},addButtonToParent(){const e=document.createElement("button");e.classList.add("btn","reveal-more-btn"),e.setAttribute("data-com-cta","reveal more"),e.innerHTML=this.revealMoreLabel+'<svg class="icon-sprite" height="14" width="14">\n        <use xlink:href="/content/dam/servicenow-assets/images/unauthorable/svg-icon-sprites.svg#downarrow" xmlns:xlink="http://www.w3.org/1999/xlink"></use>\n        </svg>',this.itemList.insertAdjacentElement("afterend",e)}};let i="";Array.from(n).forEach(e=>{i=Object.create(s,{itemList:{value:e},itemsToShow:{value:parseInt(e.dataset.show,10)},revealMoreLabel:{value:e.dataset.revealMoreLabel||"Reveal more",writable:!0},showCount:{value:e.dataset.showCount},itemsToCount:{value:e.dataset.itemsToCount}}),i.init()})}},function(e,t){},function(e,t){$(".toggle-button").length&&$((function(){initToggleButton()})),window.initToggleButton=function(){const e={set value(e){this.label&&(this.label.innerText=e)}},t={init(){this.container.dataset.toggleInit||(this.events=initUtils().customEvent,this.container.addEventListener("click",this.handleEvents.bind(this),!1),this.toggleLabel=Object.create(e,{label:{value:this.label}}),this.container.dataset.toggleInit="true")},handleEvents(e){const t=e.target;t.classList.contains("toggle-switch")&&this.events.create("toggle:changed",document).dispatch({target:t,paramVal:"toggle",checked:t.checked,label:this.toggleLabel})}},n=document.querySelectorAll(".toggle-button");let o="";Array.from(n).forEach(e=>{o=Object.create(t,{container:{value:e},toggleSwitch:{value:e.querySelector(".toggle-switch")},label:{value:e.querySelector(".toggle-label")}}),o.init()})}},function(e,t){$(".component-now-creators-common").length&&$((function(){!function(){document.cookie.indexOf("userId"),document.cookie.indexOf("idToken");const e=document.getElementById("component_now_creators_common_profile"),t="undefined"!=typeof getCookie?getCookie("userId"):"",n="undefined"!=typeof ContextHub?ContextHub.getStore("servicenow-sso").getItem("fName"):"",o=e&&""!==e.dataset.mode?e.dataset.mode:"public";localStorage.removeItem("apiRoot"),e&&e.dataset.apiRoot&&localStorage.setItem("apiRoot",e.dataset.apiRoot);localStorage.removeItem("userId"),e&&t&&localStorage.setItem("userId",t);localStorage.removeItem("mode"),e&&o&&localStorage.setItem("mode",o);e&&n&&(e.dataset.firstName=n);window.location.href.indexOf("aem-author-");$(document).on("click",(function(e){$(e.target).closest(".infodot-content-wrapper").length||e.target.classList.contains("infodot-icon")||$(".infodot-content").addClass("hide-infodot-content")})),$(document).on("click",".infodot-icon",(function(e){const t=this.nextElementSibling;t.classList.contains("hide-infodot-content")?($(".infodot-content").addClass("hide-infodot-content"),t.classList.remove("hide-infodot-content")):t.classList.add("hide-infodot-content")})),$(document).on("click",".infodot-close-icon",(function(e){this.parentElement.parentElement.classList.add("hide-infodot-content")})),$("body").addClass("nc-font-overwrites")}()})),window.initUtils=function(){return{customEvent:{create(e,t){const n=new CustomEvent(e),o=t&&1===t.nodeType?t:document;return{dispatch:e=>(e&&e.paramVal?n[e.paramVal]=e:e&&(n.param=e),o.dispatchEvent(n))}}},pubSub:()=>{const e={on(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},fire(e){const t=this.events[e];if(!t||!t[0])return;const n=Array.prototype.slice.call(arguments).slice(1);t.forEach(e=>e.apply(this,n))}};return Object.assign(Object.create(e),{events:{}})}}}},function(e,t){$(".component-now-creators-milestones").length&&$((function(){!function(){const e=document.querySelector(".component-now-creators-milestones");let t,n,o;const a=[],s=[];let i;i="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):decodeURIComponent(function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}("userId"));const r={achievementsJSON:"/bin/servicenow/secureApi",commonJSON:"/common/your-progress/your-progress-common.json"},l=e.getAttribute("data-accountserver-url"),c=e.getAttribute("data-com-attribute"),d=JSON.parse(c);let u,m=0;const p=(t,n,o)=>{let s=0;n.Milestones.map(n=>{if(1==n.group.length)n=n.group[0];else{let e,t,o,s;n.group.map(n=>{const i=a.indexOf(n.MilestoneId)>-1;n.isActive&&i?(e=n,o=!0):n.isActive&&!i?(e=n,o=!1):!n.isActive&&i?(t=n,s=!0,o&&(s=!1)):n.isActive||i||(s=!1)}),o?n=e:!o&&s?n=t:o||s?o&&s&&(n=e):n=e}const i=document.createElement("div");i.className="progress-level-body-progress-item",i.setAttribute("data-milestoneId",n.MilestoneId),i.innerHTML=`<div class="progress-level-body-progress-item-wrapper">\n                                    <span class="milestone-eyebrow-text label-copy"> ${t.RoleName}\n                                    </span>\n                                    <h3 class="progress-level-body-progress-item-title medium-body-copy">${n.MilestoneDescription}</h3>\n                                    <span class='milestone-completed-text xsmall-body-copy'>Complete Now</span>\n                                    <div class="milestone-icon"></div>\n                                  </div>\n                                  \n                                  <hr>`,n.MilestoneDescription.length>60&&(i.querySelector(".progress-level-body-progress-item-title").innerHTML=n.MilestoneDescription.split("").slice(0,60).join("")+"..."),e.getElementsByClassName("tabbed-content-wrapper")[u].getElementsByClassName("progress-level-body-wrapper")[o].appendChild(i);const r=e.getElementsByClassName("tabbed-content-wrapper")[u].getElementsByClassName("progress-level-head-title-text")[o].innerHTML,l=`${t.RoleName}-${r}-${n.MilestoneDescription}`;if(i.setAttribute("data-com-cta",l.replace(/\s+/g,"-").toLowerCase()),null!=a&&a.indexOf(n.MilestoneId)>-1){s+=1,i.className="progress-level-body-progress-item progress-item-completed";const t=e.getElementsByClassName("tabbed-content-wrapper")[u],n=Number(t.querySelector(".progress-bar-number").innerHTML)+1/12*100;n>95?(t.querySelector(".progress-bar-number").innerHTML=100,t.querySelector(".progress-bar-percentage").style.width="100%",t.querySelector(".progress-bar-percentage-tip").style.display="none"):(t.querySelector(".progress-bar-number").innerHTML=n.toFixed(0),t.querySelector(".progress-bar-percentage").style.width=n.toFixed(2)+"%",t.querySelector(".progress-bar-percentage-tip").style.left=n.toFixed(2)+"%"),i.querySelector(".milestone-completed-text").innerHTML="Completed!",i.querySelector(".milestone-icon").classList.add("check")}else i.querySelector(".milestone-icon").classList.add("arrow")});const i=e.getElementsByClassName("tabbed-content-wrapper")[u].getElementsByClassName("progress-level-body-wrapper")[o].parentElement.previousElementSibling;i.querySelector(".progress-level-head-subtitle-text").innerHTML=s;const r=document.createElement("div");r.className="progress-level-head-flag small-body-copy",r.innerHTML=d.AllDoneLabel,i.querySelector(".progress-level-head-subtitle-text").innerHTML==i.querySelector(".progress-level-head-subtitle-value").innerHTML.charAt(0)&&(i.getElementsByClassName("progress-level-head-subtitle")[0].innerHTML="",i.getElementsByClassName("progress-level-head-subtitle")[0].appendChild(r),i.parentElement.parentElement.classList.add("completed-level"),i.nextElementSibling.querySelector(".progress-level-body-wrapper").classList.add("all-done"))};$(e).on("click",".progress-level-body-progress-item",(function(e){initUtils().customEvent.create("champions:openOverlay",document).dispatch({title:"Custom Overlay Title",content:"<p>This is some text</p>",buttonText:"Close",linkBtnText:"Cancel Me",hideLinkBtnText:!0,addClass:"your-progress-overlay",addTracking:"now-creators-milestone-overlay"}),t=document.querySelector(".your-progress-overlay");const o=parseInt(this.dataset.milestoneid),a=[...this.parentElement.children].indexOf(this),s=this.parentElement.parentElement.parentElement,i=[...s.parentElement.parentElement.children].indexOf(s.parentElement),r=s.parentElement.parentElement,l=[...r.parentElement.parentElement.parentElement.children].indexOf(r.parentElement.parentElement);let c;n[l].Levels[i].Milestones[a].group.forEach((function(e){e.MilestoneId==o&&(c=e.MilestoneActivities)}));const d=n[l].RoleName,u=n[l].Levels[i].LevelName;let m;n[l].Levels[i].Milestones[a].group.forEach((function(e){e.MilestoneId==o&&(m=e.MilestoneDescription)})),f(c,d,u,m)}));const f=(e,n,o,a)=>{t.querySelector(".overlay-title").innerHTML=`${n} ${o} Milestone`,t.getElementsByTagName("h2")[0].setAttribute("data-com-title",`${n}-${o.replace(/\s+/g,"-").toLowerCase()}-${a.replace(/\s+/g,"-").toLowerCase()}`),t.querySelector(".overlay-body").innerHTML='\n                                        <div class="your-progress-overlay-content">\n                                          <div class="your-progress-title-content">\n                                            <h5 class="overlay-milestone-title"></h5>\n                                            <span class="milestone-status medium-body-copy"></span>\n                                          </div>\n                                          <hr></hr>\n                                          <div class="activity-items">\n                                            <div class="items-title flex-box-col-md-5">\n                                              <span class="items-title-text medium-body-copy">Do the following to complete this milestone:</span>\n                                            </div>\n                                            <div class="items-list flex-box-col-md-7">\n                                            </div>\n                                          </div>\n                                        </div>',t.getElementsByClassName("overlay-milestone-title")[0].innerHTML=a;let i=0,r=0;const l=[];l.push(e),l.map(e=>{let n;Object.keys(e).map(o=>{if(o.indexOf("group")>-1){let a,l,c,d;r++,e[o].map(e=>{const t=s.indexOf(e.id)>-1;e.isActive&&t?(a=e,c=!0):e.isActive&&!t?(a=e,c=!1):!e.isActive&&t?(l=e,d=!0,c&&(c=!1)):e.isActive||t||(d=!1,l=e)}),c?n=a:!c&&d?n=l:c||d?c&&d&&(n=a):(n=a,a||(n=l));const u=document.createElement("div");u.className="activity-item",u.setAttribute("data-activityId",n.id),u.innerHTML=`<div class="activity-item-inner-wrapper">\n                                        <a class="activity-item-title" target="_blank" href="${n.url}">${n.name}</a>\n                                        <span class="activity-item-description"> <p> ${n.description} </p> </span>\n                                        <div class="completed-status">\n                                          <a class="completed-status-text" target="_blank" href="${n.url}"></a>\n                                          <a class="completed-status-icon" target="_blank" href="${n.url}"></a>\n                                        </div>\n                                      </div>`,t.querySelector(".items-list").appendChild(u);let m=n.conditionText;null==n.conditionText&&(m="Or");const p=document.createElement("div");if(p.className="condition-div",p.innerHTML=`<hr>\n                                      <span class="small-body-copy">${m}</span>\n                                      <hr>`,t.querySelector(".items-list").appendChild(p),null===n.url||""===n.url){u.querySelector(".completed-status").style.pointerEvents="none";const e=u.querySelector(".activity-item-title");e.removeAttribute("href"),e.style.pointerEvents="none"}const f=u.querySelector(".completed-status-text"),g=u.querySelector(".completed-status-icon");null!=s&&s.indexOf(n.id)>-1?(f.innerHTML="Completed!",f.setAttribute("data-com-cta","completed"),g.setAttribute("data-com-cta","completed"),g.classList.add("check"),u.querySelector(".completed-status").style.visibility="unset",f.removeAttribute("href"),g.removeAttribute("href"),i++):(f.innerHTML="Complete Now",f.setAttribute("data-com-cta","complete-now"),g.setAttribute("data-com-cta","complete-now"),g.classList.add("arrow"))}})}),i===r?(t.querySelector(".milestone-status").innerHTML="All Done!",t.querySelector(".items-list").classList.add("all-done")):t.querySelector(".milestone-status").innerHTML=`${i}/${r} Completed`},g=t=>{t.map((t,n)=>{((t,n)=>{u=t,n.Levels.map((o,a)=>{const s=document.createElement("div");s.className="progress-level-item",s.setAttribute("data-com-title",`nc-workspace-${n.RoleName}-${n.Levels[a].LevelName}`),s.innerHTML=`<div class="progress-level-item-inner-wrapper site-width-1700">\n                                <div class="progress-level-head flex-box-col-lg flex-box-col-xlg-2">                                <div class="progress-level-head-left">                                  <div class="progress-level-head-icon-text">                                    <div class="progress-level-head-icon">                                      <img src="${d.Author[m].Levels[a].LevelIcon}">                                    </div>                                    <div class="progress-level-head-title-content">                                      <div class="progress-level-head-title">                                        <h5 data-com-title="your-progress-${n.RoleName.replace(/\s+/g,"-").toLowerCase()}-${o.LevelName.replace(/\s+/g,"-").toLowerCase()}" class="progress-level-head-title-text xlarge-body-copy">${o.LevelName}</h5>                                      </div>\n                                      <div class="progress-level-head-subtitle">\n                                          <span class="progress-level-head-subtitle-text xsmall-body-copy"></span>/<span class="progress-level-head-subtitle-value xsmall-body-copy">${o.TotalNumberOfMilestoneInLevel} Milestones Completed</span>\n                                      </div>\n                                    </div>\n                                  </div>                                  <span class="progress-level-about-text xsmall-body-copy">${d.Author[m].Levels[a].BadgeDescription}\n                                  </span>                                </div>                              </div>\n                              <div class="progress-level-body flex-box-col-lg flex-box-col-xlg-9">\n                                <div class="progress-level-body-wrapper">\n  \n                                </div>\n                              </div>\n                            </div>`,e.getElementsByClassName("progress-level-wrapper")[t].appendChild(s),p(n,o,a)}),m+=1})(n,t)})};e.querySelectorAll(".horizontal-tabs-list").forEach(e=>e.addEventListener("scroll",()=>{const t=e.children[0].getBoundingClientRect().x-e.getBoundingClientRect().x;t<0?e.classList.add("fade-left"):0===t&&e.classList.remove("fade-left");const n=e.children.length,o=e.children[n-1],a=e.getBoundingClientRect().right-o.getBoundingClientRect().right;0===Math.round(a)?e.classList.remove("fade-right"):(a<0||a>0)&&e.classList.add("fade-right")}));(e=>{const t=()=>{var t;t=l+e.commonJSON,$.getJSON(t,(function(e){g(e),n=e}))};(e=>{const n=`${e}?username=${i}&type=getYourProgress`;$.post(n,(function(e,n){"success"==n?(e.milestoneIds.length>0&&e.milestoneIds.map(e=>{a.push(e.id)}),e.activityIds.length>0&&e.activityIds.map(e=>{s.push(e.id)}),t()):(o={milestoneIds:[],activityIds:[],levelIds:[]},t())}))})(window.location.origin+e.achievementsJSON)})(r)}()}))},function(e,t){$(".component-account-linking-new").length&&$((function(){$(document).ready((function(){!function(){const e=document.querySelector(".component-account-linking-new");let t;let n,o;$(e).on("click",".account-linking-overlay-cta",(function(r){const l=initUtils().customEvent,c=e.querySelector(".content-title").innerHTML,u=e.querySelector(".content-subtitle").innerHTML;l.create("champions:openOverlay",document).dispatch({title:"Link ServiceNow Accounts",content:"<p>This is some text</p>",buttonText:"Close",linkBtnText:"Cancel Me",hideLinkBtnText:!0,addClass:"account-linking-new-overlay",addTracking:"account-linking-overlay"}),t=document.querySelector(".account-linking-new-overlay");const m=document.createElement("div");m.className="account-linking-overlay-content",m.setAttribute("data-com-name","account-link-dialog"),m.setAttribute("data-com-name-variant","default"),m.setAttribute("data-com-title","account-link"),m.innerHTML=`<div class="content-title bold-text medium-body-copy">${c}</div>\n                                  <div class="content-subtitle small-body-copy">${u}</div>\n                                  <div class="banner-text-wrapper hide">\n                                    <img class="banner-icon"></img>\n                                    <div class="banner-text small-body-copy"></div>\n                                  </div>\n                                  <div class="add-account-label icon-text">\n                                    <img class="add-icon" src="/content/dam/servicenow-assets/images/unauthorable/add.svg">\n                                    <span class="add-account-text small-body-copy bold-text" data-com-cta="${d}">${d}</span>\n                                  </div>\n                                  <div class="add-account-hidden-elements hide">\n                                    <span class="label-account flex-box-col-md-2 flex-box-col-lg-2">ACCOUNT</span>\n                                    <div class="account-input-div flex-box-col-md-6 flex-box-col-lg-5">\n                                      <input class="account-input-box" placeholder=" " required="" value="">\n                                      <span class="floating-label">Servicenow account email address</span>\n                                      <span class="invalid-email-message hidden"></span>\n                                    </div>\n                                    <button class="add-account-box flex-box-col-md-4 flex-box-col-lg-3" data-com-cta="add-account">Add Account</button>\n                                  </div>\n                                  <div class="accounts-list">\n                                    <div class="primary-account account-item">\n                                      <div class="primary-account-address small-body-copy">${o}</div>\n                                      <div class="primary-account-label bold-text">Primary Account</div>\n                                    </div>\n                                    <div class="linked-accounts" id="linked-accounts"></div>\n                                  </div>`,t.querySelector(".overlay-body").innerHTML="",t.querySelector(".overlay-body").appendChild(m),(t=>{const n=`${a}?operationType=isSecondaryAccount&username=${o}`;$.getJSON(n,(function(n){if(200==n.statusCode)if("LINK_ACCOUNT_ALLOWED"==n.errorCode)_();else if("LINK_ACCOUNT_NOT_ALLOWED"==n.errorCode){const o=e.querySelector(".linking-not-allowed").innerText;t.querySelector(".content-subtitle").innerText=o.replace(/primary_linked_account/gi,n.responseString),t.querySelector(".add-account-label").classList.add("hide"),t.querySelector(".accounts-list").classList.add("hide")}}))})(t),t.querySelector(".add-account-label").onclick=e=>{e.preventDefault(),t.querySelector(".add-icon").classList.add("hide"),t.querySelector(".add-account-hidden-elements").classList.remove("hide")},$(t).on("click",".unlink-icon",(function(e){x(e)})),$(t).on("click",".unlink-cancel-button",(function(e){k(e)})),n=t.querySelector(".add-account-box");const p=t.querySelector(".account-input-box"),f=t.querySelector(".invalid-email-message");s=ContextHub.getStore("servicenow-sso").getItem("fName"),i=ContextHub.getStore("servicenow-sso").getItem("LName"),n.onclick=e=>{E(n),F(e,t,p,f)},p.addEventListener("keyup",e=>{13===e.keyCode&&(e.preventDefault(),n.click())}),$(t).on("click",".pending-cancel-button-icon",(function(e){E(e.target);const n=e.target.closest(".account-list-item"),o=$(n).find(".account-address-text")[0].innerHTML;O(o,n,t,e.target)})),$(t).on("click",".unlink-btn",(function(e){e.preventDefault(),E(e.target);const n=e.target.closest(".account-list-item"),o=$(n).find(".account-address-text")[0].innerHTML;N(o,t,n,e.target)})),$(t).on("click",".resend-btn",(function(e){E(e.target);const n=e.target.closest(".account-list-item"),o=$(n).find(".account-address-text")[0].innerHTML;R(o,t,e.target)}))}));const a="/bin/servicenow/user/linkprofile";o="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?decodeURIComponent(ContextHub.getStore("servicenow-sso").getItem("userName")):decodeURIComponent(function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}("userId"));let s,i;const r=e.querySelector(".unlink-button-text").innerText,l=e.querySelector(".cancel-button-text").innerText,c=e.querySelector(".send-verification-button-text").innerText,d=e.querySelector(".add-account-btn").innerText,u=e.querySelector(".empty-email-message").innerText,m=e.querySelector(".invalid-email-address").innerText,p=e.querySelector(".existing-email-address").innerHTML,f=e.querySelector(".overlay-unlink-description").innerHTML,g=e.querySelector(".overlay-unlink-description-2").innerHTML,h=e.querySelector(".overlay-verified-description").innerText,v=e.querySelector(".account-linking-thank-you-page-path").innerText;let w=0;const y=[],b=e=>{const t=document.createElement("div");t.className="account-list-item account-item pending",t.innerHTML=`<div class="account-address">                                <div class="account-address-text small-body-copy">${e}</div>                              </div>                              <div class="verify-link flex-box-col-md-6 flex-box-col-xlg-8 small-body-copy">                                <div class="links">                                  <div class="pending-text bold-text">Pending Verification</div>                                  <button class="resend-btn account-link-btn" data-com-cta="${c}">${c}</button>                                  <div class="pending-cancel-button-icon icon-text">\n                                    <img class="add-icon" src="/content/dam/servicenow-assets/images/unauthorable/remove.svg">\n                                    <a class="pending-cancel-button bold-text" data-com-cta="${l}">${l}</a>\n                                  </div>\n                                </div>                              </div>`,document.getElementById("linked-accounts").insertBefore(t,document.getElementById("linked-accounts").firstChild)},C=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),S=()=>{t.querySelectorAll(".account-input-div")[0].classList.add("invalid"),t.querySelectorAll(".invalid-email-message")[0].classList.remove("hidden"),I(n)},x=e=>{e.preventDefault(),e.target.parentElement.parentElement.classList.add("hide"),e.target.closest(".account-list-item").querySelector(".unlink-hidden-elements").classList.remove("hide")},k=e=>{e.preventDefault(),e.target.closest(".account-list-item").querySelector(".account-address").classList.remove("hide"),e.target.closest(".account-list-item").querySelector(".unlink-hidden-elements").classList.add("hide")},E=e=>{e.style.pointerEvents="none",e.style.opacity=".6"},I=e=>{e.style.pointerEvents="inherit",e.style.opacity="1"},F=(e,t,n,a)=>{e.preventDefault(),n.value&&C(n.value)&&L(t)&&-1==y.indexOf(n.value)&&n.value!==o?(A(n.value,t),t.querySelectorAll(".account-input-div")[0].classList.remove("invalid"),t.querySelectorAll(".invalid-email-message")[0].classList.add("hidden")):C(n.value)?y.indexOf(n.value)>=0?(t.querySelector(".banner-text-wrapper").classList.add("hide"),S(),a.innerText=p):n.value===o&&(t.querySelector(".banner-text-wrapper").classList.add("hide"),S(),a.innerText="You can't link this email account because it's already your primary email. "):(t.querySelector(".banner-text-wrapper").classList.add("hide"),S(),n.value?a.innerText=m:a.innerText=u)},U=document.cookie.split(";");U.map(e=>{const t=e.split("=")[0],n=e.split("=")[1];" primaryAddress"==String(t)&&(String(n)==o?U.map(e=>{const t=e.split("=")[0],n=e.split("=")[1];if(" linkedAddress"==String(t)){document.querySelector(".account-linking-overlay-cta").click();const e=document.querySelector(".account-linking-new-overlay");e.querySelector(".banner-text-wrapper").classList.remove("hide"),e.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/check.svg"),e.querySelector(".banner-text").innerHTML=`${n} ${h}`,document.cookie="primaryAddress=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="linkedAddress=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}}):(document.cookie="primaryAddress=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="linkedAddress=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))});const L=e=>w<5?(e.querySelector(".account-input-div").classList.remove("disabled"),e.querySelector(".add-account-box").classList.remove("disabled"),!0):(e.querySelector(".account-input-div").classList.add("disabled"),e.querySelector(".add-account-box").classList.add("disabled"),!1),T=(e,t)=>{const n=e.indexOf(t.trim());n>=0&&e.splice(n,1)},_=()=>{const e=`${a}?operationType=get&username=${o}`;$.getJSON(e,(function(e){e.secondaryAccount&&(w=e.secondaryAccount.length,e.secondaryAccount.length&&e.secondaryAccount.forEach(e=>{switch(y.push(e.email),e.status){case"pending_verification":b(e.email);break;case"verified_user":(e=>{const t=document.createElement("div");t.className="account-list-item account-item verified",t.innerHTML=`<div class="account-address">                                <div class="account-address-text small-body-copy">${e} </div>                                <div class="unlink-icon icon-text">\n                                    <img class="add-icon" src="/content/dam/servicenow-assets/images/unauthorable/remove.svg">\n                                    <a class="unlink-label bold-text" data-com-cta="unlink-Account">Unlink Account</a>\n                                </div>\n                              </div>                              <div class="unlink-hidden-elements medium-body-copy hide">                                <div class="unlink-hidden-title small-body-copy bold-text">Unlink Account</div>\n                                <div class="unlink-group flex-box-col-md-6 flex-box-col-md-7 flex-box-col-xlg-12">\n                                  <span class="unlink-description small-body-copy">${f} ${e} ${g}</span>\n                                  <div class="account-link-btn unlink-btn bold-text" data-com-cta="${r}">${r}</div>                                  <div class="unlink-cancel-button-icon icon-text">\n                                    <img class="add-icon" src="/content/dam/servicenow-assets/images/unauthorable/remove.svg">\n                                    <a class="unlink-cancel-button bold-text" data-com-cta="unlink-cancel">Cancel</a>\n                                  </div>\n                                </div>\n                              </div>`,document.getElementById("linked-accounts").appendChild(t)})(e.email)}}))}))},A=(e,t)=>{s=ContextHub.getStore("servicenow-sso").getItem("fName"),i=ContextHub.getStore("servicenow-sso").getItem("LName");const r=`${a}?operationType=add&username=${o}&linkAddress=${e}&firstname=${s}&lastname=${i}&accountLinkingThankYouPagePath=${v}`;$.post(r,(function(o){200==o.statusCode?(b(e),w++,L(t),y.push(e),t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/check.svg"),t.querySelector(".banner-text").innerText="Please follow the link in your email to verify",t.querySelector(".account-input-box").value="",I(n)):400==o.statusCode&&(t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/photo_upload_error.svg"),I(n),"LINK_ACCOUNT_DOES_NOT_EXISTS_IN_OKTA"==o.errorCode?t.querySelector(".banner-text").innerText="That email isn’t associated with a ServiceNow ID. Try again or create an ID.":"ACCOUNT_LINKING_FAILED"==o.errorCode?t.querySelector(".banner-text").innerText="Bummer. We weren't able to verify and link your acount. Try it again.":"OPERATION_TYPE_PARAM_INVALID"==o.errorCode&&(t.querySelector(".banner-text").innerText="That's not quite what we're looking for. Try it again."))}))},O=(e,t,n,s)=>{const i=`${a}?operationType=delete&username=${o}&linkAddress=${e}`;$.post(i,(function(o){200==o.statusCode?(I(s),t.remove(),w--,L(n),T(y,e),n.querySelector(".banner-text-wrapper").classList.remove("hide"),n.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/check.svg"),n.querySelector(".banner-text").innerText=`OK, Account linking is cancelled for ${e}.`):400==o.statusCode&&(I(s),"LINK_ACCOUNT_DELETE_UNSUCCESSFUL"==o.errorCode&&(n.querySelector(".banner-text-wrapper").classList.remove("hide"),n.querySelector(".banner-text").innerText=`We couldn't cancel ${e} from your profile. Try it again.`))}))},N=(e,t,n,s)=>{const i=`${a}?operationType=unlink&username=${o}&linkAddress=${e}`;$.post(i,(function(o){200==o.statusCode?(I(s),n.remove(),w--,L(t),T(y,e),t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/check.svg"),t.querySelector(".banner-text").innerText=`OK, your profile is no longer linked to ${e}.`):400==o.statusCode&&(I(s),"LINK_ACCOUNT_UNLINK_UNSUCCESSFUL"==o.errorCode&&(t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/photo_upload_error.svg"),t.querySelector(".banner-text").innerText=`We couldn't unlink ${e} from your profile. Try it again.`))}))},R=(e,t,n)=>{s=ContextHub.getStore("servicenow-sso").getItem("fName"),i=ContextHub.getStore("servicenow-sso").getItem("LName");const r=`${a}?operationType=email&username=${o}&linkAddress=${e}&firstname=${s}&lastname=${i}`;$.post(r,(function(o){200==o.statusCode?(t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/check.svg"),t.querySelector(".banner-text").innerText=`Almost there! Check ${e} to complete verification.`,I(n)):400==o.statusCode&&("EMAIL_SENT_UNSUCCESSFUL"==o.errorCode&&(t.classList.add("error-message"),t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/check.svg"),t.querySelector(".banner-text").innerText=`Something went wrong. Try linking ${e} again.`),"EMAIL_LIMIT_EXCEEDED"==o.errorCode&&(t.querySelector(".banner-text-wrapper").classList.remove("hide"),t.querySelector(".banner-icon").setAttribute("src","/content/dam/servicenow-assets/images/unauthorable/photo_upload_error.svg"),t.querySelector(".banner-text").innerText="Please try again later . You have exceeded the number of attempts."),I(n))}))}}()}))}))},function(e,t){$(".component-csc-marquee").length&&$((function(){!function(){const e=$(".component-csc-marquee"),t=e.find("h1"),n=e.find(".cta-component"),o=e.data("login-title");let a;a="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):decodeURIComponent(function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}("userId"));null!=a&&"null"!=a&&(t.html(o),t.attr("data-com-title",o),n.each((function(){const e=$(this),t=e.data("login-cta"),n=e.data("login-cta-label"),o=e.find("a").data("toggle");e.find("a").attr("href",t),e.find("a").contents().first().replaceWith(n),e.find("a").attr("data-com-cta",n),"modal"==o&&"#"!=t&&"#!"!=t&&(e.find("a").attr("data-toggle",""),e.find("a").attr("data-brightcove",""),e.find("a").removeClass("videomodallink"),e.find("a").removeClass("variation-in-place"))})))}()}))},function(e,t){$(".component-explore-hub").length&&$((function(){!function(){const e=document.querySelector(".component-explore-hub"),t=e.querySelector(".personas-wrapper"),n=e.querySelector(".topics-wrapper"),o=e.querySelector(".tiles-wrapper"),a=e.querySelector(".breadcrumb"),s=e.querySelector(".config-list"),i=t.querySelector(".left-scroll-arrow"),r=t.querySelector(".right-scroll-arrow"),l=t.querySelectorAll(".persona-image-wrapper"),c=document.querySelector(".in-page-navigation-component-outter-wrapper");let d,u,m,p=0,f=window.location.href;const g=()=>{l.forEach(e=>{$(window).width()<768?e.classList.contains("mobile")||(e.querySelector(".person").setAttribute("src",e.getAttribute("data-img-mobile")),e.classList.add("mobile"),e.classList.remove("desktop")):e.classList.contains("desktop")||(e.querySelector(".person").setAttribute("src",e.getAttribute("data-img-desktop")),e.classList.add("desktop"),e.classList.remove("mobile"))})};g(),c&&(p=c.offsetHeight);$(window).resize((function(){g(),c&&(p=c.offsetHeight)}));const h=(e,t,o)=>{const a=e.replace(/&|,/g,"").replace(/\s/g,"_"),s=document.createElement("div");s.className=`topic-element ${t} setToBottom`,s.setAttribute("data-key",a),s.setAttribute("data-com-cta",`${u}-${e.replace(/\s/g,"_")}`),s.innerHTML=`<span class="topic-title ${o}" data-key="${a}">${e}</span>\n                          <div class="topic-dots"></div>\n                          <div class="topic-circle"></div>\n                          `,n.querySelector(".wrapper-content").appendChild(s)},v=t=>{o.querySelector(".tiles-grid-wrapper").innerHTML="",t.map(e=>{w(e)});const s=o.querySelectorAll(".resource-item"),i=n.querySelectorAll(".topic-element");F(i,".wrapper-content"),setTimeout((function(){n.style.display="none";const t=document.body.getBoundingClientRect().top,r=e.getBoundingClientRect().top-t-p;window.scrollTo({top:r,behavior:"smooth"}),o.style.display="block",o.querySelector(".tiles-grid-wrapper").dataset.state="",a.querySelector(".breadcrumb-text").classList.add("show-topic"),a.querySelector(".selected-topic").innerHTML=m,a.querySelector(".selected-topic").setAttribute("data-com-cta","back-to-topic-"+m),a.querySelector(".breadcrumb-back-arrow").setAttribute("data-com-cta","back-arrow-to-topic-"+m);const l=o.querySelectorAll(".resource-item");setTimeout((function(){I(l)}),100),setTimeout((function(){E(i),E(s)}),1500),initRevealMore(),e.style.visibility="inherit"}),1e3)},w=e=>{const t=document.createElement("a");t.className=`resource-item ${e.type.toLowerCase()} setToBottom`,t.setAttribute("href",e.url),t.setAttribute("target","_blank"),t.setAttribute("data-com-cta",`${e.source.replace(/\s/g,"_")}-${e.title.replace(/\s/g,"_")}`),t.innerHTML=`<div class="resource-item-inner-wrapper">\n                              <span class="resource-source">${e.source}</span>\n                              <span class="resource-title">${e.title}</span>\n                              <div class="resource-tagline-wrapper">\n                                <img class="resource-tagline-image" src="/content/dam/servicenow-assets/images/superbadge-icon.svg">\n                                <span class="resource-tagline-text">${e.tagLine||""}</span>\n                              </div>\n                              <div class="resource-icon ${e.type.toLowerCase()}"></div>\n                            </div>`,o.querySelector(".tiles-grid-wrapper").appendChild(t),void 0!==e.tagLine&&null!==e.tagLine&&0!==e.tagLine.trim().length||(t.querySelector(".resource-tagline-wrapper").style.display="none"),null!==e.activityValue&&void 0!==e.activityValue&&e.activityValue.length>0&&(t.classList.add("track-asset"),t.setAttribute("data-activitytype",e.activityValue))},y=()=>{t.style.display="block",n.style.display="none",o.style.display="none";const e=t.querySelectorAll(".persona-item");I(e),a.classList.add("not-active"),a.querySelector(".breadcrumb-text").classList.remove("show-persona","show-topic"),window.history.pushState("","",window.location.href.split("?")[0]),sessionStorage.removeItem("exploreHubUrl"),setTimeout((function(){E(e)}),1e3)},b=()=>{n.style.display="block",o.style.display="none";const e=n.querySelectorAll(".topic-element");I(e),a.querySelector(".breadcrumb-text").classList.remove("show-topic");const t=k().role,s=`${window.location.href.split("?")[0]}?role=${t}`;window.history.pushState("","",s),U(s),setTimeout((function(){E(e)}),1e3)},C=e=>{e.forEach(e=>e.remove())},S=(e,t,n,o,a)=>{let s=0;var l=setInterval((function(){"left"==t?e.scrollLeft-=a:e.scrollLeft+=a,s+=a,s>=o&&window.clearInterval(l),Math.abs(e.getElementsByClassName("persona-item")[4].querySelector(".persona-text").getBoundingClientRect().right-e.getBoundingClientRect().right)<=10&&(r.style.display="none"),Math.round(e.getElementsByClassName("persona-item")[0].getBoundingClientRect().left)==e.getBoundingClientRect().left&&(i.style.display="none")}),n)};$(e).on("click",".persona-item",(function(o){const i=o.target.closest(".persona-item"),r=i.querySelector(".persona-text"),l=e.querySelector(".active-persona"),c=l.querySelector(".persona-text");i.classList.contains("active-persona")?(d=JSON.parse(l.querySelector(".persona-config").getAttribute("data-json")),u=l.querySelector(".persona-config").getAttribute("data-key").replace(/_/g," "),u.startsWith("A")||u.startsWith("I")?a.querySelector(".selected-persona-text").innerHTML="I am an ":a.querySelector(".selected-persona-text").innerHTML="I am a ",x("role",u.replace(/\s/g,"_")),(o=>{const i=s.querySelector(".topic-background-color").getAttribute("data-config"),r=s.querySelector(".topic-text-color").getAttribute("data-config");n.querySelector(".wrapper-content").innerHTML="",o.map(e=>{h(e.topic,i,r,u)});const l=t.querySelectorAll(".persona-item");F(l,".wrapper-content-inner"),setTimeout((function(){t.style.display="none";const o=document.body.getBoundingClientRect().top,s=e.getBoundingClientRect().top-o-p;window.scrollTo({top:s,behavior:"smooth"}),n.style.display="block",setTimeout((function(){E(l)}),1e3),a.classList.remove("not-active"),a.querySelector(".breadcrumb-text").classList.add("show-persona"),a.querySelector(".selected-persona").innerHTML=u,a.querySelector(".selected-persona").setAttribute("data-com-cta","back-to-persona-"+u),a.querySelector(".breadcrumb-back-arrow").setAttribute("data-com-cta","back-arrow-to-persona-"+u),n.querySelector(".dynamic-text").textContent=u;const i=n.querySelectorAll(".topic-element");setTimeout((function(){I(i)}),100),setTimeout((function(){E(i)}),1100),e.style.visibility="inherit"}),1e3)})(d)):(l.classList.remove("active-persona"),i.classList.add("active-persona"),u=i.querySelector(".persona-config").getAttribute("data-key"),$(window).width()<768&&(TweenMax.set(r,{height:"auto"}),TweenMax.from(r,.4,{height:0,ease:"none"}),TweenMax.to(c,.4,{height:0,ease:"none"})))}));const x=(e,t)=>{const n=window.location.href.split("?")[0],o=k().role,a=k().topic;if(!o&&"role"==e){const o=`${n}?${e}=${t}`;window.history.pushState("","",o),U(o)}if(!a&&"topic"==e){const a=n+"?"+`role=${o}&${e}=${t}`;window.history.pushState("","",a),U(a)}},k=()=>{f=window.location.href;const e=[];let t;const n=f.slice(f.indexOf("?")+1).split("&");for(let o=0;o<n.length;o++)t=n[o].split("="),e.push(t[0]),e[t[0]]=t[1];return e},E=e=>{e.forEach(e=>{e.classList.remove("flyFromBottom"),e.classList.remove("flyToUp")})},I=e=>{e.forEach((e,t)=>{e.classList.remove("flyToUp"),e.classList.add("setToBottom")}),t.querySelector(".wrapper-title").classList.remove("fadeOut"),t.querySelector(".wrapper-subtitle").classList.remove("fadeOut"),t.querySelector(".wrapper-content-inner").style.overflow="auto";e.forEach((e,t)=>{setTimeout((function(){e.classList.remove("setToBottom"),e.classList.add("flyFromBottom")}),50*t)})},F=(e,n)=>{t.querySelector(".wrapper-title").classList.add("fadeOut"),t.querySelector(".wrapper-subtitle").classList.add("fadeOut"),e.forEach((e,t)=>{setTimeout((function(){e.classList.add("flyToUp")}),50*t)})},U=e=>{sessionStorage.setItem("exploreHubUrl",e)};(function(){const o=k().role;if(o){e.style.visibility="hidden";const a=t.querySelector(`[data-key=${o}]`);if(null!==a){e.querySelector(".active-persona").classList.remove("active-persona"),a.parentElement.classList.add("active-persona"),a.click();const t=k().topic;t&&setTimeout((function(){const e=n.querySelector(`[data-key=${t}]`);if(null!==e)e.click();else{const e=window.location.href.split("&topic")[0];window.history.pushState("","",e),U(e)}}),0)}else e.style.visibility="inherit",window.history.pushState("","",window.location.pathname),sessionStorage.removeItem("exploreHubUrl")}else e.style.visibility="inherit",sessionStorage.removeItem("exploreHubUrl")})(),$(e).on("click",".topic-element",(function(e){let t,n;e.target.classList.contains("topic-element")?(t=Array.from(e.target.parentNode.children).indexOf(e.target),m=e.target.querySelector(".topic-title").innerHTML,n=e.target.getAttribute("data-key"),v(d[t].resources),x("topic",n)):(t=Array.from(e.target.parentElement.parentNode.children).indexOf(e.target.parentElement),m=e.target.innerHTML,n=e.target.getAttribute("data-key"),v(d[t].resources),x("topic",n))})),$(e).on("click",".selected-persona",(function(e){y(),C(o.querySelectorAll(".reveal-more-btn")),C(n.querySelectorAll(".topic-element"))})),$(e).on("click",".selected-topic",(function(e){b(),C(o.querySelectorAll(".reveal-more-btn"));const t=o.querySelectorAll(".resource-item");a.querySelector(".breadcrumb-back-arrow").setAttribute("data-com-cta","back-arrow-to-persona-"+u),setTimeout((function(){E(t)}),1e3)})),$(e).on("click",".breadcrumb-back-arrow",(function(e){const t=e.target.parentElement.nextElementSibling;if(t.classList.contains("show-persona")){C(o.querySelectorAll(".reveal-more-btn"));const e=o.querySelectorAll(".resource-item");setTimeout((function(){E(e)}),1e3),t.classList.contains("show-topic")?b():y()}})),$(t).on("click",".scroll-arrow",(function(e){const n=t.querySelector(".wrapper-content-inner"),o=t.querySelector(".persona-item:not(.active-persona)");let a,s=0;$(window).width()>=768&&$(window).width()<1024?a=30:$(window).width()>=1024&&$(window).width()<1700&&(a=40),e.target===i&&(s=o.getBoundingClientRect().width,S(n,"left",10,s+a,50),r.style.display="block"),e.target===r&&(s=o.getBoundingClientRect().width,S(n,"right",10,s+a,50),i.style.display="block")}))}()}))},function(e,t){window.NowValueCardsGrid=function(e){const t={CARDS_LIST:".cards-list",EXAMPLE_CARD:".example-card",CARD_CATEGORY:".resource-source",CARD_TAGLINE:".resource-tagline-text",CARD_TITLE:".resource-title",CARD_DESCRIPTION:".resource-desc",CARD_ICON:".resource-icon",SHOW_MORE:".show-more"},n={SHOW_MORE:"show-more",EXAMPLE_CARD:"example-card",NO_RESULTS:"no-results",LOADING:"loading"},o={ANALYTICS_CTA:"data-com-cta"},a=6,s={};let i=[];function r(){l(i),e.removeClass(n.SHOW_MORE),i=[]}function l(e){e.forEach(e=>{!function(e){(function(e){const n=s.$exampleCard.clone(),a=function(e){return e.type?e.type.toLowerCase():""}(e);n.addClass(a),n.attr("href",e.url),null!==e.trackAsset&&void 0!==e.trackAsset&&e.trackAsset.length>0&&(n.addClass("track-asset"),n.attr("data-activitytype",e.trackAsset),n.find(t.CARD_TAGLINE).html(e.tagLine),void 0!==e.tagLine&&null!==e.tagLine&&0!==e.tagLine.length||n.find(".resource-tagline-wrapper").css("display","none"));return n.find(t.CARD_CATEGORY).html(e.category),n.find(t.CARD_TITLE).html(e.title),n.find(t.CARD_DESCRIPTION).html(e.description),n.attr(o.ANALYTICS_CTA,e.title),n})(e).appendTo(s.$cardsList)}(e)})}return s.$cardsList=e.find(t.CARDS_LIST),s.$showMore=e.find(t.SHOW_MORE),s.$exampleCard=e.find(t.EXAMPLE_CARD).clone().removeClass(n.EXAMPLE_CARD),s.$showMore.click(r),{updateCardsList:function(t){s.$cardsList.empty(),e.removeClass(n.LOADING),e.toggleClass(n.NO_RESULTS,0==t.length);const o=t.slice(0,a);i=t.slice(a),l(o),e.toggleClass(n.SHOW_MORE,i.length>0)}}}},function(e,t){window.NowValueDropdownFilter=function(e){const t={DROPDOWN:".dropdown",CAPTION:".drop-caption",CAPTION_TEXT:".caption-text",OPTION:".drop-opt",SUBTITLE:".left-txt"},n={OPENED:"opened",SELECTED:"slcted"},o={OPTION_SUBTITLE:"sub-title"};let a=!1,s=null;const i=Observable(),r={};function l(e){e.stopPropagation()}function c(){d($(this)),m()}function d(e){const t=e.text(),a=e.data(o.OPTION_SUBTITLE),l=e.is(":first-child")?null:t;r.$options.removeClass(n.SELECTED),e.addClass(n.SELECTED),r.$captionText.html(t),r.$subtitle.html(a),s!=l&&(s=l,i.notify(l))}function u(){a=!a,r.$dropdown.toggleClass(n.OPENED,a)}function m(){a=!1,r.$dropdown.removeClass(n.OPENED,a)}return r.$document=$(document),r.$dropdown=e.find(t.DROPDOWN),r.$subtitle=e.find(t.SUBTITLE),r.$caption=e.find(t.CAPTION),r.$captionText=e.find(t.CAPTION_TEXT),r.$options=e.find(t.OPTION),r.$dropdown.click(l),r.$caption.click(u),r.$document.click(m),r.$options.click(c),r.$options.length&&d(r.$options.first()),{selectedOptionChanged:i,getSelectedOption:function(){return s}}}},function(e,t){window.NowValueTopicFilter=function(e){const t={ITEM:".dv-item",ITEM_NAME:".item-name",ITEM_ARROW:".arrow",SUB_ITEM:".sub-item"},n={SELECTED:"selected",OPENED:"opened",OPENED_IN_DESKTOP:"opened-desktop",ITEM_HAS_SUB_ITEMS:"has-sub-items"},o="(min-width: 1024px)";let a=null;const s=Observable(),i=Observable(),r={};function l(){const e=$(this).parents(t.ITEM).first(),o=h(),a=p(e),s=function(e){return e.hasClass(n.ITEM_HAS_SUB_ITEMS)}(e);f(e),a||!o&&!s?o||s?!o&&s&&m(e):i.notify():u(e)}function c(){const e=$(this).parents(t.ITEM).first();p(e)?m(e):u(e),f(e)}function d(){f($(this)),i.notify()}function u(e){r.$items.removeClass(`${n.OPENED} ${n.OPENED_IN_DESKTOP}`),e.addClass(n.OPENED)}function m(e){e.removeClass(`${n.OPENED} ${n.OPENED_IN_DESKTOP}`)}function p(e){return e.hasClass(n.OPENED)||h()&&e.hasClass(n.OPENED_IN_DESKTOP)}function f(e){var t;r.$items.removeClass(n.SELECTED),r.$subItems.removeClass(n.SELECTED),e.addClass(n.SELECTED),(t=g(e))!=a&&(s.notify(t),a=t)}function g(e){return e.is(t.SUB_ITEM)?e.text():e.find(t.ITEM_NAME).text()}function h(){return window.matchMedia(o).matches}return r.$items=e.find(t.ITEM),r.$itemsNames=e.find(t.ITEM_NAME),r.$itemsArrows=e.find(t.ITEM_ARROW),r.$subItems=e.find(t.SUB_ITEM),r.$subItems.click(d),r.$itemsNames.click(l),r.$itemsArrows.click(c),a=r.$items.length?g(r.$items.first()):null,{selectedFilterChanged:s,filterClicked:i,getSelectedFilter:function(){return a}}}},function(e,t){function n(e){const t={FILTERS:".dv-topic-filter",CARDS_GRID:".cards-grid",CLOSE_OVERLAY:".close-overlay",SELECTED_TOPIC:".selected-topic",DROPDOWN_FILTER:".dv-dropdown-filter"},n={CARDS_OVERLAY_VISIBLE:"cards-overlay-visible",DISABLE_SCROLL_MOBILE:"disable-scroll-mobile"},o={CARDS_JSON:"cards-json"},a="(max-width: 1023px)";let s=[],i=[],r=null,l=null,c=null,d=null,u=null;const m={};function p(){i=s.filter(e=>function(e){if(!l||e.category.toLowerCase()==l){return!r||e.topics.some(e=>e.toLowerCase()==r)}return!1}(e)).sort((e,t)=>t.relevance-e.relevance),d.updateCardsList(i)}function f(){window.matchMedia(a).matches&&(e.addClass(n.CARDS_OVERLAY_VISIBLE),m.$body.addClass(n.DISABLE_SCROLL_MOBILE))}function g(){e.removeClass(n.CARDS_OVERLAY_VISIBLE),m.$body.removeClass(n.DISABLE_SCROLL_MOBILE)}function h(e){w(e),p()}function v(e){y(e),p()}function w(e){l=e?e.toLowerCase():null}function y(e){m.$selectedTopic.html(e),r=e?e.toLowerCase():null}m.$body=$("body"),m.$filters=e.find(t.FILTERS),m.$cardsGrid=e.find(t.CARDS_GRID),m.$closeOverlay=e.find(t.CLOSE_OVERLAY),m.$selectedTopic=e.find(t.SELECTED_TOPIC),m.$dropdownFilter=e.find(t.DROPDOWN_FILTER),c=NowValueTopicFilter(m.$filters),d=NowValueCardsGrid(m.$cardsGrid),u=NowValueDropdownFilter(m.$dropdownFilter),m.$closeOverlay.click(g),c.selectedFilterChanged.subscribe(v),c.filterClicked.subscribe(f),u.selectedOptionChanged.subscribe(h),y(c.getSelectedFilter()),w(u.getSelectedOption()),cardsJSON=e.data(o.CARDS_JSON),"object"==typeof cardsJSON&&(s=cardsJSON,p())}$((function(){$(".grid-content-cards-component").toArray().forEach((function(e){n($(e))}))}))},function(e,t){$(document).ready((function(){$(".component-csc-meganav").length&&$((function(){!function(){const e=document.querySelector(".component-csc-meganav"),t=$(window),n=e.querySelector(".csc-search-container"),o=e.querySelector(".login-link"),a=$(e).data("logout-text"),s=$(e).data("logout-link");let i,r,l=0;function c(){t.width()>1023&&e.classList.remove("open")}function d(e){!n.contains(e.target)&&m()}function u(){e.classList.add("search-open"),document.addEventListener("click",d,!1)}function m(){e.classList.remove("search-open"),document.removeEventListener("click",d,!1),$(".csc-search-field").val(""),$("#searchSuggestion").hide()}i=decodeURIComponent(function(e){const t="userId"+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}()),window.addEventListener("resize",c),window.addEventListener("scroll",(function(){const e=t.scrollTop();e>l&&e>80&&t.width()>1023&&m(),l=e})),n.addEventListener("click",(function(n){if(t.width()<1024){const t=n.target;t.classList.contains("csc-meganav-search-icon")&&e.classList.contains("search-open")?m():t.classList.contains("csc-meganav-menu-toggle")?$(e).toggleClass("open"):u()}}),!1),o.addEventListener("click",(function(t){const n=window.location.href;if(t.preventDefault(),e.classList.contains("logged-in")){const e=$(".universal-form-wrapper.form-in-page");UFGeneral(e).generalServices.completeSignout(n)}else{const e=o.href;setCookie("redirectionPage",n,1),window.location.replace(e)}}),!1),n.addEventListener("mouseenter",(function(){event.target;e.classList.contains("search-open")?clearTimeout(r):t.width()>1023&&(r=setTimeout((function(){u()}),500))}),!1),n.addEventListener("mouseleave",(function(){clearTimeout(r)}),!1),null!=i&&"null"!=i&&(e.classList.add("logged-in"),$(o).text(a),$(o).attr("href",s)),c()}()}))}))},function(e,t){$(".component-ucsc-offramp-tiles").length&&$((function(){!function(){const e=document.querySelector(".component-ucsc-offramp-tiles"),t=e.querySelector(".left-scroll-arrow"),n=e.querySelector(".right-scroll-arrow"),o=e.querySelectorAll(".cscOffRampTile").length;$(e).on("click",".cscOffRampTile",(function(e){if($(window).width()<1024){let t=e.target;t.classList.contains("cscOffRampTile")||(t=e.target.closest(".cscOffRampTile")),t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")}})),window.addEventListener("resize",(function(){$(window).width()>=1024&&($(".cscOffRampTile").removeClass("active"),t.style.display="none",n.style.display="none"),Math.round(e.getElementsByClassName("cscOffRampTile")[o-1].getBoundingClientRect().right)<=e.getBoundingClientRect().right-15||Math.round(e.getElementsByClassName("cscOffRampTile")[o-1].getBoundingClientRect().right)<=e.getBoundingClientRect().right-15?n.style.display="none":n.style.display="block",Math.round(e.getElementsByClassName("cscOffRampTile")[0].getBoundingClientRect().left)>=e.getBoundingClientRect().left+10?t.style.display="none":t.style.display="block"}));const a=(e,a,s,i,r)=>{let l=0;var c=setInterval((function(){"left"==a?e.scrollLeft-=r:e.scrollLeft+=r,l+=r,l>=i&&window.clearInterval(c),setTimeout((function(){(Math.round(e.getElementsByClassName("cscOffRampTile")[o-1].getBoundingClientRect().right)<=e.getBoundingClientRect().right-15||Math.round(e.getElementsByClassName("cscOffRampTile")[o-1].getBoundingClientRect().right)<=e.getBoundingClientRect().right-15)&&(n.style.display="none"),Math.round(e.getElementsByClassName("cscOffRampTile")[0].getBoundingClientRect().left)>=e.getBoundingClientRect().left+10&&(t.style.display="none")}),100)}),s)};$(e).on("click",".scroll-arrow",(function(o){const s=e.querySelector(".offramp-tiles-inner-wrapper"),i=e.querySelector(".cscOffRampTile");let r=0;o.target===t&&(r=i.offsetWidth,a(s,"left",10,r+40,10),n.style.display="block"),o.target===n&&(r=i.offsetWidth,a(s,"right",10,r+40,10),t.style.display="block")}))}()}))},function(e,t){$(document).ready((function(){$(".partner-listing-component").length&&$((function(){!function(){const e=document.getElementsByClassName("partner-listing-component")[0],t=e.getElementsByClassName("search-field"),n=document.getElementById("resultSearch"),o=document.getElementById("search-by-partner-type"),a=document.getElementsByClassName("partner-listing-section")[0],s=document.getElementsByClassName("btn-reset-filter")[0],i=$(e).data("items-per-page"),r=$(e).data("src-json"),l=e.getElementsByClassName("no-partners-found")[0],c=$(e).data("no-results-text");let d,u=i,m=[],p=[];$(".filter-country select").val();const f={},g={},h={},v={},w={};let y,b;const C=e.getElementsByClassName("filter-checkbox"),S=e.getElementsByClassName("filter-control"),x=$(location).attr("pathname"),k=sessionStorage.getItem("savedPartnerType"),E=sessionStorage.getItem("checkedFilterItems"),I=sessionStorage.getItem("savedGeoType"),F=sessionStorage.getItem("savedCountryType"),U=sessionStorage.getItem("savedImplementationList");function L(e){return e.replace(/[\"'\/<>]/g,(function(e){return{'"':"&quot;","'":"'","/":"/","<":"&lt;",">":"&gt;"}[e]}))}$(".filter-country option").each((function(){if("0"!=$(this).val()){let e=$(this).data("region");e=e.toLowerCase(),"ams"==e&&(g[$(this).text()]=$(this).text()),"apj"==e&&(h[$(this).text()]=$(this).text()),"emea"==e&&(v[$(this).text()]=$(this).text()),"latam"==e&&(w[$(this).text()]=$(this).text())}})),$.getJSON(r,(function(e){function t(e,t){return(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0}const n=e.sort((function(e,n){return t(e.preferredName,n.preferredName)}));function o(e){const t=[],n=[];return $.each(e,(function(e,o){-1==$.inArray(o,t)&&(t.push(o),n.push(o))})),n}l.innerHTML=c,function(e){for(let s=0;s<e.length;s++){const i="partner"+s;const r=e[s];let l=r.partnerPrograms,c=r.allApprovedTerritories,d=r.implementationsSpecilizations;const u=r.implementationsSpecilizations.length;let m=r.productAuthorizations,p=r.partnerTypes;encodeURI((o=r.preferredName,o.replace(/[\"&'\/<>]/g,(function(e){return{'"':"&quot;","&":"&amp;","'":"&#39;","/":"&#47;","<":"&lt;",">":"&gt;"}[e]}))).toLowerCase());const f=L(r.preferredName).replace(/&amp;/g,"&"),$=L(r.tileText),b=(r.averageCSATScore||0)*r.csatWeight,C=r.skillCountWeight,S=r.implementationSplWeight,k=r.skills||[];var t=0;let E=0;for(var n in k.forEach((function(e){t+=parseInt(e.skillCount)})),E=t*C+b,c=c.join(" "),g)if(-1!==c.indexOf(g[n])){c+=" ams";break}for(var n in h)if(-1!==c.indexOf(h[n])){c+=" apj";break}for(var n in v)if(-1!==c.indexOf(v[n])){c+=" emea";break}for(var n in w)if(-1!==c.indexOf(w[n])){c+=" latam";break}const I=d.join("|");y+=I+"|",l=l.join(" "),d=d.join(" | "),d+=" | ",m=m.join(" "),p=p.join(" ");const F=document.createElement("div");F.setAttribute("class","component partner-listing-section-item partner-item"),F.setAttribute("id",i),a.appendChild(F),F.setAttribute("data-program",l.toLowerCase()),F.setAttribute("data-implementation",d.toLowerCase()),F.setAttribute("data-skill-weight",C),F.setAttribute("data-implementation-weight",S),F.setAttribute("data-implementation-length",u),F.setAttribute("data-skills",JSON.stringify(k)),F.setAttribute("data-skillscore",""),F.setAttribute("data-score",E),F.setAttribute("data-geo",c.toLowerCase()),F.setAttribute("data-authorization",m.toLowerCase()),F.setAttribute("data-type",p.toLowerCase()),F.setAttribute("data-partner-score",b);const U=document.createElement("div");U.setAttribute("class","component image-component");const T=document.createElement("img");T.setAttribute("class","img-responsive"),T.src=r.logo;const _=document.createElement("p");_.setAttribute("class","partner-title");const A=document.createTextNode(f);document.getElementById(i).appendChild(U),U.appendChild(T),U.appendChild(_).appendChild(A);const O=document.createElement("a");x.indexOf("/it-it/")>-1||x.indexOf("/italia/")>-1?O.setAttribute("href","/italia"+r.partnerPageURL):O.setAttribute("href",r.partnerPageURL);const N=document.createElement("div");N.setAttribute("class","navigation-tile-item-text text-block");const R=document.createElement("div");R.setAttribute("class","component text-component text-block");const q=document.createElement("p"),P=document.createTextNode($);F.appendChild(O).appendChild(N).appendChild(R).appendChild(q).appendChild(P)}var o}(n),y=y.split("|");var s=(s=o(y)).sort((function(e,n){return t(e,n)}));if(s=o(s),$("#partnernow-implementation-expertise ul").html(""),$.each(s,(function(e,t){""!=e&&"undefined"!=t&&$("#partnernow-implementation-expertise ul").append($(`<li><label class='checkbox'><input type='checkbox' class='filter-checkbox' value='${t}' id='${t}' name='pn-implementation'><span></span></label> <span>${t}</span> </li>`))})),$(".result-nr").text(d),$(".showing-result-nr").text("1 - "+d),m=$(".partner-item"),m.hide(),_(),A(),null!=k)$(".search-by-partner-type select").val(k),$(".search-by-partner-type select").change();else if(null!=E&&(document.getElementById(E).checked=!0,$("#pn-program-section").addClass("expanded"),$(document.getElementById(E)).addClass("filter-checked").change()),null!=U){JSON.parse(U).forEach((function(e){const t=document.getElementById(e);document.getElementById(e).checked=!0,$(t).addClass("filter-checked")})),$(".filter-checked").change(),$("#partnernow-implementation-expertise").addClass("expanded")}null!=I&&($(".filter-geo").closest(".faceted-area-box").addClass("expanded"),$(".filter-geo select").val(I),$(".filter-geo select").change()),null!=F&&($(".filter-geo").closest(".faceted-area-box").addClass("expanded"),$(".filter-country select").val(F),$(".filter-country select").change())}));const T=$(".program-level").children("li").remove();function _(){m.hide(),u=i;let t="",n="",o="",a="",s="",r="",l="",c="";const d=e.getElementsByClassName("filter-checked");const f={"Certified Implementation Specialist – Customer Service Management":"Customer Service Management","Certified Implementation Specialist – Field Service Management":"Customer Service Management","Certified Implementation Specialist – Human Resources":"HR Service Delivery","Certified Implementation Specialist – Software Asset Management":"IT Asset Management","Certified Implementation Specialist – Application Portfolio Management":"IT Business Management","Certified Implementation Specialist – Project Portfolio Management":"IT Business Management","Certified Implementation Specialist – Cloud Management":"IT Operations Management","Certified Implementation Specialist – Discovery":"IT Operations Management","Certified Implementation Specialist – Event Management":"IT Operations Management","Certified Implementation Specialist – Service Mapping":"IT Operations Management","Certified Implementation Specialist – IT Service Management":"IT Service Management","ServiceNow Certified Application Developer":"Now Platform App Engine,App Store","Certified Implementation Specialist – Risk and Compliance":"Governance, Risk and Compliance","Certified Implementation Specialist – Vendor Risk Management":"Governance, Risk and Compliance","Certified Implementation Specialist – Security Incident Response":"Security Operations","Certified Implementation Specialist – Vulnerability Response":"Security Operations"};$(S).each((function(){!function(e){switch(e.name){case"search-by-partner-type":const t=e.options[e.selectedIndex],n=$(t).data("program")||"0";($(t).data("type")||"0").split(",").forEach((function(e){c+=`,[data-type~='${e.toLowerCase()}']`})),c.indexOf(0)<0&&($(`#pn-program-section input[value='${n}']`).addClass("filter-checked"),$(`#pn-program-section input[value='${n}']`).prop("checked",!0)),sessionStorage.setItem("savedPartnerType",e.value);break;case"search-by-geo":r=`[data-geo~='${e.value.toLowerCase()}']`,sessionStorage.setItem("savedGeoType",e.value);break;case"search-by-country":l=`[data-geo~='${e.value.toLowerCase()}']`,sessionStorage.setItem("savedCountryType",e.value)}}(this)})),$(d).each((function(){!function(e){switch(e.name){case"pn-program":t+=`,[data-program~='${e.value.toLowerCase()}']`,sessionStorage.setItem("checkedFilterItems",e.value);break;case"pn-implementation":n+=`,[data-implementation~='${e.value.toLowerCase()}']`;break;case"pn-authorization":a+=`,[data-authorization~='${e.value.toLowerCase()}']`;break;case"pn-specialization":o+=`,[data-specialization~='${e.value.toLowerCase()}']`;break;case"pn-type":s+=`,[data-type~='${e.value.toLowerCase()}']`}}(this)})),t=t.substring(1),n=n.substring(1),a=a.substring(1),o=o.substring(1),s=s.substring(1),c=c.substring(1),p=m,""!=t?p=p.filter(t):sessionStorage.removeItem("checkedFilterItems"),""!=n?p=p.filter(n):sessionStorage.removeItem("savedImplementationList"),""!=a&&(p=p.filter(a)),""!=o&&(p=p.filter(o)),""!=s&&(p=p.filter(s)),c.indexOf(0)<0?p=p.filter(c):sessionStorage.removeItem("savedPartnerType"),r.indexOf(0)<0?p=p.filter(r):sessionStorage.removeItem("savedGeoType"),l.indexOf(0)<0?p=p.filter(l):sessionStorage.removeItem("savedCountryType");const g=[];let h=p;"0"==d.length&&c.indexOf(0)>-1&&r.indexOf(0)>-1&&l.indexOf(0)>-1?p="":$("#Services").hasClass("filter-checked")&&(h.each((function(){const e=this,t=$(e).data("implementation").toLowerCase(),n=$(e).data("skills");let o=0,a=0,s=0;if($("#partnernow-implementation-expertise li input:checked").each((function(){const e=this.value,a=e.toLowerCase();-1==g.indexOf(e)&&g.push(e),-1!=t.indexOf(a)&&(s+=1),sessionStorage.setItem("savedImplementationList",JSON.stringify(g));for(let t=0;t<n.length;t++){const a=n[t].skillName||"",s=f[a];(s&&-1!==s.indexOf(e)||-1!==a.toLowerCase().indexOf(e.toLowerCase()))&&(o+=parseFloat(n[t].skillCount))}})),a=parseFloat(o*$(e).data("skillWeight")+$(e).data("partner-score")),$("#partnernow-implementation-expertise li input:checked").length<1){for(let e=0;e<n.length;e++)o+=parseFloat(n[e].skillCount);a=parseFloat(o*$(e).data("skillWeight")+$(e).data("partner-score")+$(e).data("implementation-length")*$(e).data("implementation-weight"))}$(e).attr("data-score",a)})),h=$(h).sort((function(e,t){const n=parseFloat($(e).data("score")),o=parseFloat($(t).data("score"));return n>o?-1:n<o?1:0})),p=h),$(".partner-listing-section").html(p),O(p)}function A(){$(S).each((function(){const e=$(this),t=$(e).find("option:selected").text(),n=$(this).parent(),o=n.find(".title").text(),a=n.find("span");$(a).html(`<strong>${o}:</strong> ${t}`)}))}function O(e){$(e).hide(),d=e.length,0==u&&(u=i);"services"==($("input[name=pn-program]:checked").val()||"").toLowerCase()?$("#partnernow-implementation-expertise").show():$("#partnernow-implementation-expertise").hide(),u>=d>0?(u=d,$(".show-more-media-section").hide()):$(".show-more-media-section").css("display","inline-block"),0==d?$(".results-pagination").hide():$(".results-pagination").show(),$(".partner-listing-program-section").each((function(){$(this).show()})),$(".partner-listing-section").each((function(){$(this).show()})),$(e).slice(0,u).show(),N(u,d)}T.sort((function(e,t){return parseInt(e.id)>parseInt(t.id)?1:-1})),$(".program-level").append(T),$(".program-level li").each((function(){$(this).removeAttr("id")})),$(".faceted-area-header").click((function(){$(this).parent().toggleClass("expanded")})),$(".faceted-area-filters").on("click touchstart","li",(function(){if($(this).find("input").length>0){const e=$(this).find("input");if("pn-program"==$(e).attr("name")){if($(e).prop("checked",!0).addClass("filter-checked"),$(e).closest("li").siblings().find("input").each((function(){$(this).removeClass("filter-checked"),$(this).prop("checked",!1)})),$("#partnernow-implementation-expertise").hide(),"0"!=$(".search-by-partner-type select").val()){const e=$(".search-by-partner-type").find("option:first-of-type").text(),t=$(".search-by-partner-type").find(".title").text();$(".search-by-partner-type select").val("0"),sessionStorage.removeItem("savedPartnerType"),$(".search-by-partner-type .filter-value").html(`<span>${t}:</span> ${e}`)}$("input.filter-checkbox[name=pn-implementation]").each((function(){this.checked=!1,$(this).removeClass("filter-checked")}))}else e.prop("checked",!e.prop("checked")),e.is(":checked")?e.addClass("filter-checked"):e.removeClass("filter-checked");e.trigger("change"),_()}})),$(e).on("change",".filter-checkbox, .filter-control",(function(e){o.contains(e.target)&&(0!=o.value?document.getElementById("pn-program-section").classList.add("expanded"):(document.getElementById("pn-program-section").classList.remove("expanded"),Array.from(C).forEach((function(e){e.checked=!1,e.classList.remove("filter-checked")}))),document.getElementById("pn-geo-section").classList.remove("expanded"),$("#pn-program-section input").removeClass("filter-checked"),$(".filter-geo select").val(0),$(".filter-geo select").trigger("change")),n.value="",_(),A()}));var N=function(e,t){b=p.slice(0,e).length,$(".result-nr").text(t),0==!t?$(".showing-result-nr").text("1 - "+e):$(".showing-result-nr").text("0 - "+e),$(".partner-listing-section").each((function(){$(this).find(".partner-item:visible").length?($(this).show(),$(this).prev(".partner-listing-section-header").show()):($(this).prev(".partner-listing-section-header").hide(),$(this).hide())})),$(".partner-item:visible").length?$(l).hide():$(l).show()};function R(){Array.from(C).forEach((function(e){e.checked=!1,e.classList.remove("filter-checked")})),Array.from(S).forEach((function(e){e.value=0,$(e).trigger("change")})),n.value="",$(".faceted-area-box").removeClass("expanded")}$(".show-more-media").on("click","",(function(e){e.preventDefault(),u=parseInt(u)+parseInt(i);O($(".partner-item"))})),$(t).submit((function(e){e.preventDefault();const t=[],o=n.value.toLowerCase();if(!(o.split("").length>0))return!1;u=i,R(),Array.from(m).forEach((function(e){-1!=e.getElementsByClassName("partner-title")[0].textContent.toLowerCase().indexOf(o)&&t.push(e)})),n.value=o,$(".partner-listing-section").html(t),O(t)})),s.addEventListener("click",R),$(".filter-country option").each((function(){if("0"!=$(this).val()){let e=$(this).data("region");$(this).val($(this).val().toLowerCase()),e=e.toLowerCase(),f[$(this).text()]=e}else f[$(this).text()]=$(this).data("region")})),$(".partner-listing-component .search-field").on("click touchstart","input",(function(){this.setSelectionRange(0,this.value.length)})),$(".filter-geo").on("change","select",(function(){const e=this.options[this.selectedIndex].value.toLowerCase();$(".filter-country select").find("option").remove().end(),"0"==e?($(".filter-country select").append($("<option></option>").attr("value","0").text("All")),$.each(f,(function(e,t){"All"!==e&&$(".filter-country select").append($("<option></option>").attr("value",e.toLowerCase()).text(e))}))):$(this).closest(".filter-geo").siblings("li").each((function(){$(".filter-country select").append($("<option></option>").attr("value","0").html("All")),$.each(f,(function(t,n){n==e&&$(".filter-country select").append($("<option></option>").attr("value",t.toLowerCase()).text(t))}))})),$(".filter-country").find("select").val("0").trigger("change")})),$(".view-filters").click((function(){$(".view-filters").toggleClass("view-open"),$(".faceted-area").slideToggle()}))}()}))})),$(document).ready((function(){let e;clearTimeout(e),e=setTimeout((function(){$(".filter-checked").change()}),4e3)}))},function(e,t){$(".carousel-nc").length&&$((function(){!function(){const e=document.querySelectorAll(".carousel-nc-inner-wrapper"),t=()=>{e.forEach(e=>{const t=e.children.length;(e=>{const t=e.getBoundingClientRect();return t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e.children[t-1])?e.parentElement.classList.add("no-scroll"):e.parentElement.classList.remove("no-scroll")})};t(),$(window).resize((function(){t()}));const n=(e,t,n,o,a,s,i,r,l)=>{let c=0;var d=setInterval((function(){"left"==s?n.scrollLeft-=l:n.scrollLeft+=l,c+=l,c>=r&&window.clearInterval(d),Math.round(a[t-1].getBoundingClientRect().right)==n.getBoundingClientRect().right&&(e.querySelector(".right-scroll-arrow").style.display="none"),Math.round(o.getBoundingClientRect().left)==n.getBoundingClientRect().left&&(e.querySelector(".left-scroll-arrow").style.display="none")}),i)};$(".carousel-nc").on("click",".scroll-arrow",(function(e){const t=e.target.closest(".carousel-nc-outer-wrapper").querySelector(".carousel-nc-inner-wrapper"),o=e.target.closest(".carousel-nc"),a=t.children.length,s="."+t.children[0].className,i=t.querySelector(""+s),r=t.querySelectorAll(""+s);let l=0;const c=parseInt(window.getComputedStyle(i).marginRight);e.target.classList.contains("left-scroll-arrow")&&(l=i.offsetWidth,n(o,a,t,i,r,"left",10,l+c,10),o.querySelector(".right-scroll-arrow").style.display="block"),e.target.classList.contains("right-scroll-arrow")&&(l=i.offsetWidth,n(o,a,t,i,r,"right",10,l+c,10),o.querySelector(".left-scroll-arrow").style.display="block")}))}()}))},function(e,t){$(".component-promotional-banner").length&&$((function(){!function(){let e=sessionStorage.getItem("promotional_banners");const t=document.querySelectorAll(".component-promotional-banner");null!=e?(e=JSON.parse(e),t.forEach(t=>{-1===e.indexOf(t.getAttribute("id"))&&t.classList.remove("hide")})):$(".component-promotional-banner").removeClass("hide");$(".component-promotional-banner .close-button").on("click",(function(t){let n=[];null!==e&&(n=e);const o=t.target.closest(".component-promotional-banner");n.push(o.getAttribute("id")),sessionStorage.setItem("promotional_banners",JSON.stringify(n)),e=n,o.style.opacity=0;const a=o.getBoundingClientRect().height;setTimeout((function(){o.style.padding=0,o.style.height=a,$(o).animate({height:0},250)}),500)}))}()}))},function(e,t){let n=0;if($(".resource-list").length){$((function(){r()?f():(C.frag.start||(C.frag.start=0),l()),$(".dropdown > li").off("click"),$(".dropdown > li").on("click",s),a(),0!=v.length&&(v.off("click"),v.on("click",c)),$(".reset").on("click",d),$(".searchbox").off("keypress"),$(".searchbox").on("keypress",u)}));const e=$(".card_list"),t=$(".loadmore"),h=$(".resource-list"),v=$(".flushCacheButton"),w=h.data("page-max")||12,y=h.data("flush-cache-url")||"/bin/servicenow/cleanResourcesCenterCache",b=h.data("path")||"/content/servicenow/www/locale-sites/en-us/resources/jcr:content/contentPar/resourcelist",C={ra:["filterOneTags","filterTwoTags","filterThreeTags","filterFourTags","filterFiveTags","search","start"],frag:o(),baseUrl:"/bin/servicenow/resourcescenter",data:null,resourcesRemaining:-1,flushCacheUrl:y,cacheKey:b};function o(){const e=window.location.hash.substr(1);return e&&e.split("&").reduce((function(e,t){const n=t.split("=");return e[n[0]]=n[1],e}),{})||{}}function a(){for(let e=0;e<C.ra.length;e++){const t=C.ra[e],n=C.frag[t];C.frag[t]&&"search"!==t?($("div#"+t).find("span").html($(`div#${t} .dropdown > li`).find(`[data-js="${decodeURIComponent(n)}"]`).html()).parent().find("ul li").find(`[data-js="${decodeURIComponent(n)}"]`).parent().addClass("dropdown-value-selected"),$(".dropdown_wrapper").removeClass("active")):n&&"search"===t&&$(".searchbox").val(decodeURIComponent(n))}C.frag.search&&!C.frag.filterThreeTags&&$(`div#${C.ra[2]} > span`).html("All")}function s(e){e.stopPropagation(e);const t=$(e.target).text(),n=$(e.target).data("js");$(e.target).parent().addClass("dropdown-value-selected").siblings().removeClass("dropdown-value-selected").parent().siblings("span").html(t),$(".dropdown_wrapper").removeClass("active");const o=$(e.target).parent().parent().parent().attr("id");return"-1"==n?($(e.target).parent().parent().parent().find("span").html($(e.target).parent().parent().parent().find("span").data("default")),delete C.frag[o]):C.frag[o]=n,g("Search Facet Change","Primary Filter",t),i(),l(),!1}function i(){C.frag.start=0,C.resourcesRemaining=-1}function r(){let e="";for(const t in C.frag)if(C.frag.hasOwnProperty(t)){e+=e?"&":"",e+=`${t}=${C.frag[t]}`}return e}function l(){window.location.hash=r()}function c(e){const t=window.location.origin+C.flushCacheUrl;v.attr("disabled","disabled"),$.post(t,{cacheKey:C.cacheKey},(function(){v.removeAttr("disabled"),i(),f()}))}function d(e){var t,n;$(".reset img").addClass("spinEffect"),$(".dropdown_wrapper").removeClass("active").find("ul").find("li").removeClass("dropdown-value-selected"),$(".filters").empty(),$(".searchbox").val(""),$(".filterbar").slideUp(),setTimeout((function(){$(".reset img").removeClass("spinEffect")}),1200),C.ra.forEach((function(e){"search"==e?$("#"+e).val(""):(C.frag[e]||e)&&$(`div#${e} > span`).html($(`div#${e} > span`).data("default")),C.frag[e]&&"length"!==e&&delete C.frag[e]})),t="Search Page Click",n="Reset",window.appEventData&&appEventData.push({name:t,digitalData:{page:{search:{clickData:n}}}}),i(),l()}function u(e){const t=$(e.target).val().trim();13===(e.keyCode?e.keyCode:e.which)&&(""==t&&C.frag[$(e.target).attr("id")]?delete C.frag[$(e.target).attr("id")]:C.frag[$(e.target).attr("id")]=t,i(),l(),function(e,t,n){window.appEventData&&appEventData.push({name:e,digitalData:{page:{search:{searchTerm:t,inputField:n}}}})}("Search Submit",t,"search box"))}function m(){const o=C.data.resources;if(n=o.length,o.length){const n=C.data.totalNumResources;$(".no_records_msg").hide(),C.resourcesRemaining&&(-1===C.resourcesRemaining?C.resourcesRemaining=parseInt(n)-(parseInt(w)+parseInt(C.frag.start)):C.resourcesRemaining-=parseInt(w)),0==C.frag.start&&e.empty(),o.forEach((function(t,n){const o=parseInt(C.frag.start)+n+1,a=$("<div></div>").addClass("wrapper shown"),s=$("<div></div>").addClass(`card ${function(e){return{"ANALYST REPORT":"report","AT-A-GLANCE":"ataglance","CASE STUDY":"casestudy","DATA SHEET":"datasheet",INFOGRAPHIC:"infographic",VIDEO:"video",WEBINAR:"webinar","WHITE PAPER":"whitepaper"}[e]||"report"}(t.category)} ${t.featured?" featured":""}`),i=$("<a></a>").attr({href:t.damExternalURL,target:"_blank"}).addClass("overlink");if(i.click((function(){const e=$(this).siblings(".card_content").find(".category").text();!function(e,t,n,o,a){window.appEventData&&appEventData.push({name:e,digitalData:{page:{search:{searchResultTitle:t,searchResultLink:n,searchResultPosition:o,searchResultCategory:a}}}})}("Search Result Click",t.title,t.damExternalURL,o,e)})),s.append(i),t.featured){const e=$(`<div>${t.featured.toUpperCase()}</div>`).addClass("featured_flag");s.append(e)}a.append(s);const r=$("<div></div>").addClass("card_content"),l=$(`<div>${t.category||""}</div>`).addClass("category"),c=$(`<div>${t.title}</div>`).addClass("title");r.append(l),r.append(c),s.append(r),e.append(a)})),C.resourcesRemaining>0?(t.show(),t.off("click"),t.on("click",(function(){const e=parseInt(C.frag.start),t=parseInt(w);var n,o;C.frag.start=e+t,l(),n="Search Page Click",o="Show More Results",window.appEventData&&appEventData.push({name:n,digitalData:{page:{search:{clickData:o}}}})}))):t.hide()}else{const n=$("<h4>No Records Found</h4>").addClass("no_records_msg");e.empty(),e.html(n),t.hide()}}function p(){C.data&&(!function(){const n=$(".filterbar");if(n.empty(),C.frag.search){const o=C.data.totalNumResources;if(o){const e=$(`<div>${o} Results</div>`).addClass("results");n.append(e)}C.data.assetTypes&&C.data.assetTypes.length?(C.data.assetTypes.forEach((function(o){const a=C.frag.filterThreeTags,s=$("<div></div>"),r=$("<a></a>").attr({href:""});a?(s.text("Filtered By: "+o.title).addClass("filterpill"),r.addClass("close")):r.text(o.title).addClass("filterpill close"),r.on("click",(function(n){n.preventDefault(),a?delete C.frag.filterThreeTags:C.frag.filterThreeTags=o.id,t.hide(),e.empty(),g("Search Facet Change","Secondary Filter",$(r).text()),i(),l()})),s.append(r),n.append(s)})),n.slideDown()):n.slideUp()}else n.slideUp()}(),m())}function f(){const e=window.location.origin+C.baseUrl,t=window.location.hash&&"&"+window.location.hash.substr(1),o=`${e}?path=${b}&length=${w}${t}`,a=function(e){const t=window.location.hash.split("&");let n,o;for(o=0;o<t.length;o++)if(n=t[o].split("="),n[0]===e)return void 0===n[1]||decodeURIComponent(n[1])}("search")||"";$.get(o).done((function(e){C.data=e,p(),function(e,t,n){window.appEventData&&appEventData.push({name:e,digitalData:{page:{search:{searchTerm:t,searchResultsCount:n}}}})}("Search Results",a,n)})).fail((function(e){}))}function g(e,t,n){window.appEventData&&appEventData.push({name:e,digitalData:{page:{search:{searchFacets:[{facetName:t,facetValue:n}]}}}})}$(window).on("hashchange",(function(e){C.frag=o(),a(),f()})),$(document).ready((function(){function e(e){this.dd=e,this.initEvents()}$(".searchbox").focus((function(){$("#clear").show()})).blur((function(){$("#clear").delay(200).hide(0)})),$(".searchbox").val().length||$(".filterbar").slideUp(),$("#clear").click((function(e){e.preventDefault(),$(".searchbox").val(""),$(".reset").trigger("click")})),e.prototype={initEvents(){this.dd.on("click",(function(e){$(".dropdown_wrapper").removeClass("active"),$(this).toggleClass("active"),e.stopPropagation()}))}},$((function(){new e($("#filterOneTags")),new e($("#filterTwoTags")),new e($("#filterThreeTags")),new e($("#filterFourTags")),new e($("#filterFiveTags")),$(document).click((function(){$(".dropdown_wrapper").removeClass("active")}))}))}))}},function(e,t){function n(e){let t;const n={es:"CERRAR",pt:"FECHAR"};function o(){return n[function(){const e=t.$html.attr("hrefLang");return e?e.split("-")[0]:null}()]}t={$html:$("html"),$closeButton:e.find(".message-close")},null!=o()&&setTimeout((function(){t.$closeButton.text(o())}),100)}$(".rightNav").each((function(){n($(this))}))},function(e,t){const n={};function o(e=[],t,n){if("location"===t)return function(e,t){return e.filter(e=>{let n;if(n="None"!==e.region?`${e.city}, ${e.region}, ${e.country}`:`${e.city}, ${e.country}`,n===t)return e})}(e,n);return e.filter(e=>-1!==e[t].toLowerCase().indexOf(n.toLowerCase()))}function a(e=[],t){n.$jobContainer.html("");const o=e.slice(0,t);!function(e){e&&e.length?n.$mainJobContainer.children().removeClass("empty"):n.$mainJobContainer.children().addClass("empty")}(e),o&&o.forEach((function(e){if(e){const{posturl:t,title:o,category:a,city:s,region:i,country:r}=e;let l;l="None"!==i?`${s}, ${i}, ${r}`:`${s}, ${r}`,n.$jobContainer.append(`<a href="${t}" target="_blank" class="row feature-job">\n              <div class="col flex-box-col-sm-5 flex-box-col-md-10">\n                <h3>${o}, ${a}</h3>\n                <p>${l}</p>\n              </div>\n              <div class="col flex-box-col-sm-1 flex-box-col-md-2 carret-container">\n                <img\n                  src="/content/dam/servicenow-assets/images/unauthorable/icon-carret-right.svg"\n                />\n              </div>\n            </a>`)}}))}function s(e,t,s){let i,r,l=n.featuredJobs;e&&(r="category",i=e,l=o(l,r,i)),t&&(r="location",i=t,l=o(l,r,i)),s&&(r="title",i=s,l=o(l,r,i)),a(l,n.count)}n.$container="",n.$locationContainer="",n.$mobileInput="",n.$desktopInput="",n.featuredJobs=[],n.count=5,$(".component-search-jobs-sr").length&&$((function(){n.$container=$(".component-search-jobs-sr"),n.$locationContainer=n.$container.find("#location-select"),n.$mobileInput=n.$container.find("#search-input-mobile"),n.$desktopInput=n.$container.find("#search-input-all"),n.$jobContainer=n.$container.find(".feature-job-container"),n.$searchContainer=n.$container.find(".search-container"),n.$mainJobContainer=n.$container.find(".main-feature-job-container");const e=n.$container.find(".job-search"),t=n.$container.find(".cta-container .cta-component");let o;o="https://www.servicenow."===window.location.href.substr(0,23)?"https://careers.smartrecruiters.com/ServiceNow":"https://careers.smartrecruiters.com/SBServiceNow";var a;function i(e){return e.val()}function r(e){return e.find(":selected").text()}function l(){const e=i(n.$container.find("#search-input-all"));let t=r(n.$locationContainer);t="Location"===t?"":t,s(null,t,e)}n.getJobsUrl=function(e,t){const n=e.name,o=t.name;let a=0;return n>o?a=1:n<o&&(a=-1),a},a=n.$locationContainer,$.ajax({url:"/content/dam/servicenow-assets/jobvite-data/snowcareers.json",type:"GET",contentType:"application/json",dataType:"JSON",success(e){n.featuredJobs=e.content,e.location_list.sort().forEach((function(e){a.append($("<option>",{value:e,text:e}))}))},error(e){}}),t.on("click",e=>{e.preventDefault(),e.stopPropagation();const t=function(){const e=i(n.$container.find("#search-input-all")),t=r(n.$locationContainer);let o="";return e&&(o+="="+e),t&&"Location"!==t&&""!==e?o+=" "+t:t&&"Location"!==t&&""===e&&(o+="="+t),o=o.replace(/,/g,""),o}(),a=t.length>0?`${o}?search${t}`:""+o;window.open(a,"_blank")}),e.on("click",e=>{l()}),n.$mobileInput.on("keyup paste",(function(){n.$desktopInput.val($(this).val()),13!==event.which&&13!==event.keyCode||l()})),n.$desktopInput.on("keyup paste",(function(){n.$mobileInput.val($(this).val()),13!==event.which&&13!==event.keyCode||l()}))}))},function(e,t){$(".component-questionnaire-overlay").length&&$((function(){!function(){const e=document.querySelector(".component-questionnaire-overlay"),t=document.querySelector(".ucsc-variation-team-sizing .cta-component a"),n=e.querySelector(".close-btn");let o=e.querySelector(".stepperTeamSizing .stepper");const a=e.querySelector(".editResponseTeamSizing");let s;let i=!0;let r={};const l={};let c=!1,d=!1;let u,m=[];t.onclick=e=>{e.preventDefault(),f(),g(),p()},n.onclick=t=>{t.preventDefault(),e.querySelector(".active").classList.add("hide"),e.querySelector(".active").parentElement.style.width="",e.querySelector(".active").classList.remove("active"),f(),s=0,e.querySelectorAll(".question-wrapper").forEach(e=>{e.innerHTML=""}),e.querySelectorAll(".progress-bar").forEach(e=>{e.classList.remove("hide")}),i=!0,r={},d=!1,c=!1},$(e).on("click",".next-btn .cta-component a",(function(e){e.preventDefault(),e.target.closest(".questions")?C(o,!0):y(!0)})),e.querySelectorAll(".next-btn .cta-component a").forEach(e=>{e.addEventListener("click",(function(e){window.appEventData.push({name:"global_click",digitalData:{event:{componentPath:"jcr_root/apps/servicenow-www/components-v2/library/teamSizingOverlayContainer",linkHREF:"#",linkText:"Next Question",questionIndex:null,screen:e.target.closest(".stepper").querySelector("h3").innerHTML||""}},event:e})}))});const p=()=>{e.querySelectorAll(".questions").forEach(e=>{const t=JSON.parse(e.dataset.questions);for(const[e,n]of Object.entries(t))l[e]=n})};$(e).on("click",".previous-btn",(function(e){e.preventDefault(),e.target.closest(".questions")&&!1===i?C(o,!1):(e.target.closest(".questions"),s=0,y(!1))})),$(e).on("click",".responses-edit .submit-btn .cta-component a",(function(t){t.preventDefault();const n=JSON.parse(o.dataset.editConfig).submitPath;$.ajax({url:n,type:"POST",contentType:"application/json",data:JSON.stringify(m),dataType:"json",success(e){v(e)},error(e){}}),y(!0),b(e.querySelector(".response-view")),e.scrollTo({top:0}),e.querySelector(".tab-link").click()})),$(e).on("click",".questions-item .cta-component",(function(t){t.preventDefault();const n=t.target.closest(".questions-item").dataset.stepperId,s=t.target.closest(".questions-item").dataset.questionId;a.style.width="",a.querySelector(".responses-edit").classList.remove("active"),a.querySelector(".responses-edit").classList.add("hide"),o=e.querySelector("#"+n),o.classList.remove("hide"),o.classList.add("active"),o.parentElement.style.width="100%",c=!0;for(const[e,t]of Object.entries(l))t.step==n&&(r[e]=t);i=!0,w(o,r,!0,s)})),$(e).on("click",".go-to-response-cta",(function(t){o.classList.remove("active"),o.classList.add("hide"),o.parentElement.style.width="",o.querySelector(".question-wrapper").innerHTML="",o=e.querySelector(".responses-edit"),a.style.width="100%",a.querySelector(".responses-edit").classList.remove("hide"),a.querySelector(".responses-edit").classList.add("active"),b(a.querySelector(".responses-edit"))})),$(e).on("click",".submit-btn .download-pdf",(function(e){window.print()})),$(e).on("click",".scroll-top-icon",(function(t){e.scrollTo({top:0,behavior:"smooth"})})),e.onscroll=function(){o.classList.contains("report")&&(e.scrollTop>o.querySelector("#estimator").getBoundingClientRect().top+o.querySelector("#estimator").scrollTop?o.querySelector(".scroll-top-btn").classList.remove("hide"):o.querySelector(".scroll-top-btn").classList.add("hide"))},$(e).on("mouseover",".role-info-icon",(function(e){e.target.nextElementSibling.classList.remove("hide"),e.target.querySelector(".role-info-triangle").classList.remove("hide")})),$(e).on("mouseout",".role-info-icon",(function(e){e.target.nextElementSibling.classList.add("hide"),e.target.querySelector(".role-info-triangle").classList.add("hide")}));const f=()=>{e.classList.toggle("hide"),document.querySelector("body").classList.toggle("no-scroll"),o=e.querySelector(".stepperTeamSizing .stepper")},g=()=>{o.classList.remove("hide"),o.classList.add("active"),e.classList.add(o.dataset.bgColor)},h=(e,t)=>{const n=e.querySelector(".progress-bar");let o=0,a=0;let s=Object.keys(t).length;Object.values(t).forEach(e=>{e.conditional&&(e.conditionalAnswer==t[e.conditionalQuestion].userResponse||(s-=1,e.userResponse=[])),0===e.userResponse.length||""===e.userResponse?a+=1:o+=1});const i=Math.round(100/s);Math.round(100/o);if(0===o)n.querySelector(".progress-bar-percentage").style.width=o+"%",n.querySelector(".percentage-text").innerHTML=o+"% completed";else if(o>0){if(o===s)return n.querySelector(".progress-bar-percentage").style.width="100%",void(n.querySelector(".percentage-text").innerHTML="100% completed");n.querySelector(".progress-bar-percentage").style.width=o*i+"%",n.querySelector(".percentage-text").innerHTML=o*i+"% completed"}},v=t=>{let n=0,o=0,a=[];document.querySelectorAll(".role-text").forEach(e=>{t.map(t=>{if(t.roleName==e.innerText){const n=e.parentElement.previousElementSibling;n.innerHTML=`${t.minimum.toFixed(2)} / ${t.maximum.toFixed(2)}`,n.dataset.min=t.minimum,n.dataset.max=t.maximum}})}),document.querySelectorAll(".table-inner-wrapper").forEach(e=>{let t,a;"shared"==e.closest(".table-outer-wrapper").dataset.tableType?(t=0,a=0):(t=parseFloat(e.querySelector(".numbers-text").innerHTML.split("/")[0]),a=parseFloat(e.querySelector(".numbers-text").innerHTML.split("/")[1]));const s=e.querySelectorAll(".numbers-text");s.forEach(e=>{void 0!==e.dataset.min&&(t+=parseFloat(e.dataset.min),a+=parseFloat(e.dataset.max))}),s[s.length-1].innerHTML=`${t.toFixed(2)} / ${a.toFixed(2)}`,n+=t,o+=a});const s=e.querySelector(".table-inner-wrapper");a=[],s.querySelectorAll(".numbers-text").forEach(e=>{a.push(parseFloat(e.innerText.split("/")[1]))}),a.pop(),e.querySelector("#donut-chart").innerHTML="";const i=d3.select("#donut-chart").append("svg").append("g");i.append("g").attr("class","slices"),i.append("text").attr("class","chart-line-1 footnote").attr("y","-36").text("(Min. - Max.)"),i.append("text").attr("class","report-numbers").attr("y","8").text(`${n}-${o}`),i.append("text").attr("class","chart-line-3 medium-body-copy").attr("y","38").text("Dedicated & Shared");const r=Math.min(960,450)/2,l=d3.layout.pie().sort(null).value((function(e){return e.value})),c=d3.svg.arc().outerRadius(.57*r).innerRadius(.48*r);i.attr("transform","translate(480,225)");const d=function(e){return e.data.label},u=d3.scale.ordinal().domain(["one","two","three","four","five","six"]).range(["#E8A679","#DB8F8F","#8686BC","#7AABB9","#81B5A1","#B8D9E2"]);!function(e){const t=i.select(".slices").selectAll("path.slice").data(l(e),d);t.enter().insert("path").style("fill",(function(e){return u(e.data.label)})).attr("class","slice"),t.transition().duration(1e3).attrTween("d",(function(e){this._current=this._current||e;const t=d3.interpolate(this._current,e);return this._current=t(0),function(e){return c(t(e))}})),t.exit().remove()}(function(e){return u.domain().map((function(t,n){return{label:t,value:e[n]}}))}(a))},w=(e,t,n,o)=>{d&&e.querySelector(".progress-bar").classList.add("hide"),Object.entries(t).forEach(([t,n])=>{const o=document.createElement("div");o.setAttribute("data-questionindex",t),o.className=i?"question-item active":"question-item hide",o.innerHTML=`<h3 class="question-copy">${n.question}</h3>\n                                  <span class="question-subcopy small-body-copy">${n.subcopy}</span>\n                                  <div class="question-type"></div>\n                                  <div class="nav-buttons">\n                                    <div class="next-btn">\n                                      <p class="go-to-response-cta hide"><a class="csc-link" data-com-cta="${e.dataset.return}">${e.dataset.return}</a></p>\n                                      <div class="cta-component cta-rectangle-box gable-green-text gable-green-cta csc-cta">\n                                        <a data-com-cta="${e.dataset.nextbuttonlabel}">${e.dataset.nextbuttonlabel}</a>\n                                        <span class="cta-background-full"></span>\n                                      </div>\n                                    </div>\n                                    <span class="previous-btn small-body-copy" data-com-cta="${e.dataset.previousbuttonlabel}"><img class="back-arrow" src="/content/dam/servicenow-assets/public/en-us/images/ucsc/icons/arrow-icon.svg">${e.dataset.previousbuttonlabel}</span>\n                                  </div>`,e.querySelector(".question-wrapper").append(o),c&&o.querySelector(".go-to-response-cta").classList.remove("hide"),S(e,o,n,t),i=!1,""===r[t].userResponse||0===r[t].userResponse.length?o.querySelector(".nav-buttons .next-btn").classList.add("disabled"):o.querySelector(".nav-buttons .next-btn").classList.remove("disabled"),o.querySelector(".nav-buttons .next-btn").addEventListener("click",(function(e){window.appEventData.push({name:"global_click",digitalData:{event:{componentPath:"jcr_root/apps/servicenow-www/components-v2/library/teamSizingOverlayContainer",linkHREF:"#",linkText:"Next Question",questionIndex:t}},event:e})})),o.querySelector(".nav-buttons .previous-btn").addEventListener("click",(function(e){window.appEventData.push({name:"global_click",digitalData:{event:{componentPath:"jcr_root/apps/servicenow-www/components-v2/library/teamSizingOverlayContainer",linkHREF:"#",linkText:"Previous",questionIndex:t}},event:e})}))}),n||(e.querySelector(".question-item").classList.remove("active"),e.querySelector(".question-item").classList.add("hide"),e.querySelector(".question-wrapper").lastElementChild.classList.add("active"),e.querySelector(".question-wrapper").lastElementChild.classList.remove("hide")),h(e,t),o&&(e.querySelector(".question-item.active").classList.add("hide"),e.querySelector(".question-item.active").classList.remove("active"),e.querySelector(`[data-questionindex="${o}"]`).classList.remove("hide"),e.querySelector(`[data-questionindex="${o}"]`).classList.add("active"))},y=t=>{if(o.classList.remove("active"),o.classList.add("hide"),e.classList.remove(o.dataset.bgColor),o.parentElement.style.width="",o=t?o.parentElement.nextElementSibling.firstElementChild:o.parentElement.previousElementSibling.firstElementChild,o.classList.remove("hide"),o.classList.add("active"),o.parentElement.style.width="100%",e.classList.add(o.dataset.bgColor),"question"===o.dataset.type){const e=o.getAttribute("id");for(const[t,n]of Object.entries(l))n.step==e&&(r[t]=n);w(o,r,t)}},b=t=>{const n=t.classList.contains("responses-edit");d=!0,n&&(t.querySelector(".error-message").classList.add("hide"),t.querySelector(".nav-buttons:not(.duplicate-back-button)").classList.remove("show-error"),t.querySelector(".nav-buttons .cta-component").classList.remove("disabled"));const o=t.querySelector(".responses-table");let a;o.innerHTML="",u=JSON.parse(t.getAttribute("data-edit-config"))||u;let s;Object.entries(l).forEach(([i,r])=>{a!==r.step&&(s=document.createElement("div"),s.className="questions-group",s.innerHTML=`<div class="response-table-head">\n                                  <span class="question-step-label medium-body-copy">${e.querySelector("#"+r.step).querySelector(".questions-title").textContent}</span>\n                                  <span class="question-your-response-label medium-body-copy">${u.yourResponseLabel}</span>\n                                </div>`,o.append(s));const c=document.createElement("div");c.className="questions-item",c.setAttribute("data-stepper-id",""+r.step),c.setAttribute("data-question-id",""+i),c.innerHTML=`<div class="questions-text">\n                                  <span class="responses-question-copy medium-body-copy">${r.question}</span>\n                                  <span class="responses-question-error footnote hide">${u.questionErrorMessage}</span>\n                                </div>\n                              <span class="responses-question-response">${((e,t,n)=>{let o="";return"input"===n?o=`<div class="option-item medium-body-copy input">${t.userResponse}</div>`:"options"===n?t.options.forEach(e=>{let n=`<div class="option-item medium-body-copy">${e}</div>`;e===t.userResponse&&(n=`<div class="option-item medium-body-copy selected">${e}</div>`),o+=n}):"facets"===n&&t.options.forEach(t=>{let n=`<div class="option-item medium-body-copy">${t.label}</div>`;l[e].userResponse.indexOf(t.label)>-1&&(n=`<div class="option-item selected medium-body-copy">${t.label}</div>`),void 0===t.label&&(n=`<div class="option-group-label medium-body-copy">${t.groupLabel}</div>`),o+=n}),o})(i,r,r.type)}</span>\n                              <div class="cta-component cta-text-arrow gable-green-text gable-green-cta csc-cta">\n                                <a data-com-cta="${u.editLabel}">${u.editLabel}\n                                  <span class="cta-title-link-arrow"> <svg width="55px" height="14px" viewBox="0 0 24 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                    <defs></defs>\n                                    <g id="svg-group" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n                                      <g id="Secondary-CTA-Dark" transform="translate(-102.000000, -8.000000)" stroke="#81B5A1" stroke-width="2">\n                                        <g transform="translate(0.000000, 5.000000)" id="Page-1">\n                                          <g transform="translate(103.000000, 4.000000)">\n                                            <g class="path-1">\n                                              <path d="M0,5 L31,5" id="Stroke-1"></path>\n                                              <polyline id="polyline-3" points="17 10 22 5 17 0"></polyline>\n                                            </g>\n                                          </g>\n                                        </g>\n                                      </g>\n                                    </g>\n                                  </svg> </span>\n                                </a>\n                                <span class="cta-background-full"></span>\n                              </div>`,n||c.querySelector(".cta-component").remove(),r.conditional&&(l[r.conditionalQuestion].userResponse!==r.conditionalAnswer?c.classList.add("hide"):null!==r.userResponse&&0!==r.userResponse.length||!n||(c.classList.add("error"),c.querySelector(".responses-question-error").classList.remove("hide"),t.querySelector(".error-message").classList.remove("hide"),t.querySelector(".nav-buttons:not(.duplicate-back-button)").classList.add("show-error"),t.querySelector(".nav-buttons .cta-component").classList.add("disabled"))),s.append(c),a=r.step}),m=[],Object.keys(l).map(e=>{const t={};t.questionIndex=parseInt(e),t.answer=l[e].userResponse,"object"==typeof l[e].userResponse&&(t.answer=l[e].userResponse.join("|")),m.push(t)});const i=t.querySelector(".submit-btn a");i&&i.setAttribute("data-com-response",""+JSON.stringify(m))},C=(t,n)=>{let a=o.querySelector(".question-item.active");if(n){if(a.classList.toggle("active"),a.classList.toggle("hide"),a=a.nextSibling,null===a)return t.classList.toggle("active"),t.classList.toggle("hide"),t.parentElement.style.width="",t.querySelector(".question-wrapper").innerHTML="",i=!0,o=t.parentElement.nextElementSibling.firstElementChild,t.parentElement.nextElementSibling.firstElementChild.classList.toggle("active"),t.parentElement.nextElementSibling.firstElementChild.classList.toggle("hide"),t.parentElement.nextElementSibling.style.width="100%",r={},e.classList.add(o.dataset.bgColor),void("responses"===o.dataset.type&&b(o));if(h(t,r),a.classList.toggle("active"),a.classList.toggle("hide"),r[a.dataset.questionindex].conditional){const e=r[a.dataset.questionindex],t=l[r[a.dataset.questionindex].conditionalQuestion].userResponse;e.conditionalAnswer!==t&&a.querySelector(".cta-component a").click()}}else{if(a.classList.toggle("active"),a.classList.toggle("hide"),a=a.previousElementSibling,null===a)return t.classList.toggle("active"),t.classList.toggle("hide"),t.parentElement.style.width="",i=!0,t.querySelector(".question-wrapper").innerHTML="",o=t.parentElement.previousElementSibling.firstElementChild,t.parentElement.previousElementSibling.firstElementChild.classList.toggle("active"),t.parentElement.previousElementSibling.firstElementChild.classList.toggle("hide"),t.parentElement.previousElementSibling.style.width="100%",r={},void e.classList.add(o.dataset.bgColor);if(a.classList.toggle("active"),a.classList.toggle("hide"),r[a.dataset.questionindex].conditional){const e=r[a.dataset.questionindex],t=l[r[a.dataset.questionindex].conditionalQuestion].userResponse;e.conditionalAnswer!==t&&a.querySelector(".previous-btn").click()}h(t,r)}},S=(e,t,n,o)=>{if("input"===n.type){t.querySelector(".question-type").classList.add("input"),t.querySelector(".question-type").innerHTML+="<h5></h5>";const e=document.createElement("input");0===n.userResponse.length?e.className="input-field empty":e.className="input-field",e.placeholder=n.placeholder;const a=document.createElement("span");a.className="input-field-validation footnote hide",a.innerText=n.validationMessage,t.querySelector(".question-type h5").appendChild(e),t.querySelector(".question-type").appendChild(a),e.dataset.oldValue=n.userResponse,e.value=n.userResponse,e.addEventListener("input",(function(s){if(e.dataset.oldValue!=e.value){e.dataset.oldValue=e.value;const s=n.regexValidate;if(!new RegExp(s).test(e.dataset.oldValue))return a.classList.remove("hide"),e.classList.add("error"),void t.querySelector(".nav-buttons .next-btn").classList.add("disabled");a.classList.add("hide"),e.classList.remove("error"),e.classList.remove("empty"),t.querySelector(".nav-buttons .next-btn").classList.remove("disabled"),n.userResponse=e.dataset.oldValue,l[o]=n}}))}if("options"===n.type){t.querySelector(".question-type").classList.add("options");let e=0;n.options.forEach((function(a){const s=document.createElement("div");s.className="option-element",s.innerHTML=`<input class="option-input" type="radio" id="Q${o}-option-${e}" value="${a}" name="options-Q${o}">\n                                     <label class="option-label medium-body-copy" for="Q${o}-option-${e}" name="options-Q${o}">${a}</label>`,t.querySelector(".question-type").appendChild(s),n.userResponse==a&&(s.querySelector(".option-input").checked=!0,t.querySelector(".nav-buttons .next-btn").classList.remove("disabled")),s.querySelector(".option-input").addEventListener("change",(function(e){n.userResponse=e.target.value,t.querySelector(".nav-buttons .next-btn").classList.remove("disabled"),l[o]=n})),e+=1}))}if("facets"===n.type){t.querySelector(".question-type").classList.add("facets");let e=0;const a=n.options,s=n.userResponse;a.forEach((function(a){const i=document.createElement("div");i.className="facet-element",a.groupLabel?i.innerHTML=`<h4 class="facet-group-label">${a.groupLabel}</h4>`:(i.innerHTML=`<input class="facet-input" data-com-facet-label=${a.label.replace(/\s+/g,"-")} type="checkbox" id="Q${o}-facet-${e}" value="${a.label}" name="facets">\n                                      <div class="facet-label"  data-com-facet-label=${a.label.replace(/\s+/g,"-")}>\n                                      <label class="facet-label-text large-body-copy" for="Q${o}-facet-${e}">${a.label}</label>\n                                      <a target="_blank" data-com-linkout=${a.label.replace(/\s+/g,"-")} class="link-out hide"></a>\n                                      </div>\n                                      <span class="facet-box"></span>`,i.querySelector(".facet-input").addEventListener("change",(function(e){e.target.checked?(s.push(e.target.value),t.querySelector(".nav-buttons .next-btn").classList.remove("disabled")):(s.splice(s.indexOf(e.target.value),1),0===s.length&&t.querySelector(".nav-buttons .next-btn").classList.add("disabled")),e.target.parentElement.lastElementChild.classList.toggle("active"),n.userResponse=s,l[o]=n})),a.link&&(i.querySelector(".link-out").setAttribute("href",a.link),i.querySelector(".link-out").classList.remove("hide")),e+=1),t.querySelector(".question-type").appendChild(i),s.indexOf(a.label)>-1&&(i.querySelector(".facet-input").checked=!0,i.lastElementChild.classList.toggle("active"))}))}}}()}))},function(e,t){$(".component-solution-planner").length&&$((function(){!function(){const e=document.getElementsByClassName("component-solution-planner")[0],t=e.getElementsByClassName("solution-planner-clear-form")[0],n=e.getElementsByClassName("solution-planner-row"),o=e.getElementsByClassName("workflow-label"),a=e.getElementsByClassName("cta-component")[0],s=e.dataset.json,i=document.getElementsByClassName("solution-planner-overlay")[0],r=i.getElementsByClassName("cta-component")[0],l=i.getElementsByClassName("solution-planner-overlay-close")[0],c=i.getElementsByClassName("focus-area-overlay-container")[0],d=c.getElementsByTagName("ul")[0],u=c.getElementsByClassName("workflow-problem-option"),m=i.getElementsByClassName("problem-statement-overlay-container")[0],p=m.getElementsByTagName("div")[0],f=e.dataset.workflow,g=e.dataset.problem,h=e.dataset.outcomes,v=document.getElementsByName("solution-workflow"),w=JSON.parse(sessionStorage.getItem("savedSolutionPlannerData")),y=$(e).data("pdf-servlet"),b=$(e).data("pdf-pagepath"),C=$(e).data("pdf-companycookie"),S=e.dataset.checkmark;let x=[],k=[];const E=$(".add-solution-button"),I=document.createElement("img");function F(e){$("body").addClass("modal-open"),$("body").css("overflow","hidden"),r.classList.add("disabled");let t=this||e;this!=window&&null!==this||(t=e);const n=t.parentElement.getElementsByTagName("input")[0].value,o=t.parentElement.parentElement.getElementsByTagName("input")[0].value,a=$(t).closest(".solution-planner-column").index(),s=[];switch(t.classList.add("selected-workflow"),i.classList.add("active-overlay"),a){case 0:i.classList.add("focus-area-overlay");const e=JSON.parse(sessionStorage.getItem("workflow-items"));for(let t=0;t<x.length;t++)for(let n=0;n<e.length;n++){const o=e[n].Number;x[t]==o&&e.splice(n,1)}for(let t=0;t<u.length;t++)for(let n=0;n<e.length;n++){const o=e[n]["Focus area"];u[t].getElementsByTagName("input")[0].value==o&&u[t].classList.add("show-option")}break;case 1:i.classList.add("problem-statement-overlay");document.getElementsByClassName("problem-statement-overlay-container")[0];const t=JSON.parse(sessionStorage.getItem("workflow-items"));for(let e=0;e<t.length;e++)-1!=t[e]["Focus area"].indexOf(o)&&s.push(t[e]);const n=new Set;for(let e=0;e<s.length;e++)""!=s[e]["Problem category"]&&n.add(s[e]["Problem category"]);const a=[...n];for(let e=0;e<a.length;e++){(d=document.createElement("h5")).textContent=a[e];var l=document.createElement("ul");for(let t=0;t<s.length;t++)if(s[t]["Problem category"]==a[e]){const e=s[t]["Problem statement"];var c=s[t].Number;(f=document.createElement("li")).className="workflow-problem-option",(g=document.createElement("div")).className="workflow-problem-option-button",(h=document.createElement("input")).name="workflow-problem-option",h.type="radio",h.value=c,h.textContent=e,(v=document.createElement("label")).textContent=e,f.appendChild(h),f.appendChild(g),f.appendChild(v),l.appendChild(f)}p.appendChild(d),p.appendChild(l)}var d;(d=document.createElement("h5")).classList.add("empty-title");l=document.createElement("ul");for(let e=0;e<s.length;e++)if(""==s[e]["Problem category"]){const t=s[e]["Problem statement"];var f,g,h,v;c=s[e].Number;(f=document.createElement("li")).className="workflow-problem-option",(g=document.createElement("div")).className="workflow-problem-option-button",(h=document.createElement("input")).name="workflow-problem-option",h.type="radio",h.value=c,h.textContent=t,(v=document.createElement("label")).textContent=t,f.appendChild(h),f.appendChild(g),f.appendChild(v),l.appendChild(f)}p.appendChild(d),p.appendChild(l)}if(t.classList.contains("filled")){const e=$("input[name=workflow-problem-option]");Array.from(e).forEach((function(e){e.value==n&&(e.checked=!0,e.parentElement.classList.add("selected-option"),e.parentElement.classList.add("show-option"))})),r.classList.remove("disabled")}const w=m.getElementsByClassName("workflow-problem-option");for(let e=0;e<w.length;e++){const t=w[e],n=t.getElementsByTagName("input")[0].value;for(let e=0;e<x.length;e++)e%2==0||x[e]!=n||t.classList.contains("selected-option")||t.classList.add("removed-option")}const y=document.getElementsByClassName("removed-option");for(;y[0];)y[0].parentNode.removeChild(y[0]);const b=m.getElementsByTagName("ul");for(let e=0;e<b.length;e++)0==b[e].childElementCount&&"H5"==b[e].previousSibling.tagName&&(b[e].previousElementSibling.remove(),b[e].remove())}function U(){const e=$("input[name=workflow-problem-option]");i.classList.remove("active-overlay"),i.classList.remove("focus-area-overlay"),i.classList.remove("problem-statement-overlay"),$(u).removeClass("show-option"),$("body").removeClass("modal-open"),$("body").css("overflow","auto"),$(".workflow-problem-option").removeClass("selected-option"),p.innerHTML="",$(".workflow-label").removeClass("selected-workflow"),Array.from(e).forEach((function(e){e.checked=!1}))}function L(){for(var e=0;e<o.length;e++)o[e].classList.remove("active"),o[e].classList.remove("filled"),o[e].classList.add("inactive"),$(o[e]).siblings("input").val(""),o[e].textContent=e%2==0?f:g,o[0].classList.remove("inactive"),o[0].classList.add("active");for(e=0;e<n.length;e++)n[e].getElementsByClassName("solution-planner-column")[2].getElementsByTagName("div")[0].innerHTML=`<p class='empty-state'>${h}</p>`;for(e=0;e<n.length;e++)n[e].classList.remove("complete-solution"),n[e].classList.remove("visible-workflow"),n[e].classList.remove("next-workflow"),n[e].getElementsByClassName("solution-planner-column")[2].classList.remove("visible-outcome");a.classList.add("disabled"),a.parentElement.classList.add("disabled-cta-section"),t.classList.add("disabled"),sessionStorage.removeItem("savedSolutionPlannerData"),x=[]}I.setAttribute("src",S),$.ajax({dataType:"json",url:s,success(e){sessionStorage.setItem("workflow-items",JSON.stringify(e));const s=JSON.parse(sessionStorage.getItem("workflow-items")),i=[],r=[];for(let e=0;e<s.length;e++)if(-1==$.inArray(s[e]["Focus area"],r)){const t={"Focus area":s[e]["Focus area"],"Focus area description":s[e]["Focus area description"]};r.push(s[e]["Focus area"]),i.push(t)}for(var l=0;l<i.length;l++){var c=i[l]["Focus area"];const e=i[l]["Focus area description"],t=i[l]["Focus area"];(m=document.createElement("li")).className="workflow-problem-option";const n=document.createElement("input");n.name="workflow-problem-option",n.type="radio",n.value=t,n.textContent=c;const o=document.createElement("div");o.className="workflow-problem-option-button";const a=document.createElement("h5");a.classList.add="medium-body-copy",a.textContent=c,(u=document.createElement("p")).textContent=e,m.appendChild(n),m.appendChild(o),m.appendChild(a),m.appendChild(u),d.appendChild(m)}if(w){const e=w;L();for(l=0;l<w.length;l++)if(null!=w[l]&&""!=w[l])if(v[l].value=w[l],o[l].classList.remove("active"),o[l].classList.remove("inactive"),o[l].classList.add("filled"),l<o.length-1&&(o[l+1].classList.remove("inactive"),o[l+1].classList.add("active")),l%2==0)for(let e=0;e<i.length;e++){const t=o[l].parentElement.parentElement;-1!=i[e]["Focus area"].indexOf(w[l])&&(o[l].textContent=i[e]["Focus area"]),t.classList.add("visible-workflow")}else{for(let e=0;e<s.length;e++)if(s[e].Number==w[l]){const t=s[e]["Solution Planner Outcomes"].split("|"),n=o[l].parentElement.parentElement,a=n.getElementsByClassName("solution-planner-column")[2].getElementsByTagName("div")[0];var u;a.innerHTML="",n.classList.add("complete-solution"),n.classList.add("visible-workflow"),setTimeout((function(){a.parentElement.classList.add("visible-outcome")}),250),o[l].textContent=s[e]["Problem statement"],(u=document.createElement("p")).classList.add("small-body-copy"),u.textContent=s[e]["Strategic business driver"];const i=document.createElement("ul");for(let e=0;e<t.length;e++){c=t[e];var m=document.createElement("li");const n=I.cloneNode(!0);m.className="workflow-outcome-option",m.textContent=c,m.appendChild(n),i.appendChild(m)}a.appendChild(u),a.appendChild(i)}a.classList.remove("disabled"),a.parentElement.classList.remove("disabled-cta-section"),t.classList.remove("disabled")}for(l=0;l<n.length;l++)0!=l&&n[l].classList.contains("visible-workflow")&&n[l-1].classList.add("next-workflow");sessionStorage.setItem("savedSolutionPlannerData",JSON.stringify(e)),x=e}else L();sessionStorage.setItem("pdfServletPath",JSON.stringify(y)),sessionStorage.setItem("pdfTemplatePath",JSON.stringify(b)),sessionStorage.setItem("pdfCompanyCookie",JSON.stringify(C))},error(){}}),$(i).on("click","li.workflow-problem-option",(function(){const e=this.getElementsByTagName("input")[0];$(".workflow-problem-option").removeClass("selected-option"),e.checked=!0,this.classList.add("selected-option"),r.classList.remove("disabled")}));for(let e=0;e<o.length;e++)o[e].addEventListener("click",F,!1),o[e].addEventListener("keyup",(function(t){13===t.keyCode&&(o[e].classList.contains("active")||o[e].classList.contains("filled"))&&F(o[e])}));function T(){const e=$(this).parent(".solution-planner-row");e.next().addClass("visible-workflow"),e.addClass("next-workflow")}a.addEventListener("keyup",(function(e){if(13===e.keyCode&&!a.classList.contains("disabled")){const e=a.getElementsByTagName("a")[0].href;window.location.href=e}}));for(let e=0;e<E.length;e++)E[e].addEventListener("click",T,!1);deleteCookie(C),r.addEventListener("click",(function(){const n=document.getElementsByClassName("selected-workflow")[0],o=n.parentElement.getElementsByTagName("input")[0],s=n.parentElement.parentElement,r=(s.getElementsByClassName("solution-planner-column")[0].getElementsByClassName("workflow-label")[0],s.getElementsByClassName("solution-planner-column")[1]),l=r.getElementsByClassName("workflow-label")[0],c=s.getElementsByClassName("solution-planner-column")[2],d=c.getElementsByTagName("div")[0],u=$(".workflow-problem-option input:checked"),m=$(".workflow-problem-option input:checked").val(),p=$(u).parent().find("input").text();if(o.value==m)return U(),!1;const f=JSON.parse(sessionStorage.getItem("workflow-items"));if(o.value=m,n.textContent=p,n.classList.remove("active"),n.classList.add("filled"),d.innerHTML="",$(".workflow-label.active").addClass("inactive"),$(".workflow-label.active").removeClass("active"),i.classList.contains("focus-area-overlay"))s.classList.remove("complete-solution"),s.classList.remove("next-workflow"),s.classList.add("visible-workflow"),$(s).prev().addClass("next-workflow"),l.classList.remove("filled"),l.classList.remove("inactive"),l.classList.add("active"),l.textContent=g,r.getElementsByTagName("input")[0].value=null,d.innerHTML=`<p class='empty-state'>${h}</p>`;else if(i.classList.contains("problem-statement-overlay")){const e=m-1,t=f[e]["Solution Planner Outcomes"].split("|"),n=document.createElement("p");n.classList.add("small-body-copy"),n.textContent=f[e]["Strategic business driver"];const o=document.createElement("ul");for(let e=0;e<t.length;e++){const n=t[e],a=document.createElement("li"),s=I.cloneNode(!0);a.className="workflow-outcome-option",a.textContent=n,a.appendChild(s),o.appendChild(a)}d.appendChild(n),d.appendChild(o),c.classList.remove("visible-outcome"),s.classList.add("complete-solution"),setTimeout((function(){c.classList.add("visible-outcome")}),250)}if(e.getElementsByClassName("inactive").length>0){const t=e.getElementsByClassName("inactive")[0];$(t).removeClass("inactive"),$(t).addClass("active")}e.getElementsByClassName("active").length>1&&(e.getElementsByClassName("active")[1].classList.add("inactive"),e.getElementsByClassName("active")[1].classList.remove("active")),$(".solution-planner-row.complete-solution").length>0?(a.classList.remove("disabled"),a.parentElement.classList.remove("disabled-cta-section"),t.classList.remove("disabled")):(a.classList.add("disabled"),a.parentElement.classList.add("disabled-cta-section")),n.classList.remove("selected-workflow"),U(),x=[];for(let e=0;e<v.length;e++)x.push(v[e].value);k=[];for(let e=0;e<v.length;e++)e%2!=0&&null!=v[e].value&&"null"!=v[e].value&&""!=v[e].value&&k.push(f[v[e].value-1]);sessionStorage.setItem("universalFormSPData",JSON.stringify(k)),sessionStorage.setItem("savedSolutionPlannerData",JSON.stringify(x))}),!1),l.addEventListener("click",U,!1),t.addEventListener("click",L,!1)}()}))},function(e,t){function n(){const e=document.querySelector(".cea-overlay-container"),t=ContextHub.getStore("servicenow-sso"),n=t.getItem("okta_id");function o(e,t){let n;for(const o in t)e.includes(`{${o}}`)&&(n=e.replaceAll(`{${o}}`,t[o]));return n}function a(e,t){return stringArray=e.split(t),newString=`${stringArray[0]}${t}<br> ${stringArray[1]}`,newString}function s(e,t){return e.length>=t&&`(${e.substring(0,t)}...)`}const i=JSON.parse(e.querySelector(".cea-overlay-data").getAttribute("data-cea-deployment-config")),r=function(){const e=t.getItem("application_name"),o=t.getItem("implementation_status");if(!n||!e||!o)return!1;const a=["virtual agent for itsm","predictive intelligence for itsm","performance analytics for service management"],s=["active implementation","implementation contracted","implementation scheduled","implemented","no known implementation"],i=e.split(", "),r=o.split(", "),l={criticalApps:{"virtual agent for itsm":!1,"predictive intelligence for itsm":!1,"performance analytics for service management":!1},counters:{implementationStatus:{noKnownImplementation:0,otherImplementation:0},otherStatus:0}};for(let e=0;e<i.length;e++)null!==i[e]&&void 0!==i[e]&&"null"!==i[e]&&(null!==r[e]&&void 0!==r[e]&&"null"!==r[e]?a.includes(i[e].toLowerCase())&&(l.criticalApps[i[e].toLowerCase()]||(l.criticalApps[i[e].toLowerCase()]=!0,s.includes(r[e].toLowerCase())?r[e].toLowerCase()==="no known implementation".toLowerCase()?l.counters.implementationStatus.noKnownImplementation++:l.counters.implementationStatus.otherImplementation++:l.counters.otherStatus++)):l.counters.otherStatus++);return l.counters.implementationStatus.noKnownImplementation===a.length?"Message A":l.counters.implementationStatus.otherImplementation>=1&&l.counters.implementationStatus.otherImplementation<a.length&&"Message B"}();r&&function(e,n){let i;document.querySelector(".cscCeaOverlay").querySelector("#overlay_outer_background").classList.add("cea-overlay-outer-background"),$((function(){initUtils().customEvent.create("champions:openOverlay",document).dispatch({title:"Custom Overlay Title",content:"",buttonText:"Close",linkBtnText:"Cancel Me",hideLinkBtnText:!0,addClass:"component-cea-overlay",addTracking:"now-creators-milestone-overlay"}),i=document.querySelector(".component-champions-overlay.component-cea-overlay"),null!==i&&(function(e){const t=e.querySelector(".overlay-content-wrapper"),n=e.querySelector(".overlay-text-content");t.classList.contains("flex-box-col-md-10")&&(t.classList.remove("flex-box-col-md-10"),t.classList.add("flex-box-col-md-12")),t.classList.contains("flex-box-col-lg-10")&&(t.classList.remove("flex-box-col-lg-10"),t.classList.add("flex-box-col-lg-11")),t.classList.contains("flex-box-col-xlg-10")&&(t.classList.remove("flex-box-col-xlg-10"),t.classList.add("flex-box-col-xlg-8")),n.classList.contains("flex-box-col-md-10")&&(n.classList.remove("flex-box-col-md-10"),n.classList.add("flex-box-col-md-12"))}(i),function(e,n,i){const r=document.querySelector(".overlay-content-inner-wrapper"),l=r.querySelector(".overlay-cta.case-a"),c=r.querySelector(".overlay-cta.case-b"),d=r.querySelectorAll(".cta-rectangle-box"),u=r.querySelectorAll(".cta-text-arrow"),m=e.querySelector(".overlay-text-content"),p=m.querySelector(".overlay-title"),f=m.querySelector(".overlay-body-copy");let g=t.getItem("fName");d.forEach((function(e){e.classList.add("flex-box-col-md-4","flex-box-col-lg-5","flex-box-col-xlg-5"),e.querySelector("a").classList.add("close-overlay-btn","footnote"),e.querySelector("a").setAttribute("id","close_overlay_btn"),e.classList.contains("csc-cta")&&e.classList.remove("csc-cta")})),u.forEach((function(e){e.classList.add("flex-box-col-md-4","flex-box-col-lg-5","flex-box-col-xlg-5"),e.querySelector("a").classList.add("cancel-btn","footnote"),e.classList.remove("csc-cta"),e.classList.contains("csc-cta")&&e.classList.remove("csc-cta")}));const h=document.querySelector(".overlay-content-inner-wrapper").querySelector(".toRemove");null!==h&&h.remove(),null!==g&&""!==g?s(g,20)&&(g=s(g,20)):g="","Message A"===i?(headlineString=a(n.headline.caseA,"{first_name}!"),p.innerHTML=""+o(headlineString,{first_name:g}),f.innerText=n.bodycopy.caseA,l.classList.contains("disabled")&&l.classList.remove("disabled")):"Message B"===i&&(headlineString=a(n.headline.caseB,"{first_name}!"),p.innerHTML=""+o(headlineString,{first_name:g}),f.innerText=n.bodycopy.caseB,c.classList.contains("disabled")&&c.classList.remove("disabled"))}(i,e,n))}))}(i,r)}$(".cea-overlay-container").length&&("undefined"!=typeof Granite&&void 0!==Granite.author||$((function(){const e=ContextHub.getStore("servicenow-sso");null!==e.getItem("okta_id")&&document.querySelector(".cscCeaOverlay .component-champions-overlay").classList.contains("disable")&&"true"!==sessionStorage.getItem("ceaUpgradeMessageClose")&&n(),e.eventing.on(ContextHub.Constants.EVENT_DATA_UPDATE,(function(){null!==e.getItem("okta_id")&&document.querySelector(".cscCeaOverlay .component-champions-overlay").classList.contains("disable")&&("true"!==sessionStorage.getItem("ceaUpgradeMessageClose")?n():e.eventing.off(ContextHub.Constants.EVENT_DATA_UPDATE,"initceaoverlay"))}),"initceaoverlay")})))},function(e,t){},function(e,t){let n="",o={};const a=JSON.parse(sessionStorage.getItem("knowledgeCongratulations")),s=function(){const e={};return["knowledgeFirstName","knowledgeProgram","knowledgeAttendeeType"].forEach(t=>{const n=(o=t,a&&a[o]);var o;e[t]=n||""}),e}();let i="",r="",l="",c="",d="",u="",m="",p=0,f=0,g=0,h=0,v=0,w=0,y=0,b=0,C=0,S=0,x=0,k=0,E=0,I=0;function F(){return{CONSTANTS:{event_api:{validateUser:n+"/api/auth/v1/validateuser",login:n+"/api/auth/v1/login",rfRegistration:"/bin/servicenow/rf/register",eventRegistrationDetailsServlet:"/bin/servicenow/v1/events/regDetail",createAccount:n+"/api/myaccount/v1/registration",updateProfile:"/bin/servicenow/user/v3/updateprofile",headers:{clientId:"www"},body:{formId:"form-login-www-k21-v2"}},navigation:{rightPartialSection:".universalForm .UF-container-50.right-side .inner-view ",emailErrorSection:".UF-container-overlay-load:first .inner-view"},elements:{secondaryEmail:'[type="text"][name="secondaryEmail"]'},redirection:{baseAuthorizeUrl:`${r}${l}`,clientId:""+c,rainFocusRedirectUrl:""+d,rainFocusState:""+u,rainFocusNewState:""+m}},stringToJson:e=>"string"==typeof e?JSON.parse(e):e,jsonToString:e=>"string"!=typeof e?JSON.stringify(e):e}}function U(e){e.indexOf("servicenow")>-1&&(s.knowledgeAttendeeType="employee")}function L(){return`&email_click_counter=${g}&first_name_click_counter=${h}&last_name_click_counter=${v}&phone_click_counter=${w}&company_click_counter=${y}&country_click_counter=${b}&state_click_counter=${C}&job_title_click_counter=${S}&password_click_counter=${x}&tc_click_counter=${k}`}function T(){$(".section-component-universal-form").hasClass("secondary-event-variation")?sendData("NW - User Leaves"):sendData("K21 - User Leaves")}function _(e,t){return"&metric="+(e-t)}function A(){m=function(){const e=new URL(window.location.href),{searchParams:t}=e;let n="";t.get("state")&&(n=t.get("state"));return n}()}function O(){const e=$(".server-error");e.length&&e.addClass("show")}function N(){const e=$(".server-error");e.length&&e.removeClass("show")}function R(e,t,n){"validateUser"===n?function(e,t){const n=e.find('#email[name="username"]').length>0?e.find('#email[name="username"]'):e.find('#email[name="email"]').length>0?e.find('#email[name="email"]'):"",o=e.find("[data-event-name]").length>0?e.find("[data-event-name]").data().eventName:"knowledge2021",a=e.find("[data-event-cname]").length>0?e.find("[data-event-cname]").data().eventCname:"knowledge2021",i=n.val().trim(),r=e.hasClass("secondary-event-variation");N(),$.ajax({url:F().CONSTANTS.event_api.validateUser,contentType:"application/x-www-form-urlencoded",crossDomain:!0,type:"POST",headers:{clientId:F().CONSTANTS.event_api.headers.clientId},data:{username:i,formId:F().CONSTANTS.event_api.body.formId,event:o,eventCName:a,locale:getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang"))},success(o){t.removeClass("verifying-user-email");if(e.find(".UF-user-check-btn a").removeClass("disabled"),"500"===o.statusCode)return void O();if("400"===o.statusCode&&o.subStatusCodes&&o.subStatusCodes.includes("INVALID_FIELD")&&o.validationErrors){const t=o.validationErrors;let a=0;if(t.forEach(e=>{e.fieldName&&"username"===e.fieldName&&e.constraintCode&&"INVALID_EMAIL"===e.constraintCode&&(a+=1)}),a>0)return void UFValidator(e).UFinsertErrorMessage(n,UFConst().ERRORMESSAGES.emailNotValid)}const a={USER_PROFILE_DOES_NOT_EXIST:()=>{sessionStorage.setItem("userName",i),sessionStorage.setItem("registrationType","NEWUSER"),G(e)},LOCKED_OUT:()=>{o.responseString="userAccountLockedOut",M(e,i,o)},STAGED:()=>{o.responseString="userAccountStaged",M(e,i,o)},PASSWORD_EXPIRED:()=>{o.responseString="userAccountPasswordExpired",M(e,i,o)},UNVALIDATED_USER_RECORD:()=>{M(e,i,o,!0)},LOGIN_VIEW:()=>{sessionStorage.setItem("userName",i);const n=o.subStatusCodes,a=t.find(".UF-login-btn a");if(n&&n.length){const o=n.includes("EVENT_PROFILE_INCOMPLETE"),s=n.includes("EVENT_REG_INCOMPLETE"),i=!(!1!==o||!1!==s);if(sessionStorage.setItem("emailValidationSubStatusCode",n.join(",")),r||i||o){const e=t.find(".terms-and-conditions-login"),n=e.find("input[name='t_c']");n.attr("name","t_c_ignore"),n.removeClass("UF-validate"),e.addClass("ignore")}if(o)a.text("Continue");else if(i){a.text("Sign In");const t=e.find(".login-title");t.text("Welcome Back!"),t.attr("data-com-title","Welcome Back!"),a.attr("data-com-cta","Welcome Back!");e.find(".login-description").addClass("hide")}if(s){const t=e.find(".login-title");t.text("Welcome Back!"),t.attr("data-com-title","Welcome Back!")}}e.addClass("login-view")}};if(a[o.errorCode])a[o.errorCode](),r?sendData("NW - Next Step"):sendData("K21 - Next Step");else{const t=o.data;$.isEmptyObject(t)||(s.knowledgeFirstName=t.firstName?t.firstName:"",s.knowledgeAttendeeType=t.attendeeType?t.attendeeType:"",s.knowledgeProgram=t.program?t.program:"",sessionStorage.setItem("knowledgeCongratulations",JSON.stringify(s)));if(window.seamlessOnEventFormPage&&!window.eventInvitationEmail){window.seamlessOnEventFormPage=null;const e=o.subStatusCodes;if(e&&e.length){const t=e.includes("EVENT_REG_INCOMPLETE"),n=e.includes("OK");if(t&&!n){const e=new URL(window.location.href),t=e.searchParams;t.set("rfStatus","PROFILE_SKIPPED"),e.search=t.toString();const n=e.toString();window.removeEventListener("beforeunload",T),window.location.href=n}else if(n){let e="";e=m?F().CONSTANTS.redirection.rainFocusNewState:F().CONSTANTS.redirection.rainFocusState,window.removeEventListener("beforeunload",T),window.location.href=`${F().CONSTANTS.redirection.baseAuthorizeUrl}?client_id=${F().CONSTANTS.redirection.clientId}&response_type=code&response_mode=query&scope=openid&redirect_uri=${F().CONSTANTS.redirection.rainFocusRedirectUrl}&state=${e}`}}}else if("200"===o.statusCode){const t=e.find(".UF-error-msg");UFValidator(e).UFremoveSubmitErrorMessage(t),a.LOGIN_VIEW(),r?sendData("NW - Next Step"):sendData("K21 - Next Step")}}},error(n){e.find(".UF-user-check-btn a").removeClass("disabled"),t.removeClass("verifying-user-email")}})}(e,t):"login"===n?V(e,t,!1):"registerUser"===n?function(e,t){const n=e.find(".UF-error-msg"),a=t.find(F().CONSTANTS.elements.secondaryEmail);UFGeneral(e).ufClearContextHub(),UFValidator(e).UFremoveSubmitErrorMessage(n);const s=UFValidator(e).UFValidateForm(t),i=!(a.length>0)||UFValidator(e).InitSecondaryMailField(t).validate();if(s&&i){const a=e.hasClass("secondary-event-variation");UFGeneral(e).showSpinner(t),p=new Date;const s=t[0].password.value;t[0].eventTC="true";const i=e.find("[data-event-name]").length>0?e.find("[data-event-name]").data().eventName:"knowledge2021";t[0].eventId=i;const r=t[0].classList.length?t[0].classList[0]:"",l=t[0].jobTitle.value,c=t[0].company.value,d=L(),u=`&form_name=${r}&job_title=${l}&company=${c}${d}`,m=$("#pageurl").val(),g=t[0].secondaryEmail?t[0].secondaryEmail.value:"";let h,v,w,y;t[0].optin&&(w=t[0].optin.value),t[0].analyticsPageurl&&(y=t[0].analyticsPageurl.value);const b=$("#eloquaIpAddress").val(),C=e.find(".inner-view").data("register-email-validation-path");let S={mcid:UFConst().MCID,password:s,region:t[0].region.value,optInFlag:w,termCondUrl:h,privacyUrl:v,eloquaIpAddress:b,pageurl:m,registration:!0,currentPagePath:m,createAccountSourcePage:window.location.pathname,validateEmailPath:C,secondaryEmail:g,analyticsPageurl:y,universalFormPath:t[0].universalFormPath.value,eVar93:t[0].eVar93.value,eVar94:t[0].eVar94.value,eloquaRefererUrl:t[0].eloquaRefererUrl.value};S.jobTitle=t[0].jobTitle?t[0].jobTitle.value:"",S.eventTC=t[0].eventTC,S.eventId=t[0].eventId?t[0].eventId:"",S.language=t[0].language?t[0].language.value:"en-us",S.locale=S.language?z(S.language):getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang")),t[0].sponsorEmailOptIn&&t[0].sponsorEmailOptIn.length?S.sponsorEmailOptIn=t.find("input[name='sponsorEmailOptIn']:checked").val():S.sponsorEmailOptIn="na";const x=$.isEmptyObject(o)?"":o,k=JSON.stringify(x);S.daso=k,S=function(e,t){return["jobLevel","jobFunction","country","t_c","email","firstname","lastname","company","businessPhone","jobRole","state"].forEach((function(n){if(e[n]&&$(e[n]).length)switch(n){case"jobLevel":case"jobFunction":const o=n.toLowerCase();t[o]=e[n].value;break;case"country":t.countryCode=e[n].value;break;case"t_c":t.termCondFlag=e[n].checked;break;case"email":t.userId=e.email.value,t.userName=e.email.value;case"firstname":case"lastname":case"company":case"businessPhone":case"jobRole":case"state":t[n]=e[n].value}})),t}(t[0],S);const E=F().CONSTANTS.event_api.createAccount,I={contentType:"application/x-www-form-urlencoded",clientId:"www",formId:a?"form-registration-naw21-v1":"form-registration-knowledge21-v1"};a?sendData("NW - Form Submission",u):sendData("K21 - Form Submission",u),N(),$.ajax({url:E,type:"POST",headers:I,data:S,success(n){if(n){J(n).errorCode||(UFGeneral(e).deminateUFCookieAndContextHub(!0),sessionStorage.setItem("userName",t[0].email.value),sessionStorage.setItem("no_no",s),sessionStorage.setItem("language",S.language||"en-us"),sessionStorage.setItem("sponsorEmailOptIn",S.sponsorEmailOptIn||"na"),"undefined"!=typeof _satellite&&_satellite.track("SSORegistration"),function(e,t){R(e,t,"registrationAutoLogin")}(e,t))}},error(o){let s={};s=o&&o.responseJSON?J(o.responseJSON):J(o);const i=Granite.I18n.get("missingRequestParams"),r=Granite.I18n.get("accountCreationFailed"),l={"07.01.02.409":i,"07.02.02.409":i,"07.06.02.409":i,"07.07.02.409":i,"07.08.02.409":i,"07.99.02.409":i,"07.98.01.410":Granite.I18n.get("missingHeaderParams"),"07.02.02.414":Granite.I18n.get("lengthTooLongChangePass"),"04.03.01.403":Granite.I18n.get("User already exists"),"04.03.01.415":Granite.I18n.get("Please satisfy password requirements"),"04.03.01.499":r,"04.01.01.501":r,"04.01.01.502":r,"03.02.01.509":r};if(403===o.status&&"string"==typeof o.responseText&&/Error Reference Code|Reference&#/.test(o.responseText)){!function(e,t){const o=UFConst().ERRORMESSAGES.wafErrorAtRegistration;UFValidator(e).UFinsertSubmitErrorMessage(n,o),UFGeneral(e).hideSpinner(t),f=new Date;const a=_(f,p);e.hasClass("secondary-event-variation")?sendData("NW - Spinner Finished",a):sendData("K21 - Spinner Finished",a)}(e,t),UFGeneral(e).hideSpinner(t),f=new Date;const o=_(f,p);a?sendData("NW - Spinner Finished",o):sendData("K21 - Spinner Finished",o)}else if("04.03.01.509"==s.code){O(),UFGeneral(e).hideSpinner(t),f=new Date;const n=_(f,p);a?sendData("NW - Spinner Finished",n):sendData("K21 - Spinner Finished",n)}else(o=>{UFValidator(e).UFinsertSubmitErrorMessage(n,o),UFGeneral(e).hideSpinner(t),f=new Date;const s=_(f,p);a?sendData("NW - Spinner Finished",s):sendData("K21 - Spinner Finished",s)})(l[s.code]||r);const c=L();a?sendData("NW - Form Failed",c):sendData("K21 - Form Failed",c)}})}}(e,t):"registrationAutoLogin"===n?function(e,t){V(e,t,!0)}(e,t):"registerDetailServlet"===n&&function(e,t){const n=sessionStorage.getItem("userName"),o={eventId:e.find("[data-event-name]").length>0?e.find("[data-event-name]").data().eventName:"knowledge2021",userName:n},a=t.find(".UF-user-register-btn a");N();const i=e.find(".UF-error-msg");UFValidator(e).UFremoveSubmitErrorMessage(i),function(e,t,n,o){$.ajax({url:F().CONSTANTS.event_api.eventRegistrationDetailsServlet,type:"GET",contentType:"application/json",data:e,success(e){n(e)},error(e){o(e)}})}(o,0,(function(e){if(!$.isEmptyObject(e)){if(400===e.statusCode&&"BAD_REQUEST"===e.errorCode||404===e.statusCode&&"USER_NOT_FOUND_IN_WEB_DB"===e.errorCode)return void O();const t=e.knowledge2021;t.length>0&&(s.knowledgeProgram=t[0].program?t[0].program:"",s.knowledgeAttendeeType=t[0].attendee_type?t[0].attendee_type:s.knowledgeAttendeeType,sessionStorage.setItem("knowledgeCongratulations",JSON.stringify(s)))}a.length>0&&a.removeClass("disabled")}),(function(e){O()}))}(e,t)}function q(e,t){const n=UFGeneral(t).getUFCHValue("servicenow-sso","optinChecked");let o;o=n&&"yes"==n.toLowerCase()?$(e[0].optin).parent().parent().find("input[value=Yes]"):n&&"no"==n.toLowerCase()?$(e[0].optin).parent().parent().find("input[value=No]"):null,function(e){e&&$(e).prop("checked",!0)}(o)}function P(e,t){t?!function(e,t){return e.find("option").map((function(){return $(this).val()})).get().includes(t)}(e,t)?e.find("option").eq(0).prop("selected",!0):e.val(t).trigger("change"):e.find("option").eq(0).prop("selected",!0)}function H(e,t){const n=e.find(".inner-view").find(".mp-email-field"),o=t.find('[name="email"]'),a=UFGeneral(e).getUFCHValue("servicenow-sso","myEmail"),s=e.hasClass("secondary-event-variation");t[0].email.length>1?t[0].email[1].value=a:t[0].email.value=a,n.text(a),o.val(a),t[0].firstname.length>1?t[0].firstname[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","fName"):t[0].firstname.value=UFGeneral(e).getUFCHValue("servicenow-sso","fName"),t[0].lastname.length>1?t[0].lastname[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","LName"):t[0].lastname.value=UFGeneral(e).getUFCHValue("servicenow-sso","LName"),t[0].secondaryEmail&&(t[0].secondaryEmail.length>1?t[0].secondaryEmail[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","secondaryEmail"):t[0].secondaryEmail.value=UFGeneral(e).getUFCHValue("servicenow-sso","secondaryEmail"));const i=UFGeneral(e).getUFCHValue("servicenow-sso","company"),r=-1!==a.indexOf("servicenow.com");t[0].company.length>1?r?(t[0].company[1].value=i||"ServiceNow",$(t[0].company[1]).prop("disabled",!0)):t[0].company[1].value=i:r?(t[0].company.value=i||"ServiceNow",$(t[0].company).prop("disabled",!0)):t[0].company.value=i,t[0].businessPhone.length>1?t[0].businessPhone[1].value=UFGeneral(e).getUFCHValue("servicenow-sso","businessPhone"):t[0].businessPhone.value=UFGeneral(e).getUFCHValue("servicenow-sso","businessPhone");let l="";const c=UFGeneral(e).getUFCHValue("servicenow-sso","jobTitle"),d=UFGeneral(e).getUFCHValue("servicenow-sso","jobTitleSs");c?l=c:d&&(l=d),t[0].jobTitle.length>1?t[0].jobTitle[1].value=l:t[0].jobTitle.value=l;UFGeneral(e).getUFCHValue("servicenow-sso","termsCondChecked");const u={countrySs:UFGeneral(e).getUFCHValue("servicenow-sso","country"),stateSs:UFGeneral(e).getUFCHValue("servicenow-sso","state")};UFGeneral(e).hideSpinner(t),f=new Date;const m=_(f,p);s?sendData("NW - Spinner Finished",m):sendData("K21 - Spinner Finished",m),setTimeout((function(){!function(e,t,n){const o=t.find("select[name=country]"),a=t.find("select[name=state]");P(o,e.countrySs),P(a,e.stateSs),q(t,n)}(u,t,e)}),3500)}function G(e){const t=""+e.find(".inner-view").attr("data-K21-register-redirect-page-path"),n=F().CONSTANTS.navigation.rightPartialSection,o=e.find(".inner-view form");UFGeneral(e).showSpinner(o),UFRouter(e).navigateTo(`${t} ${n}`,t,!0)}function D(e){const t=e.find("form.login"),n=t.find('#email input[name="username"]'),o=!n.hasClass("UF-email-validation")||UFValidator(t).UFcheckInputEmail(t,n),a=e.find(".UF-user-check-btn a");""===n.val()&&n.hasClass("UF-validate")?UFValidator(t).UFcheckRequiredField(n):o&&(a.addClass("disabled"),t.addClass("verifying-user-email"),R(e,t,"validateUser"))}function M(e,t,n,o=!1){const a=F().CONSTANTS.navigation.emailErrorSection;if(n.subStatusCodes&&sessionStorage.setItem("emailValidationSubStatusCode",n.subStatusCodes.join(",")),sessionStorage.setItem("emailToValidate",t),!o){const e=n.responseString;sessionStorage.setItem("emailValidationState",e),sessionStorage.setItem("emailValidationStateErrorCode",n.errorCode)}sessionStorage.setItem("forgotPasswordPath",UFGeneral(e).getSecondaryCtaPath());const s=UFGeneral(e).getEmailValidationPath();UFRouter(e).navigateTo(`${s} ${a}`,s,!0)}function V(e,t,n){const a=e.hasClass("secondary-event-variation"),i=n?e.find('#email[name="email"]').val():e.find('#email[name="username"]').val(),r=e.find("#password[name='password']").val(),l=e.find(".UF-login-btn a"),c=e.find('input[name="t_c"]'),d=!(!c||!c.is(":checked")),u=a?function(){const e=sessionStorage.getItem("emailValidationSubStatusCode");let t="p=0|rf=0";if(e){const n=e.split(",");n.includes("OK")?t="p=1|rf=1":1===n.length&&n.includes("EVENT_REG_INCOMPLETE")&&(t="p=0|rf=0")}return t}():function(){const e=sessionStorage.getItem("emailValidationSubStatusCode");let t="p=0|rf=0";if(e){const n=e.split(",");n.includes("OK")?t="p=1|rf=1":1===n.length&&n.includes("EVENT_REG_INCOMPLETE")&&(t="p=1|rf=0")}return t}();o=$.isEmptyObject(o)?"":o;const g=JSON.stringify(o),h=t.find('input[name="firstname"]'),v=e.find("[data-event-name]").length>0?e.find("[data-event-name]").data().eventName:"knowledge2021",w=e.find("[data-event-cname]").length>0?e.find("[data-event-cname]").data().eventCname:"knowledge2021";N();const y={formId:a?"form-login-www-naw21-v1":F().CONSTANTS.event_api.body.formId,username:i,password:r,state:u,daso:g,event:v,eventCName:w};y.locale=getCorrectHrefLang(document.querySelector("html").getAttribute("hreflang")),y.language=y.locale&&y.locale.includes("ko")&&!n?"ko":sessionStorage.getItem("language")||"en-us",y.sponsorEmailOptIn=sessionStorage.getItem("sponsorEmailOptIn")||"na",sessionStorage.removeItem("language"),sessionStorage.removeItem("sponsorEmailOptIn"),n?(y.fid=1,y.state="p=1|rf=0"):y.t_c=d;const b=m||"";$.ajax({url:F().CONSTANTS.event_api.login,contentType:"application/x-www-form-urlencoded",crossDomain:!0,type:"POST",headers:{clientId:F().CONSTANTS.event_api.headers.clientId,rfState:b},data:y,success(o){UFGeneral(e).hideSpinner(t),f=new Date;const r=_(f,p);if(a?sendData("NW - Spinner Finished",r):sendData("K21 - Spinner Finished",r),l.removeClass("disabled"),o.errorCode&&"INVALID_CREDENTIALS"===o.errorCode)!function(e,t){const n=e.find(".UF-error-msg"),o=UFConst().ERRORMESSAGES.invalidCredentialTryAgain;UFValidator(e).UFinsertSubmitErrorMessage(n,o)}(e);else if("500"===o.statusCode)l.addClass("disabled"),O();else if("200"===o.statusCode){const t=e.find(".UF-error-msg");UFValidator(e).UFremoveSubmitErrorMessage(t),U(i);let a=o.redirectPath;if(-1!==window.location.href.indexOf("localhost")){const e=a.split("&"),t=e[5].replace(/https:\/\/knowledge.webdev.servicenow.com/g,"http://localhost:4503");e[5]=t;a=e.join("&")}if(window.removeEventListener("beforeunload",T),n){sessionStorage.setItem("k21IsAutoLogin","true");const e=h.length>0?h.val():"";s.knowledgeFirstName=e,sessionStorage.setItem("knowledgeCongratulations",JSON.stringify(s)),window.location.href=a}else sessionStorage.removeItem("k21IsAutoLogin"),window.location.href=a}},error(n){UFGeneral(e).hideSpinner(t),l.removeClass("disabled"),O(),f=new Date;const o=_(f,p),s=`&email_click_counter=${I}&password_click_counter=${E}`;a?(sendData("NW - Spinner Finished",o),sendData("NW - Form Failed",s)):(sendData("K21 - Spinner Finished",o),sendData("K21 - Form Failed",s))}})}function j(e){const t=e.find(".inner-view form").first(),n=UFValidator(e).UFValidateForm(t),o=e.find(".UF-login-btn a");n&&(o.addClass("disabled"),UFGeneral(e).showSpinner(t),p=new Date,R(e,t,"login"))}function B(e){return e?e.indexOf("http")>-1?e:window.location.origin+e:""}function W(e,t){const n=e.find(".UF-error-msg"),a=UFGeneral(e).getUFIpAddress(),i=window.location.href,r=B(t.find("#termCondPath").val()),l=B(t.find("#privacyUrl").val()),c=t[0].secondaryEmail?t[0].secondaryEmail.value:"";let d="";t[0].optin&&(d=t[0].optin.value);const u=t[0].classList.length?t[0].classList[0]:"",m=t[0].jobTitle.value,g=t[0].company.value,h=`&form_name=${u}&job_title=${m}&company=${g}${L()}`,v=e.hasClass("secondary-event-variation");v?sendData("NW - Form Submission",h):sendData("K21 - Form Submission",h),N();const w={userId:t[0].email.value,userName:t[0].email.value,firstname:t[0].firstname.value,lastname:t[0].lastname.value,email:t[0].email.value,secondaryEmail:c,company:g,businessPhone:t[0].businessPhone.value,jobTitle:m,joblevel:"",jobRole:"",countryCode:t[0].country.value,region:t[0].region.value,jobfunction:"",state:t[0].state.value,termCondFlag:t[0].t_c.checked,optInFlag:d,termCondUrl:r,privacyUrl:l,updateOkta:"true",emailValidated:UFGeneral(e).getUFCHValue("servicenow-sso","emailValidated"),pageurl:i,currentPagePath:i,updateprofile:!0,eloquaIpAddress:a,eVar93:t[0].eVar93.value,eVar94:t[0].eVar94.value,language:t[0].language?t[0].language.value:"en-us",locale:t[0].language?z(t[0].language):document.querySelector("html").getAttribute("hreflang")};t[0].sponsorEmailOptIn&&t[0].sponsorEmailOptIn.length?w.sponsorEmailOptIn=t.find("input[name='sponsorEmailOptIn']:checked").val():w.sponsorEmailOptIn="na";const y=new Date,b=("0"+y.getDate()).slice(-2),C=("0"+(y.getMonth()+1)).slice(-2),S=`${y.getFullYear()}-${C}-${b} ${y.getHours()<10?"0"+y.getHours():y.getHours()}:${y.getMinutes()<10?"0"+y.getMinutes():y.getMinutes()}:${y.getSeconds()<10?"0"+y.getSeconds():y.getSeconds()}.${y.getMilliseconds()}`;s.knowledgeFirstName=t[0].firstname.value?t[0].firstname.value:"",sessionStorage.setItem("knowledgeCongratulations",JSON.stringify(s));const x={contentType:"application/x-www-form-urlencoded",clientId:"www",formId:v?"form-updateprofile-naw21-v1":"form-updateprofile-knowledge21-v1"};$.ajax({url:F().CONSTANTS.event_api.updateProfile,type:"POST",headers:x,data:w,success(a){if(a){if(J(a).errorCode){const o=a.responseString;UFValidator(e).UFinsertSubmitErrorMessage(n,Granite.I18n.get(o)),UFGeneral(e).hideSpinner(t),f=new Date;const s=_(f,p);v?sendData("NW - Spinner Finished",s):sendData("K21 - Spinner Finished",s)}else UFGeneral(e).setUFCHValue("servicenow-sso","emailValidated",a.emailValidated),UFGeneral(e).populateUFServiceNowSsoCH(w),function(e,t,n){const a=new URL(window.location.href.toLowerCase());let s=e.find("[data-event-name]").length>0?e.find("[data-event-name]").data().eventName:"knowledge2021",i=e.find("[data-event-cname]").length>0?e.find("[data-event-cname]").data().eventCname:"knowledge2021";const r=e.hasClass("secondary-event-variation");if(N(),a.search.length){const{searchParams:e}=a,t=["eventId","eventCName"];e&&t.forEach(t=>{const n=t.toLowerCase(),o=e.get(n);o&&("eventid"===n?s=o:"eventcname"===n&&(i=o))})}const l={eventId:s,email:t[0].email.value,eventCName:i,packageCode:"DigitalPackage",tcDateTime:n,language:t[0].language?t[0].language.value:"en-us",locale:t[0].language?z(t[0].language):document.querySelector("html").getAttribute("hreflang")};if(t[0].sponsorEmailOptIn&&t[0].sponsorEmailOptIn.length?l.sponsorEmailOptIn=t.find("input[name='sponsorEmailOptIn']:checked").val():l.sponsorEmailOptIn="na",o=$.isEmptyObject(o)?"":o,""!==o){const e=JSON.stringify(o);l.daso=e}$.ajax({url:F().CONSTANTS.event_api.rfRegistration,type:"POST",data:l,success(n){UFGeneral(e).hideSpinner(t),f=new Date;const o=_(f,p);if(r?sendData("NW - Spinner Finished",o):sendData("K21 - Spinner Finished",o),window.removeEventListener("beforeunload",T),r){const t=e.find(".inner-view").data("events-congratulations-page-path");window.location.href=t}else window.location.href="/registration/congratulations.html"},error(n){const o=L();r?sendData("NW - Form Failed",o):sendData("K21 - Form Failed",o),UFGeneral(e).hideSpinner(t),f=new Date;const a=_(f,p);r?sendData("NW - Spinner Finished",a):sendData("K21 - Spinner Finished",a),O()}})}(e,t,S)}},error(o){const a=L();v?sendData("NW - Form Failed",a):sendData("K21 - Form Failed",a),UFGeneral(e).hideSpinner(t),f=new Date;const s=_(f,p);v?sendData("NW - Spinner Finished",s):sendData("K21 - Spinner Finished",s);let i={};i=o&&o.responseJSON?J(o.responseJSON):J(o);const r=Granite.I18n.get("missingRequestParams"),l={"07.98.01.410":Granite.I18n.get("missingHeaderParams"),"07.01.02.409":r,"07.99.02.409":r};var c;l[i.code]?(c=l[i.code],UFValidator(e).UFinsertSubmitErrorMessage(n,c)):O()}})}function J(e){let t=e.errorCode;const n=e.status;if(!t&&0!==n&&!n)return e;let o={},a="",s="",i="",r="",l="";if(0===n||501===n?t="ERR_04.01.01.501":502===n&&(t="ERR_04.01.01.502"),t&&t.includes("ERR")){a=t.split("_")[1];const e=a.split(".");s=e[0],i=e[1],r=e[2],l=e[3],o={code:a,part1:s,part2:i,part3:r,part4:l}}return o}function z(e){return{en:"en-US","en-us":"en-US","en-gb":"en-GB",ja:"ja-JP",ko:"ko-KR"}[e]}function K(e,t){const n=eventKGetRFStateUrl();if(t)return n;if(n&&"PROFILE_SKIPPED"===n){const t=e.find(".inner-view");UFGeneral(e).showSpinner(t),p=new Date,G(e)}}function Y(e,t){const n=eventKGetRFStateUrl();return t||n&&"ERROR"===n&&e.addClass("rf-error-view"),n}window.eventKGetRFStateUrl=function(){const e=new URL(window.location.href),{searchParams:t}=e;return t.get("rfStatus")},window.initEventRegistrationFlow=function(e){e.find(".inner-view.create-account");UFGeneral(e).setCreatAccountIpAddress();const t=e.find(".UF-user-register-btn a"),n=e.find(".inner-view form"),o=e.find(".inner-view"),a=n.find('input[name="t_c"]');n.on("click",e=>{const t=e.target,n=t.id,o=t.name;switch(!0){case"email"===n:g+=1;break;case"firstname"===n:h+=1;break;case"lastname"===n:v+=1;break;case"businessPhone"===n:w+=1;break;case"company"===n:y+=1;break;case"jobTitle"===n:S+=1;break;case"password"===n:x+=1;break;case"country"===o:b+=1;break;case"state"===o:C+=1}}),a.on("change",()=>k+=1),UFGeneral(e).hideSpinner(n);e.hasClass("secondary-event-variation")&&function(e,t){const n=e.find("[data-event-name]").length>0?e.find("[data-event-name]").data().eventName:"knowledge2021",o=Granite.I18n.get("eventAmericas"),a=Granite.I18n.get("eventAsiapacific"),s=Granite.I18n.get("eventEmea"),i=Granite.I18n.get("eventJapan"),r=t.find('[name="language"]');if(r.length>0){if($(`<span fb-translation="true" class="UF-floating-label">${Granite.I18n.get("preferredLanguagePlaceHolder")}</span>`).insertAfter(r),r.attr("placeholder",""),n===o&&r.append('<option value="en-us">English</option>'),n===a){const e=document.querySelector("html");(e.getAttribute("hreflang")||e.getAttribute("lang")).includes("ko")?(r.append('<option value="ko">한국어</option>'),r.append('<option value="en-gb">English (UK)</option>')):(r.append('<option value="en-gb">English (UK)</option>'),r.append('<option value="ko">한국어</option>'))}n===s&&r.append('<option value="en-gb">English (UK)</option>'),n===i&&r.append('<option value="ja">日本語</option>')}}(e,n);const s=eventKGetRFStateUrl();if(o.hasClass("k21-profile-skipped")&&o.removeClass("k21-profile-skipped"),"PROFILE_SKIPPED"==s&&UFGeneral(e).getUFCHValue("servicenow-sso","userLoaded")){!function(e){const t=e.find(".login-title.text-download-page");t.text("Complete account"),t.attr("data-com-title","Complete account")}(e);const o=UFGeneral(e).getUFCHValue("servicenow-sso","myEmail")||UFGeneral(e).getUFCHValue("servicenow-sso","email");!function(e,t,n){UFGeneral(e).showSpinner(n),p=new Date;const o=n.find('[name="email"]');o&&o.length>0&&o.prop("disabled",!0),e.find("#password[name='password']").parent("li").remove(),"true"===sessionStorage.getItem("knowledgeCHCompleted")?H(e,n):UFGeneral(e).generalServices.getUFContextHubServletData(t,(function(){t&&H(e,n)}))}(e,o,n),U(o),t.on("click tap",t=>{t.preventDefault();const o=e.find(".UF-error-msg");UFValidator(e).UFremoveSubmitErrorMessage(o);UFValidator(e).UFValidateForm(n)&&(UFGeneral(e).showSpinner(n),p=new Date,W(e,n))})}else{const o=e.find('[name="email"]'),a=sessionStorage.getItem("userName");a&&o.length>0&&o.val(a);const s=n.find(".UF-user-register-btn a");s.length>0&&s.addClass("disabled"),R(e,n,"registerDetailServlet"),t.on("click tap",t=>{t.preventDefault(),R(e,n,"registerUser")})}},window.initEventKnowledge=function(e){const t="true"===e.find(".universal-form-wrapper").attr("data-event-k-automatic-email-validation");if(window.initEventKnowledgeCalled)return window.seamlessOnEventFormPage&&!t?void(window.k21AlreadyValidated||(D(e),window.k21AlreadyValidated=!0)):void 0;const o=e.find(".UF-user-check-btn a"),a=e.find(".UF-login-btn a"),s=e.find("#email[name='username']"),m=e.find("#password[name='password']"),p=(e.find(".inner-view"),e.find(".UF-rf-error-btn a")),f=e.find(".login-title"),g=e.find(".homepage-link"),h=e.find(".UF-secondary-cta");e.find(".inner-view form").first();if(i=f.text(),function(){const e=$("#webapiurl");n=e.length?e.val():n}(),function(){const e=$("#oktaSessionBaseUrl");r=e.length?e.val():r}(),function(){const e=$("#oktaAuthorizeApiUrl");l=e.length?e.val():l}(),function(e){const t=e.find(".universal-form-wrapper"),n=t?t.attr("data-event-k-client-id"):"";c=n}(e),function(e){const t=e.find(".universal-form-wrapper"),n=t?t.attr("data-event-k-rf-redirect-url"):"";d=n}(e),function(e){const t=e.find(".universal-form-wrapper"),n=t?t.attr("data-event-k-rf-state"):"";u=n}(e),A(),o.on("click tap",t=>{t.preventDefault();const n=e.find(".UF-error-msg");UFValidator(e).UFremoveSubmitErrorMessage(n),D(e)}),s.on("keyup",t=>{if(13!==t.which||e.hasClass("login-view")||o.hasClass("disabled")){if(e.hasClass("login-view")&&13!==t.which){if(sessionStorage.getItem("userName")!==s.val()){const t=e.find(".UF-error-msg"),n=e.find("#password[name='password']"),o=e.find(".terms-and-conditions-login"),a=o.find(".checkbox"),s=e.find(".login-title"),r=e.find(".login-description");s.text(i),r.removeClass("hide"),a.addClass("UF-validate"),a.attr("name","t_c"),UFValidator(e).UFremoveSubmitErrorMessage(t),UFValidator(e).UFremoveErrorMessage(a),UFValidator(e).UFremoveErrorMessage(n),e.removeClass("login-view"),o.removeClass("ignore"),n.val("")}}}else D(e)}),g.on("click tap",(function(){window.location.href=UFGeneral(e).getFallbackRedirectURL(e)})),a.on("click tap",t=>{t.preventDefault(),j(e)}),s.on("click",()=>I+=1),m.on("click",()=>E+=1),m.on("keyup",t=>13===t.which&&!a.hasClass("disabled")&&j(e)),p.on("click tap",t=>{t.preventDefault(),e.removeClass("rf-error-view")}),h.on("click",t=>{const n=encodeURIComponent(t.currentTarget.dataset.secondaryCtaPath)||"",o=e.hasClass("secondary-event-variation"),a=`&cta=${t.target.innerText}&destination_url=${n}`;o?sendData("NW - Click Tracking",a):sendData("K21 - Click Tracking",a)}),e.on("click",t=>{const{target:n}=t;let o=encodeURIComponent(window.location.href),a="",s="";const i=e.hasClass("secondary-event-variation");n.classList.contains("UF-send-verification-email")?(s=n.innerText,a=`&cta=${s}&destination_url=${o}`,i?sendData("NW - Click Tracking",a):sendData("K21 - Click Tracking",a)):n.hasAttribute("data-com-cta")&&(n.href&&"javascript:void(null)"!==n.href&&(o=encodeURIComponent(n.href)),s=n.getAttribute("data-com-cta"),a=`&cta=${s}&destination_url=${o}`,i?sendData("NW - Click Tracking",a):sendData("K21 - Click Tracking",a))}),window.seamlessOnEventFormPage&&!t)return D(e),window.initEventKnowledgeCalled=!0,void(window.k21AlreadyValidated=!0);window.initEventKnowledgeCalled=!0},window.addEventListener("load",(function(){const e=$(".section-component-universal-form.event-variation"),t=$(".section-component-universal-form.secondary-event-variation");(e.length||t.length)&&(!function(){const e=new URL(window.location.href.toLowerCase()),{searchParams:t}=e;["CAMPID","CNAME","CMCID","CMPID","CID","GCLID","DCLID","partner","CMRID","CMAID","referenceSource"].forEach(e=>{const n=e.toLowerCase(),a=t.get(n),s={gclid:{cookie:"googleclickid"},cid:{cookie:"googlecampaignid"}};if(a)o[e]=a;else if("gclid"===n||"cid"===n){const t=s[n].cookie,a=getCookie(t);a&&(o[e]=a)}else if(getCookie(e)){const t=getCookie(e);o[e]=t}})}(),e.length?initEventKnowledge(e):initEventKnowledge(t),sendData("Page Load"))})),window.addEventListener("beforeunload",T),window.addEventListener("DOMContentLoaded",(function(){const e=$(".section-component-universal-form.event-variation"),t=$(".section-component-universal-form.secondary-event-variation");document.addEventListener("event:profileSkip",()=>e.length?K(e,!1):K(t,!1)),e.length?Y(e):t.length&&Y(t)}))},function(e,t){$(".component-csc-meganav-container").length&&$((function(){!function(){const e=document.querySelector(".component-csc-meganav-container"),t=($(window),e.querySelector(".csc-meganav-search")),n=e.querySelector(".login-link"),o=e.querySelector(".csc-meganav-toggle"),a=e.querySelector(".close-btn"),s=e.querySelector("#back"),i=$(e).data("logout-text"),r=e.dataset.iconLocked,l=e.dataset.iconUnlocked,c=e.dataset.iconNew,d=e.querySelector(".csc-meganav-menu-login"),u=e.querySelector(".csc-meganav-menu-login-menu"),m=e.querySelector(".csc-meganav-lower-deck"),p=m.querySelectorAll("a"),f=e.querySelectorAll(".nav-link"),g=e.querySelectorAll(".nav-dropdown-col"),h=e.querySelectorAll(".nav-dropdown"),v=e.querySelectorAll(".nav-dropdown-item"),w=(e.querySelectorAll('.nav-dropdown[data-columns="3"]'),"localhost"===window.location.hostname),y={activeClass:null,mainLevelElementId:null,groupLevelElementId:null};let b,C;let S,x,k,E;const I=[];let F,U,L=0,T=null;const _=$(".nav-main-links-wrapper"),A=$(".upper-level-nav"),O=$(".left-scroll-arrow"),N=$(".right-scroll-arrow"),R={visibleWidth:_[0].clientWidth,totalWidth:_[0].scrollWidth},q={lastOffset:0,lastDisplacement:0,displacementsList:[]},P=navigator.maxTouchPoints>0;function H(e,t){null==window.appEventData?I.push({data:"nav:csc:"+e,event:"Top Nav Click"},t):window.appEventData.push({data:"nav:csc:"+e,event:"Top Nav Click"},t)}const G=e.querySelector(".manage-profile-link"),D=e.querySelector(".csc-meganav-logo a");function M(t){if(L<1024){t.target.classList.contains("csc-meganav-search-icon")&&e.classList.contains("search-open")?B():j()}}function V(e){!t.contains(e.target)&&B()}function j(){$(t).removeClass("closed-search"),e.classList.add("search-open"),document.addEventListener("click",V,!1),X()}function B(){e.classList.remove("search-open"),$(t).addClass("closed-search"),document.removeEventListener("click",V,!1),$(".csc-search-field").val(""),$("#searchSuggestion").hide(),ee()}function W(t){e.classList.contains("meganav-open")?(e.classList.remove("meganav-open"),ee()):(e.classList.add("meganav-open"),X())}function J(t){e.classList.contains("signed-in")&&(x=setTimeout((function(){$(e).addClass("login-open"),H("my account",t)}),300))}function z(){clearTimeout(x)}function K(){x=setTimeout((function(){$(e).removeClass("login-open")}),300)}function Y(){clearTimeout(x)}function X(){L<1024&&(document.getElementsByTagName("body")[0].classList.add("modal-open"),document.getElementsByTagName("body")[0].style.overflow="hidden"),f.forEach(e=>{if(!te(e)||C)return(t=e).classList.contains("gated")&&t.classList.remove("gated"),"0"===e.dataset.dropdownColumns?e.addEventListener("click",Q,!1):"1"===e.dataset.dropdownColumns?e.addEventListener("click",ye,!1):e.addEventListener("click",ve,!1);var t;oe(e)}),g.forEach(e=>{e.addEventListener("click",we,!1)})}function Q(e){e.stopPropagation();const t=e.currentTarget;let n;if(t.classList.contains("nav-dropdown-item")){n=t.querySelector(".nav-dropdown-item-link");const o=n.closest(".nav-link"),a=JSON.parse(n.closest(".nav-dropdown-item").dataset.iconLock),s=n.closest(".nav-dropdown-col").querySelector(".nav-dropdown-group-name");H(null!=s?a?`${o.querySelector(".nav-link-text").innerText}:${s.innerText}:${n.innerText}:unLocked`:`${o.querySelector(".nav-link-text").innerText}:${s.innerText}:${n.innerText}`:a?`${o.querySelector(".nav-link-text").innerText}:${n.innerText}:unLocked`:`${o.querySelector(".nav-link-text").innerText}:${n.innerText}`,e)}else n=t.querySelector(".nav-link-text"),JSON.parse(n.closest(".nav-link").dataset.gated)?H(n.text+":unLocked",e):H(n.text,e);const o=n.target||"_self";return window.open(n.href,o),L<1024?ee():(f.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),h.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}))}function Z(){f.forEach(e=>{if(!te(e)||C)return"0"===e.dataset.dropdownColumns?e.addEventListener("click",Q,!1):"1"===e.dataset.dropdownColumns?e.removeEventListener("click",ye,!1):e.removeEventListener("click",ve,!1)}),g.forEach(e=>{e.removeEventListener("click",we,!1)})}function ee(t){document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementsByTagName("body")[0].style.overflow="",e.classList.remove("meganav-open"),e.classList.remove("search-open"),e.classList.remove("login-open"),function(){const e=m.querySelector(".links-active"),t=m.querySelector(".groups-active");e&&e.classList.remove("links-active"),t&&t.classList.remove("groups-active"),e&&!y.groupLevelElementId&&(e.closest(".nav-dropdown").style.display="none")}(),Z(),s.style.display="none",y.activeClass=null,y.mainLevelElementId=null,y.groupLevelElementId=null}function te(e){return"true"===e.dataset.gated}function ne(e){P?(P&&L<1024||e.addEventListener("mouseenter",ae,!1),e.addEventListener("touchstart",ae,!1)):e.addEventListener("mouseenter",ae,!1)}function oe(e){return e.classList.add("gated"),e.querySelector("span > a ").addEventListener("click",e=>{e.preventDefault()}),ne(e),!0}function ae(e){if("touchstart"===e.type&&U.classList.contains("show-tooltip")){if(U.classList.remove("show-tooltip"),T.removeEventListener("touchstart",ie,!1),null!=T&&this.id==T.id)return;T=null}const t=this;let n;n=L>767&&L<1024?t.classList.contains("nav-dropdown-item")?t.offsetWidth:t.querySelector(".nav-link-text").clientWidth-parseInt(window.getComputedStyle(document.querySelector(".nav-link-text")).paddingRight):$(t).outerWidth();const o=$(t).offset().top,a=$(t).offset().left,s=$(U).outerHeight(),i=a+(n-$(U).outerWidth())/2;if(t.classList.contains("nav-link"))U.style.top=o-s-5+"px",H(this.querySelector(".nav-link-text").innerText+":Locked",e);else{U.style.top=o-s-5-14+"px";const t=this.closest(".nav-link"),n=this.closest(".nav-dropdown-col").querySelector(".nav-dropdown-group-name");H(null!=n?`${t.querySelector(".nav-link-text").innerText}:${n.innerText}:${this.querySelector(".nav-dropdown-item-text").innerText}:Locked`:`${t.querySelector(".nav-link-text").innerText}:${this.querySelector(".nav-dropdown-item-text").innerText}:Locked`,e)}U.classList.add("show-tooltip"),"touchstart"===e.type?(document.addEventListener("touchstart",se,!1),t.addEventListener("touchstart",ie,!1),T=t):(U.addEventListener("mouseenter",e=>{U.classList.add("show-tooltip")},!1),U.addEventListener("mouseleave",ie,!1),t.addEventListener("mouseleave",ie,!1)),document.addEventListener("scroll",ie,!1),window.addEventListener("resize",ie,!1),U.style.left=L<768?"":i+"px"}function se(e){U.classList.contains("show-tooltip")&&(e.target.parentElement.classList.contains("gated")||e.target.classList.contains("csc-meganav-tooltip-container")||null!=e.target.closest(".nav-dropdown-item")||ie(e))}function ie(e){U.classList.remove("show-tooltip"),"touchstart"===e.type&&(T.removeEventListener("touchstart",ie,!1),T=null),document.removeEventListener("touchstart",se,!1),document.removeEventListener("scroll",ie,!1),window.removeEventListener("resize",ie,!1)}function re(){L=window.innerWidth;document.documentElement.clientWidth;L<1024?(o.addEventListener("click",W,!1),a.addEventListener("click",ee,!1),d.removeEventListener("mouseover",J,!1),d.removeEventListener("mouseout",z,!1),u.removeEventListener("mouseout",K,!1),u.removeEventListener("mouseover",Y,!1),f.forEach(e=>{te(e)&&!C||(e.removeEventListener("click",me,!1),e.removeEventListener("mouseenter",me,!1),e.removeEventListener("mouseleave",pe,!1))})):(ee(),o.removeEventListener("click",W,!1),a.removeEventListener("click",ee,!1),d.addEventListener("mouseover",J,!1),d.addEventListener("mouseout",z,!1),u.addEventListener("mouseout",K,!1),u.addEventListener("mouseover",Y,!1),Z(),f.forEach(e=>{!te(e)||C?(e.addEventListener("click",me,!1),e.addEventListener("mouseenter",me,!1),e.addEventListener("mouseleave",pe,!1)):oe(e)}),function(){0===_.scrollLeft()&&A.removeClass("last-nav-link-padding");R.visibleWidth=_[0].clientWidth,R.totalWidth=_[0].scrollWidth,0===_.scrollLeft()&&(O.css("display","none"),A.addClass("last-nav-link-padding"));if(R.totalWidth>R.visibleWidth)return A.addClass("last-nav-link-padding"),!A.hasClass("scroll")&&A.addClass("scroll"),ge(Array.from(f),!0),!0;A.hasClass("scroll")&&A.removeClass("scroll")}())}function le(e){!function(e){e.target===E||e.target===F||e.target.closest(".nav-link.active")||e.target.closest(".nav-dropdown.active")||(ce(),k=setTimeout(()=>{E.classList.remove("active"),F.classList.remove("active")},300))}(e)}function ce(){document.removeEventListener("mousemove",le)}function de(e){clearTimeout(k),clearTimeout(void 0),ce(),f.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),h.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),E.classList.add("active"),F.classList.add("active"),function(e){let t;const n=e.target,o=n.querySelector(".nav-dropdown"),a=n.dataset.dropdownColumns,s=document.documentElement.clientWidth;if("0"===a||!o)return;if("3"===a)return void(o.style.left="0rem");const i=n.getBoundingClientRect().left,r=o.getBoundingClientRect().width;let l=40;L>1700&&(l=(s-1620)/2);const c=s-r-l;t=i>c?c-l:i-l,o.style.left=t+"px"}(e),document.addEventListener("mousemove",le),document.addEventListener("click",le)}function ue(e){E=e.target.closest(".nav-link"),function(e){for(let t=0;t<e.childNodes.length;t++)if(void 0!==e.childNodes[t].classList&&e.childNodes[t].classList.contains("nav-dropdown"))return F=e.childNodes[t],!0}(E)&&(JSON.parse(E.dataset.gated)?H(E.querySelector(".nav-link-text").text+":unLocked",e):H(E.querySelector(".nav-link-text").text,e),F.classList.contains("active")||de(e))}function me(e){x=setTimeout((function(){f.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),h.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),ue(e),$(F).fadeIn(100,"linear")}),300)}function pe(){clearTimeout(x)}G.addEventListener("click",e=>{H("my account:Manage Now Profile",e)}),D.addEventListener("click",e=>{H("logo",e)});function fe(e){const t=q.lastOffset+R.visibleWidth,n={element:e[e.length-1],leftOffset:0,rightEdge:0};return n.leftOffset=n.element.offsetLeft-parseInt($(".upper-level-nav").css("padding-left")),n.rightEdge=n.leftOffset-parseInt($(n.element).css("padding-right"))+n.element.clientWidth,n.leftOffset<t&&n.rightEdge>t||n.leftOffset>t}function ge(e,t){R.visibleWidth=_.width();const n={rightEdge:q.lastOffset+R.visibleWidth,leftEdge:q.lastOffset},o={element:"",leftOffset:0,rightEdge:0},a=e[e.length-1];for(const s in e){""!=o.element&&o.element.classList.contains("partially-visible")&&o.element.classList.remove("partially-visible"),o.element=e[s],o.leftOffset=o.element.offsetLeft-parseInt($(".upper-level-nav").css("padding-left")),o.rightEdge=o.leftOffset-parseInt($(o.element).css("padding-right"))+o.element.clientWidth;const i=a.offsetLeft+a.clientWidth;if(n.rightEdge>i&&i-o.rightEdge<R.visibleWidth&&(n.leftEdge-=n.rightEdge-(a.offsetLeft+a.clientWidth)),o.leftOffset<n.rightEdge&&o.rightEdge>n.rightEdge||o.leftOffset<n.leftEdge&&o.rightEdge>n.leftEdge)return t&&(o.element.classList.add("partially-visible"),o.element.removeEventListener("click",me,!1),o.element.removeEventListener("mouseenter",me,!1),o.element.removeEventListener("mouseleave",pe,!1),P?(P&&L<1024||o.element.removeEventListener("mouseenter",ae,!1),o.element.removeEventListener("touchstart",ae,!1)):o.element.removeEventListener("mouseenter",ae,!1)),{partiallyVisible:!0,element:o};if(o.leftOffset>n.rightEdge)return t&&o.element.classList.contains("partially-visible")&&o.element.classList.remove("partially-visible"),{partiallyVisible:!1,element:o}}return!1}function he(e){if(A.hasClass("scroll")){const t=Array.from(f);for(const e in t)t[e].classList.contains("partially-visible")&&(t[e].classList.remove("partially-visible"),!te(t[e])||C?(t[e].addEventListener("click",me,!1),t[e].addEventListener("mouseenter",me,!1),t[e].addEventListener("mouseleave",pe,!1)):oe(t[e]));if("right"===e){const e=ge(t).element;if(void 0===e.leftOffset)return 0===q.lastOffset&&N.css("display","none"),!1;_.animate({scrollLeft:e.leftOffset},800),q.lastDisplacement=e.leftOffset-q.lastOffset,q.displacementsList.push(q.lastDisplacement),q.lastOffset=e.leftOffset,t.length>0&&(A.addClass("scrolled"),O.css("display","block")),fe(t)||N.css("display","none"),ge(t,!0)}else"left"===e&&(_.animate({scrollLeft:q.lastOffset-q.displacementsList[q.displacementsList.length-1]},800),q.lastDisplacement=q.displacementsList[q.displacementsList.length-1],q.lastOffset-=q.lastDisplacement,q.displacementsList.pop(),0===q.lastOffset?(O.css("display","none"),A.hasClass("scrolled")&&A.removeClass("scrolled")):A.addClass("scrolled"),fe(t)&&N.css("display","block"),ge(t,!0))}}function ve(e){const t=e.currentTarget,n=t.querySelector(".nav-link-text").innerText;JSON.parse(t.dataset.gated)?H(n+":unLocked",e):H(n,e);const o=t.querySelector(".nav-dropdown");y.activeClass="groups-active",y.mainLevelElementId=t.id,s.style.display="inline",o.classList.add(y.activeClass),o.querySelector(".nav-dropdown-wrapper").dataset.title=n,t.removeEventListener("click",ve,!1)}function we(e){const t=e.currentTarget,n=t.querySelector(".nav-dropdown-group-name").innerText,o=t.querySelector(".nav-dropdown-group-links");y.activeClass="links-active",y.groupLevelElementId=t.id,o.classList.add(y.activeClass),o.dataset.title=n,t.removeEventListener("click",we,!1)}function ye(e){const t=e.currentTarget,n=t.querySelector(".nav-link-text").innerText;JSON.parse(t.dataset.gated)?H(n+":unLocked'"):H(n);const o=t.querySelector(".nav-dropdown-col"),a=t.querySelector(".nav-dropdown-group-links");y.activeClass="links-active",y.mainLevelElementId=t.id,s.style.display="inline",t.querySelector(".nav-dropdown").style.display="unset",a.classList.add(y.activeClass),a.dataset.title=n,o.removeEventListener("click",we,!1),t.removeEventListener("click",ye,!1)}O.on("click",(function(e){he("left"),H("previous",e)})),N.on("click",(function(e){he("right"),H("next",e)})),deleteCookie("redirectionPage"),b="undefined"!=typeof ContextHub&&ContextHub.getStore("servicenow-sso").getItem("userName")?ContextHub.getStore("servicenow-sso").getItem("userName"):decodeURIComponent(function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}("userId"));C=null!=b&&"null"!=b,function(){if(C)e.classList.add("signed-in"),$(n).text(i);else{U=document.createElement("div"),U.classList.add("csc-meganav-tooltip");const t=document.createElement("div");t.classList.add("csc-meganav-tooltip-container");const n=document.createElement("span");n.innerHTML=$(e).data("tooltip"),t.appendChild(n),U.appendChild(t),document.getElementsByTagName("body")[0].appendChild(U)}}(),w||(n.addEventListener("click",(function(t){const n=window.location.href;if(t.preventDefault(),e.classList.contains("signed-in")){const e=$(".universal-form-wrapper.form-in-page");UFGeneral(e).generalServices.completeSignout(n),H("my account:sign out",t)}}),!1),d.addEventListener("click",(function(t){const o=window.location.href;if(e.classList.contains("signed-in"))$(e).toggleClass("login-open"),H("my account",t);else{H("sign in",t);const e=n.href;setCookie("redirectionPage",o,1),window.location.replace(e)}t.preventDefault()}),!1),setTimeout((function(){t.addEventListener("click",M,!1),t.addEventListener("mouseenter",(function(){event.target;e.classList.contains("search-open")?clearTimeout(S):L>1023&&(S=setTimeout((function(){j()}),500))}),!1),t.addEventListener("mouseleave",(function(){clearTimeout(S)}),!1)}),1e3));window.addEventListener("resize",re),re(),p.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()},!1)}),v.forEach(e=>{e.addEventListener("click",Q,!1);const t=e.querySelector(".icons");if(!t)return;const n=document.createTextNode(" ");if(t.appendChild(n),"true"===e.dataset.iconLock){const n=document.createElement("img");n.classList.add("icon","lock-icon"),n.src=C?l:r,t.appendChild(n),C||(e.addEventListener("contextmenu",e=>{e.preventDefault()},!1),e.removeEventListener("click",Q,!1),ne(e))}if("true"===e.dataset.iconNew){const e=document.createElement("img");e.classList.add("icon","new-icon"),e.src=c,t.appendChild(e)}}),s.addEventListener("click",(function(e){return e.stopPropagation(),m.querySelector("."+y.activeClass).classList.remove(y.activeClass),null!=y.groupLevelElementId?(m.querySelector("#"+y.groupLevelElementId).addEventListener("click",we,!1),y.activeClass="groups-active",void(y.groupLevelElementId=null)):"groups-active"===y.activeClass?(m.querySelector("#"+y.mainLevelElementId).addEventListener("click",ve,!1),y.activeClass=null,y.mainLevelElementId=null,void(s.style.display="none")):function(){const e=m.querySelector("#"+y.mainLevelElementId),t=e.querySelector(".nav-dropdown");e.querySelector(".nav-dropdown-col").addEventListener("click",we,!1),e.addEventListener("click",ye,!1),y.activeClass=null,y.mainLevelElementId=null,s.style.display="none",t.style.display="none"}()}),!1)}()}))},function(e,t){$(".component-event-navigation").length&&$((function(){!function(){const e=document.querySelector(".component-event-navigation"),t=e.querySelectorAll(".navigation-links-wrapper li a"),n=e.querySelector(".navigation-sign-in-button"),s=e.querySelector(".nav-menu-toggle");let i=0;const r=getCookie("userId"),l=e=>{switch(e){case"signed-in-unregistered":const e=$(".now-at-work-register-btn");e.length&&e.addClass("d-inline-block");break;case"signed-in-registered":const t=$(".now-at-work-sessions-btn"),n=$(".now-at-work-video-btn a");t.length&&t.addClass("d-inline-block"),n.length&&n[0].hasAttribute("data-brightcove")&&$(".now-at-work-video-btn").addClass("d-inline-block");break;default:const o=$(".now-at-work-register-btn"),a=$(".now-at-work-sign-in-btn");o.length&&o.addClass("d-inline-block"),a.length&&a.addClass("d-inline-block")}},c=t=>{switch(t){case"signed-in-unregistered":$(".nav-cta-register-now").addClass("d-inline-block");break;case"signed-in-registered":$(".nav-cta-manage-registration").addClass("d-inline-block");const t=e.querySelector(".navigation-logo-link").getAttribute("data-registered-link");e.querySelector(".navigation-logo-link").href=t,$(".navigation-link-item.smart-link").removeClass("d-none");break;default:$(".nav-cta-register-now").addClass("d-inline-block")}};document.addEventListener("user:checkRegisteredStatus",()=>{const e=(()=>{const e=getCookie("idToken");let t=null;return t=e?a().services.checkJSON(e).mail:getCookie("userId"),t})();e&&e.length&&$.ajax({url:"/bin/servicenow/user/contexthubeventregistration?userName="+e,contentType:"application/x-www-form-urlencoded",type:"GET",success(e){const t={ja:"japan21",apj:"asiapacific21",ams:"americas21",emea:"emea21"},n=(()=>{const e=new URL(window.location.href).pathname,n=Object.keys(t).find(t=>-1!==e.indexOf(t));return t[n]})(),o=e[n]&&e[n][0];o&&o.reg_status&&"registered"===o.reg_status?(l("signed-in-registered"),c("signed-in-registered"),document.dispatchEvent(new CustomEvent("nowAtWork:registered"))):(l("signed-in-unregistered"),c("signed-in-unregistered"))},error(e){}})});const d=e=>{$.ajax({url:o.YOUR_OKTA_DOMAIN+o.SESSION_URL,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(t){t.id&&e.success.call(this,t)},error(t){e.fail.call(this,t)}})};getServiceConstants(t=>{t&&(window.serviceConstants=t,a().services.updateOktaDomain(),a().services.updateOktaAuthApirUrl(),a().services.updateOktaClientId(),a().services.updateSeamlessRedirectURI(),a().services.updateAuthApiQueryParam()),d({success(t){if(t.login&&t.login.length&&(n.classList.add("signed-in"),document.dispatchEvent(new CustomEvent("user:signedin")),(()=>{const t=e.querySelector(".sign-in-text"),n=document.querySelector(".navigation-sign-in");e.querySelector(".navigation-link-group").classList.add("signed-in-state"),n.classList.add("signed-in"),t&&t.classList.add("hide")})()),null==r||""==r||null==r)setCookie("redirectionPage",window.location.href,o.REDIRECT_COOKIE_EXP),window.location.href=o.YOUR_OKTA_DOMAIN+o.OKTA_AUTHORIZE_API_URL+o.AUTH_API_QUERY_PARAM;else{const e=decodeURIComponent(r.trim().toLowerCase()),n=t.login?decodeURIComponent(t.login.trim().toLowerCase()):"";n&&e!=n&&(a().services.deminateCookieAndContextHub(!0),window.location.reload())}document.dispatchEvent(new CustomEvent("user:checkRegisteredStatus"))},fail(e){l("logged-out"),c("logged-out"),deleteCookie("idToken"),deleteCookie("userId"),deleteCookie("accessToken"),deleteCookie("login-token"),deleteCookie("seamlessLogin"),deleteCookie("xxsessionchecked"),a().services.deleteHttpOnlyCookie("login-token",!1)}})}),s.addEventListener("click",(function(){e.classList.contains("mobile-collapse")?(e.classList.remove("mobile-collapse"),$("body").removeClass("disable-scroll")):(e.classList.add("mobile-collapse"),$("body").addClass("disable-scroll"))})),t.forEach(e=>{const t=window.location.pathname;-1!==e.getAttribute("href").indexOf(t)&&t.length>1&&e.classList.add("active"),e.addEventListener("mouseenter",()=>{e.parentElement.parentElement.classList.add("add-shades"),e.classList.add("apply-default-shade")}),e.addEventListener("mouseleave",()=>{e.parentElement.parentElement.classList.remove("add-shades"),e.classList.remove("apply-default-shade")})}),window.addEventListener("scroll",()=>{const t=window.pageYOffset;t<i?(e.classList.remove("hide-nav"),e.classList.add("shadow-enable"),e.classList.remove("temporary-transparent")):t>80?e.classList.add("hide-nav"):t<=80&&(t>i&&e.classList.add("temporary-transparent"),e.classList.remove("hide-nav")),t<=80&&e.classList.remove("shadow-enable"),i=t<=0?0:t},!1)}()}));const n=$(".component-profile-overlay");n.length&&$((function(){!function(){const e=$(".overlay__close-btn"),t=$(".overlay-background"),o=$("body");document.addEventListener("nowAtWork:registered",()=>n.addClass("registered"));const s=e=>{e.preventDefault(),o.addClass("profile-overlay-open")};document.addEventListener("user:signedin",()=>{(()=>{const e=$(".navigation-sign-in-button.signed-in");e.attr("href","#"),e.on("click",s)})(),(()=>{$(".overlay-title").text();const e=$(".overlay-title .user-name"),t=ContextHub.getStore("servicenow-sso");let n="";if(t&&(n=t.getItem("fName")||t.getItem("firstName")),!n){const e=getCookie("userFName"),t=getCookie("idToken");switch(t&&(n=a().services.checkJSON(t).fn),!0){case n&&n.length>0:n=n.replace(/\+/g," ").trim(),n=n.charAt(0).toUpperCase()+n.slice(1);break;case e&&e.length>0:n=e.replace(/\+/g," ").trim();break;default:n="there"}}e.text(`, ${n}.`)})();const e=$(".sign-out-btn");e.on("click",t=>{t.preventDefault();const n=e.data("logout-redirect-path");a().services.completeSignout(n)})});const i=e=>{const t=e.target.classList;(t.contains("overlay-background")||t.contains("overlay__close-btn"))&&(o.addClass("profile-overlay-close"),setTimeout((function(){o.removeClass("profile-overlay-close profile-overlay-open")}),800))};e.on("click",i),t.on("click",i)}()}));const o={YOUR_OKTA_DOMAIN:"https://servicenowsignon.okta.com",SESSION_URL:"/api/v1/sessions/me",OKTA_CLIENT_ID:"0oakzlc2t3W1goPqt0x7",aem_logout:"/system/sling/logout",delete_httpOnly_cookie:"/bin/servicenow/user/deletecookies",SEAMLESS_REDIRECT_URI:"/bin/servicenow/v2/token",HOST_WITH_SCHEMA_AND_PORT:`${window.location.protocol}//${window.location.host}`,get AUTH_API_QUERY_PARAM(){return`?client_id=${this.OKTA_CLIENT_ID}&response_type=code token id_token&response_mode=form_post&scope=openid+profile&redirect_uri=${this.HOST_WITH_SCHEMA_AND_PORT}${this.SEAMLESS_REDIRECT_URI}&state=seamless&nonce=ServiceNowAemUser`},REDIRECT_COOKIE_EXP:1/24,OKTA_AUTHORIZE_API_URL:"/oauth2/default/v1/authorize"};function a(){const e={updateOktaDomain(){o.YOUR_OKTA_DOMAIN=window.serviceConstants?window.serviceConstants.yourOktaDomain:o.YOUR_OKTA_DOMAIN},updateOktaClientId(){o.OKTA_CLIENT_ID=window.serviceConstants?window.serviceConstants.oktaClientId:o.OKTA_CLIENT_ID},updateSeamlessRedirectURI(){o.SEAMLESS_REDIRECT_URI=window.serviceConstants?window.serviceConstants.seamlessRedirectUri:o.SEAMLESS_REDIRECT_URI},updateAuthApiQueryParam(){o.AUTH_API_QUERY_PARAM=window.serviceConstants?window.serviceConstants.authApiQueryParams:o.AUTH_API_QUERY_PARAM},updateOktaAuthApirUrl(){o.OKTA_AUTHORIZE_API_URL=window.serviceConstants?window.serviceConstants.oktaAuthorizeApiUrl:o.OKTA_AUTHORIZE_API_URL},aemLogout(e){$.ajax({url:o.aem_logout,type:"POST",success(){"function"==typeof e&&e()},error(){"function"==typeof e&&e()}})},removeQueryFromURL(){window.history.replaceState(null,null,window.location.pathname)},setCHValue(e,t,n){if(!ContextHub.getStore(e))return null;ContextHub.getStore(e).setItem(t,n)},getParameterByNameMyAccount(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},clearContextHub(){e.setCHValue("servicenow-sso","optInFlag",null),e.setCHValue("servicenow-sso","login",null),e.setCHValue("servicenow-sso","createdBy",null),e.setCHValue("servicenow-sso","createdOn",null),e.setCHValue("servicenow-sso","userName",null),e.setCHValue("servicenow-sso","firstName",null),e.setCHValue("servicenow-sso","lastName",null),e.setCHValue("servicenow-sso","fName",null),e.setCHValue("servicenow-sso","LName",null),e.setCHValue("servicenow-sso","industryGeneric",null),e.setCHValue("servicenow-sso","email",null),e.setCHValue("servicenow-sso","myEmail",null),e.setCHValue("servicenow-sso","secondaryEmail",null),e.setCHValue("servicenow-sso","uuid",null),e.setCHValue("servicenow-sso","userCode",null),e.setCHValue("servicenow-sso","updatedBy",null),e.setCHValue("servicenow-sso","updatedOn",null),e.setCHValue("servicenow-sso","userId",null),e.setCHValue("servicenow-sso","company",null),e.setCHValue("servicenow-sso","companySs",null),e.setCHValue("servicenow-sso","businessPhone",null),e.setCHValue("servicenow-sso","businessPhoneSs",null),e.setCHValue("servicenow-sso","jobLevel",null),e.setCHValue("servicenow-sso","jobLevelSs",null),e.setCHValue("servicenow-sso","jobRole",null),e.setCHValue("servicenow-sso","jobRoleSs",null),e.setCHValue("servicenow-sso","country",null),e.setCHValue("servicenow-sso","countrySs",null),e.setCHValue("servicenow-sso","emailValidated",null),e.setCHValue("servicenow-sso","jobFunction",null),e.setCHValue("servicenow-sso","jobFunctionSs",null),e.setCHValue("servicenow-sso","state",null),e.setCHValue("servicenow-sso","stateSs",null),e.setCHValue("servicenow-sso","status",null),e.setCHValue("servicenow-sso","termsCondFlag",null),e.setCHValue("servicenow-sso","termsCondChecked",null),e.setCHValue("servicenow-sso","optinChecked",null),e.setCHValue("servicenow-sso","optin",null),e.setCHValue("servicenow-sso","termsUseUrl",null),e.setCHValue("servicenow-sso","privacyUrl",null),e.setCHValue("servicenow-sso","no_no",null),e.setCHValue("servicenow-sso","businessUnit",null),e.setCHValue("servicenow-sso","productInterest",null),e.setCHValue("servicenow-sso","campaignId",null),e.setCHValue("servicenow-sso","campaign_type",null),e.setCHValue("servicenow-sso","ssoUserId",null),e.setCHValue("servicenow-sso","account_id",null),e.setCHValue("servicenow-sso","accountId",null),e.setCHValue("servicenow-sso","jobTitle",null),e.setCHValue("servicenow-sso","account_segment",null),e.setCHValue("servicenow-sso","account_type",null),e.setCHValue("servicenow-sso","industryGeneric",null),e.setCHValue("servicenow-sso","industrySpecific",null),e.setCHValue("servicenow-sso","mcid",null),e.setCHValue("servicenow-sso","okta_id",null),e.setCHValue("servicenow-sso","oktaId",null),e.setCHValue("servicenow-sso","industry_specific",null),e.setCHValue("servicenow-sso","industry_generic",null),e.setCHValue("servicenow-sso","typeText",null),e.setCHValue("servicenow-sso","segement",null),e.setCHValue("servicenow-sso","next_best_product",null),e.setCHValue("servicenow-sso","nextBestProduct",null),e.setCHValue("servicenow-sso","bu_customer_product_itsm",null),e.setCHValue("servicenow-sso","bu_customer_product_itom",null),e.setCHValue("servicenow-sso","bu_customer_product_itbm",null),e.setCHValue("servicenow-sso","bu_customer_product_hr",null),e.setCHValue("servicenow-sso","bu_customer_product_csm",null),e.setCHValue("servicenow-sso","bu_customer_product_pa",null),e.setCHValue("servicenow-sso","bu_customer_product_security",null),e.setCHValue("servicenow-sso","bu_customer_product_platform",null),e.setCHValue("servicenow-sso","crossSell",null),e.setCHValue("servicenow-sso","upSell",null),e.setCHValue("servicenow-sso","has_support_plan",null),e.setCHValue("servicenow-sso","userLoaded",null),e.setCHValue("servicenow-sso","progressiveProfileChecked",null),e.setCHValue("servicenow-sso","registered",null),e.setCHValue("servicenow-sso","account_name",null),e.setCHValue("servicenow-sso","account_number",null),e.setCHValue("servicenow-sso","oldest_product_family",null),e.setCHValue("servicenow-sso","latest_product_family",null),e.setCHValue("servicenow-sso","current_servicenow_family",null),e.setCHValue("servicenow-sso","implementation_status",null),e.setCHValue("servicenow-sso","application_name",null),e.setCHValue("servicenow-sso","recBU1",null),e.setCHValue("servicenow-sso","propensityBU1",null),e.setCHValue("servicenow-sso","app_usage",null)},clearContextHubEventStore(){ContextHub.getStore("servicenow-events")&&ContextHub.getStore("servicenow-events").clean()},deleteHttpOnlyCookie(e,t){getCookie("cq-editor-layer.page")||getCookie("wcmmode")||getCookie("cq-authoring-mode")?"function"==typeof t&&t():$.ajax({url:`${o.delete_httpOnly_cookie}?cookies=${e}`,type:"POST",timeout:3e3,complete(e){"function"==typeof t&&t(e)}})},deminateCookieAndContextHub(t){e.clearContextHub(),e.clearContextHubEventStore(),deleteCookie("idToken"),deleteCookie("userId"),deleteCookie("accessToken"),deleteCookie("login-token"),deleteCookie("seamlessLogin"),deleteCookie("userFName"),deleteCookie("upgradeSeamlessLogin");sessionStorage.removeItem("userName"),sessionStorage.removeItem("k21IsAutoLogin"),e.getParameterByNameMyAccount("isFromProfileLinking",window.location.href)||(deleteCookie("isEmailValidated"),deleteCookie("primaryAddress"),deleteCookie("linkedAddress")),t&&(e.setCHValue("servicenow-forms","formlessUserID",null),e.setCHValue("servicenow-forms","isSNEmail",null),e.setCHValue("servicenow-forms","name",null),e.setCHValue("servicenow-forms","timeStamp",null),deleteCookie("formlessExperienceEnabled"));{const t=arguments[1];e.deleteHttpOnlyCookie("login-token",(function(n){e.aemLogout(t)}))}},completeSignout(t){$.ajax({url:o.YOUR_OKTA_DOMAIN+o.SESSION_URL,type:"DELETE",contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success(n){window.location.href.indexOf("code=")>-1&&e.removeQueryFromURL(),e.deminateCookieAndContextHub(!0,()=>window.location.href=t)},error(n){e.deminateCookieAndContextHub(!0),window.location.href=t}})},checkJSON(e){try{return JSON.parse(e)}catch(t){return JSON.parse(decodeURIComponent(e))}}};return{services:e}}},function(e,t){$(".billboard-marquee-component").length&&$((function(){!function(){const e=document.querySelector(".billboard-marquee-counter-endtime");e&&function(){let t;const n=e.querySelector(".counter-time-day-number"),o=e.querySelector(".counter-time-hour-number"),a=e.querySelector(".counter-time-min-number"),s=e.querySelector(".counter-time-sec-number");!function(){const i=e.dataset.endDate,r=function(e,t){const n=new Date(""+e).getTime();return n+60*t*60*1e3}(i,0),l=(new Date(i).getTime(),r);t=setInterval(()=>{const i=Date.now(),r=l-i;if(r<0)return clearInterval(t),void e.classList.add("expired");!function(e){const t=Math.floor(e/1e3/60/60/24),i=Math.floor(e/1e3/60/60)%24,r=Math.floor(e/1e3/60)%60,l=Math.floor(e/1e3)%60,c=`${t<10?"0":""}${t} :`,d=`${i<10?"0":""}${i} : `,u=`${r<10?"0":""}${r} :`,m=`${l<10?"0":""}${l} `;n.textContent=c,o.textContent=d,a.textContent=u,s.textContent=m}(r)},1e3)}()}()}()}))},function(e,t){window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".event-overlay-navigation-container");if(e.length<0)return;const t=document.querySelector("body");e.forEach(e=>{const n=e.querySelectorAll(".component-overlay-speaker-container"),o=n.length;if(o>0){let a,s;1===o&&n[0].classList.add("single-overlay");const i=[],r=n=>{if(!n)return;const o=e.querySelector(`.component-overlay-speaker[data-index="${n}"]`),s=o.closest(".component-overlay-speaker-container"),i=o.querySelector(".component-overlay-speaker-left-col"),r=o.querySelector(".component-overlay-speaker-right-col"),l=o.querySelector(".component-overlay-speaker-right-col-nav-sec"),c=o.querySelector(".component-overlay-speaker-right-col-text-sec"),d=window.outerWidth,u=l.offsetHeight;o.classList.add("active-overlay"),s.classList.add("overlay-modal-open"),l.classList.add("top-menu-active"),t.classList.add("no-scroll"),d>=1024&&(c.style.height=`calc(100vh - ${u}px)`),a||(r.classList.add("overlay-col-slide-in"),d>=1024?i.classList.add("overlay-col-fade-in"):i.classList.add("overlay-col-slide-in"))},l=n=>{if(!n)return;const o=e.querySelector(`.component-overlay-speaker[data-index="${n}"]`),a=o.closest(".component-overlay-speaker-container"),s=o.querySelector(".component-overlay-speaker-left-col"),i=o.querySelector(".component-overlay-speaker-right-col"),r=o.querySelector(".component-overlay-speaker-right-col-nav-sec"),l=window.outerWidth;o.classList.remove("active-overlay"),a.classList.remove("overlay-modal-open"),r.classList.remove("top-menu-active"),t.classList.remove("no-scroll"),i.classList.remove("overlay-col-slide-in"),l>=1024?s.classList.remove("overlay-col-fade-in"):s.classList.remove("overlay-col-slide-in"),t.classList.remove("no-scroll")},c=()=>{window.location.hash="",history.pushState("",document.title,window.location.pathname)},d=()=>{a=s,s=window.location.hash.substr(1),r(s),l(a)};d(),window.addEventListener("hashchange",d),n.forEach((e,t)=>{const n=e.querySelector(".overlay-nav-previous-btn"),a=e.querySelector(".overlay-nav-next-btn"),s=e.querySelector(".overlay-close-btn-mobile"),r=e.querySelector(".overlay-close-btn-desktop"),l=e.querySelector(".component-overlay-speaker").dataset.index;i[t]=l;const d=0===t,u=t===o-1;d&&(n.classList.add("no-more-click"),a.addEventListener("click",e=>{window.location.hash=i[t+1]})),u&&(a.classList.add("no-more-click"),n.addEventListener("click",e=>{window.location.hash=i[t-1]})),d||u||(n.addEventListener("click",e=>{window.location.hash=i[t-1]}),a.addEventListener("click",e=>{window.location.hash=i[t+1]})),s.addEventListener("click",c),r.addEventListener("click",c)})}})})}]);