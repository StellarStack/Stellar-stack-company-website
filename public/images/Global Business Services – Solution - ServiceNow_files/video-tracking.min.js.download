var debugTracking=!1,ms00=!1,ms25=!1,ms50=!1,ms75=!1,ms90=!1,carousel=[],carouselStatus={};function getYouTubeVideoId(e){var t=e.toLowerCase().lastIndexOf("=");return-1!==t?e.substring(t+1):e}function resetMileStonesVars(){ms00=!1,ms25=!1,ms50=!1,ms75=!1,ms90=!1}function printTrackingLog(e){debugTracking&&console.log("VTJS : "+e)}function getBrightcoveVideoId(e){return printTrackingLog(),e.toJSON()["data-video-id"]}function trackMilesStones(e){var t="",a="",i=null,r=!1,n="",o="",g=e.target;if(g&&"object"==typeof g){var d="brightCovePlayer"===g.id&&$("#"+g.id).length,s=g.o&&"youTubePlayer"===g.o.id&&$("#"+g.o.id).length;if(d)bcid=g.id,t="bc",a=videojs(bcid).toJSON()["data-video-id"],n=(i=videojs(g.id)).duration(),o=i.currentTime();else s&&(t="yt",a=getYouTubeVideoId((i=g).getVideoUrl()),n=i.getDuration(),o=i.getCurrentTime())}void 0===e.target&&(i=e,r=!0);var l=.25*n,c=.5*n,v=.75*n,m=.9*n;o<l?ms00||(setTrackingParams(),videoDigitalData="bc"==t?{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}}:{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},_satellite.track("video: start"),ms00=!0):o>=l&&o<c?(ms00||(setTrackingParams(),videoDigitalData="bc"==t?{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}}:{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},_satellite.track("video: start"),ms00=!0),ms25||(_satellite.track("video: 25"),ms25=!0)):o>=c&&o<v?(ms00||(setTrackingParams(),videoDigitalData="bc"==t?{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}}:{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},_satellite.track("video: start"),ms00=!0),ms25||(_satellite.track("video: 25"),ms25=!0),ms50||(_satellite.track("video: 50"),ms50=!0)):o>=v&&o<m?(ms00||(setTrackingParams(),videoDigitalData="bc"==t?{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}}:{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},_satellite.track("video: start"),ms00=!0),ms25||(_satellite.track("video: 25"),ms25=!0),ms50||(_satellite.track("video: 50"),ms50=!0),ms75||(_satellite.track("video: 75"),ms75=!0)):o>=m&&(o<n||o==n&&!r)?(ms00||(setTrackingParams(),videoDigitalData="bc"==t?{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}}:{vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},_satellite.track("video: start"),ms00=!0),ms25||(_satellite.track("video: 25"),ms25=!0),ms50||(_satellite.track("video: 50"),ms50=!0),ms75||(_satellite.track("video: 75"),ms75=!0),ms90||(_satellite.track("video: 90"),ms90=!0),o==n&&$("section.component-video-modal").length>0?(_satellite.track("video: complete"),resetMileStonesVars()):r&&("bc"==t&&i.off("timeupdate",showUpdate),resetMileStonesVars())):r&&resetMileStonesVars()}function onModalPlayerReady(e){printTrackingLog("*** Inside onModalPlayerReady");var t=getYouTubeVideoId(e.target.getVideoUrl());if(null!==e.target&&void 0!==e.target){var a=e.target.getPlayerState();-1===a||5===a?(printTrackingLog("Video Status before playing  = "+e.target.getPlayerState()),printTrackingLog("Video not playing. Starting video."),isMobileResoution()?(printTrackingLog("Mobile Version not playing video"),printTrackingLog("video loaded "+e.target.getVideoLoadedFraction()),printTrackingLog("video Status "+e.target.getPlayerState())):(printTrackingLog("%%%Desktop Version so playing video"),e.target.playVideo(),printTrackingLog("video loaded "+e.target.getVideoLoadedFraction()),printTrackingLog("Video Status "+e.target.getPlayerState())),printTrackingLog("Video Status after playing = "+e.target.getPlayerState())):printTrackingLog("Video already playing, Status ="+e.target.getPlayerState()),printTrackingLog("############# YT MPR Setting Video Tracking Name : "+t)}}function onModalPlayerStateChange(e){printTrackingLog("*** Inside onModalPlayerStateChange");var t=e.target.getPlayerState(),a=e.target.getVideoUrl(),i=getYouTubeVideoId(a);printTrackingLog(a+" = Video URL , VideoId = "+i),0==t?(printTrackingLog("**Completed Utube Video URL "+a),printTrackingLog("**Completed Utube Video ID"+i),printTrackingLog("############# YT- MPSC Setting Video Tracking Name : "+i),trackMilesStones(e),videoDigitalData={vidplayer:{video:{name:i,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},printTrackingLog("*** DTM - video: getDuration "+e.target.getDuration()),printTrackingLog("Calling  MilesStone Handler"),_satellite.track("video: complete"),printTrackingLog("Fired complete from Modal change #30"),printTrackingLog("%%Resetting Tracking Vars"),resetMileStonesVars()):2==t?(printTrackingLog("Paused : Pausing Milestone Tracking"),trackMilesStones(e)):3==t?(printTrackingLog("Buffering : Pausing Milestone Tracking"),trackMilesStones(e)):1==t?(printTrackingLog("Playing : Calling Milestone Tracking"),trackMilesStones(e)):5==t&&(printTrackingLog("Video CVued"),trackMilesStones(e))}function setTrackingParams(){s.enableVideoTracking=!0,s.enableVideoTracking&&(s.loadModule("Media"),s.Media.autoTrack=!1,s.Media.trackVars="events,eVar5,eVar6,eVar7,eVar19 ",s.Media.trackEvents="event33,event34,event35,event36,event37,event38,event39,event40,event42",s.Media.trackUsingContextData=!0,s.Media.contextDataMapping={"a.media.name":"eVar5","a.media.segment":"eVar7","a.media.playerName":"eVar19","a.contentType":"eVar6","a.media.timePlayed":"event33","a.media.view":"event34","a.media.segmentView":"event35","a.media.complete":"event36","a.media.milestones":{25:"event37",50:"event38",75:"event39",90:"event42"}},s.Media.trackMilestones="25,50,75,90",SegmentByMilestones=!0,s.Media.trackSeconds=5)}function modalVideoShowUpdates(e){printTrackingLog("**Time Update Event Occured"),trackMilesStones(e)}function onModalVideoEnd(e){printTrackingLog("**BC Video End event Occured"),bcid=e.target.id,printTrackingLog("Video Type = BC "+e.target.toString()),setTrackingParams();printTrackingLog("player = "+this),printTrackingLog("BCID = "+bcid);var t=getBrightcoveVideoId(this);printTrackingLog("vid new= "+t),videoDigitalData={vidplayer:{video:{name:t,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}},_satellite.track("video: complete"),printTrackingLog("%%Resetting Tracking Vars"),resetMileStonesVars()}function thankYouResourceTimeUpdate(e){null!=e&&(printTrackingLog("Tracking Brightcove video for ThankYouResource"),trackMilesStones(e))}function onThankYouPlayerReady(e){printTrackingLog("Thank You Resource Player Ready");var t=getYouTubeVideoId(e.target.getVideoUrl());videoDigitalData={vidplayer:{video:{name:t,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},setTrackingParams()}function onThankYouPlayerStateChange(e){printTrackingLog("Inside Thank You Player State Changed");var t=e.target.getPlayerState(),a=e.target.getVideoUrl(),i=getYouTubeVideoId(a);printTrackingLog(a+" = Video URL , VideoId = "+i),0==t?(printTrackingLog("**Completed Utube Video URL "+a),printTrackingLog("**Completed Utube Video ID"+i),printTrackingLog("############# YT PSC Setting Video Tracking Name : "+i),trackMilesStones(e),videoDigitalData={vidplayer:{video:{name:i,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},printTrackingLog("*** DTM - video: getDuration "+e.target.getDuration()),printTrackingLog("Firing complete #22"),_satellite.track("video: complete"),resetMileStonesVars()):2==t?(printTrackingLog("TY Paused : Pausing Milestone Tracking"),trackMilesStones(e)):3==t?(printTrackingLog("TY Buffering : Pausing Milestone Tracking"),trackMilesStones(e)):1==t?(printTrackingLog("TY Playing : Calling Milestone Tracking"),trackMilesStones(e)):5==t&&(printTrackingLog("TY Video CVued"),trackMilesStones(e))}function videoCarouselTimeUpdate(e){printTrackingLog("******show update evnt occured on video carousel BC video "+e.target.toString().indexOf("HTMLDivElement")),trackMilesStones(e)}function onVideoCarouselPlayerReady(e){printTrackingLog("***Video carousel Player Ready")}function onVideoCarouselPlayerStateChange(e){var t=getYouTubeVideoId(e.target.getVideoUrl()),a=e.target.getIframe().getAttribute("id");if(null!==e.target&&void 0!==e.target){var i=e.target.getPlayerState();printTrackingLog(carouselStatus[a]+" ****Video carousel Player changed "+a),printTrackingLog("Status = "+i),0==carouselStatus[a]&&-1!=i&&(printTrackingLog(carouselStatus[a]+" ** Video not started and start event not fired"+a),carousel.push(a),printTrackingLog("*****Firing Start event for videocarouse YT "+e.target.getCurrentTime()),setTrackingParams(),videoDigitalData={vidplayer:{video:{name:t,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},printTrackingLog("**Firing YT videocarousel Start event"),_satellite.track("video: start"),carouselStatus[a]=1,printTrackingLog(carouselStatus[a]+" ^ Fired Start from trackMilesStones #17.")),0===i&&(setTrackingParams(),printTrackingLog("Firing End event for videocarouse bc "+t),videoDigitalData={vidplayer:{video:{name:t,contentType:"video",segmentName:"n/a",playerName:"youtube"}}},printTrackingLog("**Firing YT videocarousel End event"+t),_satellite.track("video: complete"),printTrackingLog(i+"Fired complete from trackMilesStones #18."),carouselStatus[a]=0,printTrackingLog("**VideoCaorusel start event reset to "+carouselStatus[a]))}}function videoCarouselStartEvent(e){var t=e.target.id,a=this.toJSON()["data-video-id"];setTrackingParams(),videoDigitalData={vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}},_satellite.track("video: start"),printTrackingLog(a+" $$$$Fired Carousel Video Start event ###START "+t)}function videoCarouselEndEvent(e){var t=e.target.id,a=this.toJSON()["data-video-id"];setTrackingParams(),videoDigitalData={vidplayer:{video:{name:a,contentType:"video",segmentName:"n/a",playerName:"brightcove"}}},_satellite.track("video: complete"),printTrackingLog(a+" @@@@@Fired Carousel Video end event ###END "+t),this.one("play",videoCarouselStartEvent)}